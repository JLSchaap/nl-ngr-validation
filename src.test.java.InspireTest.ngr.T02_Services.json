[{"line":2,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":132901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.385 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":200101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":242402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":232401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":235401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":612903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":142601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":20771325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","description":"","id":"22bedc12-e9cb-4419-8e51-dfb375d46d01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":105301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":41101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":1829073459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":1429708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":827904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":744604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":793305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1120607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":977106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":214101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":820605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":834305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":800205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":380903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":326302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.248 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":941105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":245502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.249 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":15748795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":332502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.266 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":162801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":210001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.266 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1009406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":178401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.267 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":3163018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.270 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":888005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1235507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3059618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":186601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.405 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":109300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":166901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":284602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":424103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":200401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":559103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":156700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":3597921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd414384-0bcb-4188-86e2-2843e12a579e","description":"","id":"dd414384-0bcb-4188-86e2-2843e12a579e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":90601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":56600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":889348229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":1152907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":696004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":811905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1124707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1175507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":875906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":167601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":859905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":962706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1362808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":412503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":415403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:15.312 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1096906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":325802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:15.314 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":907205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":269702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:15.315 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":274101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":281002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:15.316 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":861205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":586804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:15.317 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":299802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:15.318 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":864105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":8265150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":784504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":103701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.422 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":143000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":196602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":367702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":178701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":533503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":135701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":621304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","description":"","id":"7b4a0b26-5885-45cd-a99d-27887cff68e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":1909235938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":1531509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":938606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":778904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":843505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1183007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1063006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":177401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":820305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":750504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1844911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":850405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":622603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.347 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":751904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":3169419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.351 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":789305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":498803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.352 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":156501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":505103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.353 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":820605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":513803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.354 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":713004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.355 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1235007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1808511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":667804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":103801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:14.419 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":149001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":180101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":384703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":188001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":569503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":137701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":5168231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"755d488b-7b94-4883-95be-6aa279604f85","description":"","id":"755d488b-7b94-4883-95be-6aa279604f85","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":90801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":45101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":1952694700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":936805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":744705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":707704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":710705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":939105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":136101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":796605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":900406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":776204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":476502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":565104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.389 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":788905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":529403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.390 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":844005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":541403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.391 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":151900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":503803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.392 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":544704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.393 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":693304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.394 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":851505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":989306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":904305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:15.330 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":73800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":144301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":194601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"777f41ee-8269-4bbc-b0e4-f889c62be099","description":"","id":"777f41ee-8269-4bbc-b0e4-f889c62be099","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":65000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":1088479121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":792005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":732904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":702504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":737004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1007206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":807304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":122201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1053607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":843905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":977606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":599503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":707704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:16.430 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":920305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":634104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:16.432 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":825905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":706205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:16.434 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":237001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":647404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:16.434 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1098907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":743105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:16.436 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":1832511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:16.438 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":986906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1608410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":746904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":104700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.281 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":213901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":232002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":476903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":185901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":532403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":140001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":499703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","description":"","id":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":3527221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":86500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":61700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865560985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":946005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":725205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":683204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":779204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1081307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":831705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":143901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":837705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":824605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":841205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":313602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":867705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.163 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1202907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":675904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.165 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":924606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":430202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.166 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":625904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.167 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":831905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":407503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.168 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":844205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.169 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":839705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":710904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":523404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.363 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":163101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":690504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":542503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":191001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":660704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":163701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":577303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"17ad94f6-4961-448b-a6f5-5368b7870409","description":"","id":"17ad94f6-4961-448b-a6f5-5368b7870409","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840957438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":731904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":646004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":597104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":594603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":651404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":623704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":673104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":793905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":757905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":400903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.215 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":664504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":228101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.216 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":682504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.217 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":319501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.217 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":750904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":160901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.218 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":351402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.219 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":734605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":648204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":633904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":93900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.400 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":172901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":306402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":478503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":197801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":529903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":154001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":537503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5471a93b-cf18-43f5-9ddb-71987857435d","description":"","id":"5471a93b-cf18-43f5-9ddb-71987857435d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850013692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":854305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":750904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":645604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":674204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":723604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":668204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":669704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":585204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":262901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":253602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.261 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":628204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":277802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.262 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":649404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":315402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.263 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":288402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.263 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":683404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":260702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.264 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":232201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.264 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1027307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":743704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":606804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:16.445 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":83700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":167201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":206002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":650404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":235201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1220708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":163201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":636704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","description":"","id":"0606e8cb-fa51-402c-a3be-19fd724b0a10","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":83300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839660931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":1586410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":726904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":730505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1139107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":740004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":877905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":586004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":673504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":708304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":296402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":311102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:17.298 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":606404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":281701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:17.299 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":574004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":257001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:17.300 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":738705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:17.300 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":831305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":395402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:17.302 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":300502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:17.302 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":680104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":814605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3525222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.174 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":94500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":375002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"46873d16-6835-48c4-b47f-134ab0cb31fa","description":"","id":"46873d16-6835-48c4-b47f-134ab0cb31fa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":77200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849366188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":846405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":645004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":640604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":677604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":793105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":690004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":593704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":933205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":149200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":835905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.033 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":683704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":539303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.034 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":706805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":442502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.036 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":103001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":368202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.036 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":706505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":444202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.037 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":582603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.038 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":912306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":820805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":495703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.223 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":566503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":751704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":214901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","description":"","id":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845341565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":891806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":928405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":783305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":660204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":810405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1231907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":705004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":625904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":772905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":3906623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":485703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.083 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":7084543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":261002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.090 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":668404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":435602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.091 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":394802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.092 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":853105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":928305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.094 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":788105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.094 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":703904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":870306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":699404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.269 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":82700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":288602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":369703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":319902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","description":"","id":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849993493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":744704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":891006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3082418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":676905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":743604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":662004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":57601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":698604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":592604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":214902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":180801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.130 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":642104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":222701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.131 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":646104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":261502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.132 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":208201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.132 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":904105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":333202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.134 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":237901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.134 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":805605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":747105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":849505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:17.309 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":1077707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":227601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","description":"","id":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860305255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":1037806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":754805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1708510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":680504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":699505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":687604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":714405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":581603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":582803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":277002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":283302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.181 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":695304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":279402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.182 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":633504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":272202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.183 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":357502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.183 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":774904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":295302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.185 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":294902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.185 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":674604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":739705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":504203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.043 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":387402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":406902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":364902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97312a37-4ebf-4526-94e6-b29e90c2944a","description":"","id":"97312a37-4ebf-4526-94e6-b29e90c2944a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":81100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854805221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":1103007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":975306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":652504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":713304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1181707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1093506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":133601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":859705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1332908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":807205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":844805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":898605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.912 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":771005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":609704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.913 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":783705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":530503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.915 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":183601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":529604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.916 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":749304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":749305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.917 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":738904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.918 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":744204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":5719234,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":711904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.102 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":528203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":891905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":380303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","description":"","id":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":835883508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":879205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1184207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":963806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":733604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":897705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":800105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":149201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":738504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":764004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":680404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":505004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":582003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.950 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":876006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":494203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:18.951 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":897705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":487003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:18.953 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":135101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":321302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:18.953 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":870006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":501303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:18.955 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":675204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:18.955 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":901605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":689404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":541203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.139 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":300602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":211701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"664862cb-d426-4ee4-97ac-14c12b903b54","description":"","id":"664862cb-d426-4ee4-97ac-14c12b903b54","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849058887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":751304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":893306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":894405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":793705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":860605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":792105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":125301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":685904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":788205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":767605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":613604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":616803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:18.999 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":842505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":564803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.001 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":665704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":485603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.002 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":324602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":640103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.003 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":824805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":640903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.004 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":830505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.005 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":773904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":678704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":674104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.190 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":361402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":229402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","description":"","id":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":62200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874852642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":1129407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":798005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":871305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":712805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":870405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":802105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":140001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":878105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":739304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":841405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":739105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":833405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.077 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":898105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":614903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.078 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":728205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":510203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.080 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":204901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":495403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.080 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":805404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":507003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.082 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":747504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.082 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":964306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":704304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":514003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.931 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":198301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":202301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":228802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":465803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":179901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":500503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":131201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":455402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"745968a3-37af-4406-988e-ec595f58c7fe","description":"","id":"745968a3-37af-4406-988e-ec595f58c7fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":59300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":37901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847338477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":833505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":635304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":630704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":608104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":761204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":650504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":566603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":684504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":583004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":721804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.789 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":621004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.790 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1071907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.791 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":91500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.791 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":634904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.792 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":72400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.792 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1415709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":949206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":517903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":91200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:18.960 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":221201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":175802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":662404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":364802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":950006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":213001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":634104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"73286af2-d0f4-4a62-9455-86ffa45ef279","description":"","id":"73286af2-d0f4-4a62-9455-86ffa45ef279","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":116100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":150001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849339388,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":599404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1182207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":729405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":624103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":764205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":686504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":761304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":884005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":594403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":204901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":445303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.823 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":629203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":210502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.823 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":593403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":209402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.824 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":193401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.825 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":827905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":268002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.826 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":219901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.826 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":790504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":602104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":507603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.011 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":268402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":213001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":797805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":192501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":513003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":140901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":476903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e29b19de-d191-47f2-b944-5056a7674cce","description":"","id":"e29b19de-d191-47f2-b944-5056a7674cce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":73900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852100606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":649004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":630404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":652904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":592303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":650204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":957206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":700804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":712904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":623204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":369702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.874 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":664204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.875 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":864906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.876 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":322302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":445803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.877 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":624604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":331802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.878 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":215401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.878 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":659604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":620404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":563303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.089 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":86700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":168201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":197701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":530303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":200802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":557503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":182701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":491803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"060d1139-c371-4c1e-9890-55999adfa4f9","description":"","id":"060d1139-c371-4c1e-9890-55999adfa4f9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":41101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846715173,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":701104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":621404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":659804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":923306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":912305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":690204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":642404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":568504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":437103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":471702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:19.947 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":616503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":376203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:19.948 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":824005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":391702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:19.949 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":513203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":468903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:19.950 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1106307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":888805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:19.952 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":730105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:19.953 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":853205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1267807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":611904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.797 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":231702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5f0c583a-101e-45ea-b684-a056713cf811","description":"","id":"5f0c583a-101e-45ea-b684-a056713cf811","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":72701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":870248914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":1029306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":656704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":651104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":662304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":716205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":640704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":700904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":691304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":631104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":298802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":305002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.677 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":680704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":213001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.678 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":591403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":210901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.678 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":199101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.679 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1060506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":357402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.680 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":268701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.680 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":823005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":882006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":463903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.830 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":480203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":523903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":231201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94ed09fe-1753-4861-8c62-d66251b7cde3","description":"","id":"94ed09fe-1753-4861-8c62-d66251b7cde3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865603286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":1442508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":962606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":938206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":743604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":784805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":727305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":751204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":643803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":867705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":288402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":303002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.706 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":211501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.707 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":634104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":208101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.708 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":180201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.708 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":958006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":268901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.710 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":252902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.710 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":837005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":664604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":584504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.883 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":229902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","description":"","id":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866941394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":916605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":835405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":969205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":777704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":960106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":914606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":717604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":669404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":766104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":320902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1020607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.761 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":937205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":453303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.762 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":911206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":431602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.764 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":428402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.764 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":808305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":462903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.765 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":775505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.766 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":705904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":767505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":500403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:19.958 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":119401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":327402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1322708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":467403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d533012-21ad-4a5b-a97e-a76988270273","description":"","id":"7d533012-21ad-4a5b-a97e-a76988270273","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":99200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849028086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":717704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":630804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":601203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":13590282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":968206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":895605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":156701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":946206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":789205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":24637248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":361102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":229301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:20.855 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":867105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":175801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:20.856 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1553009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":467603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:20.859 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":137601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":429602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:20.859 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":674805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":479402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:20.860 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":880006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:20.861 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":755004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":713405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":543203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.685 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":300202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","description":"","id":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863796760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":1000206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":628904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":616404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":590504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1005006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":752905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":116501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":680804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":688604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":809405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":655504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":683704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.559 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":770405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":465203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.560 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":648904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":509203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.562 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":129401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":424203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.562 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":633304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":606204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.563 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":717604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.564 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":636304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":697504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":507104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.714 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":312002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":191001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"702060c1-b3fd-44ec-8cc6-d4249d150110","description":"","id":"702060c1-b3fd-44ec-8cc6-d4249d150110","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":79500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873314425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":820205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":859206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":679004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":756705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":931906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1008406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":139501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":744305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":727804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":767405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":168201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":584904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.598 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1134607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":172601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.599 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":856306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":214401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.600 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":148101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":267402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.601 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":777105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.602 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":209701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.602 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":690104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":517203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":497803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.771 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":353402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","description":"","id":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":66200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841857342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":638104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":644904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":652204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":694705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":766004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":924206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":648404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":800505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":777505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":279202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":334302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.622 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":736104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":289201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.623 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":612104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":289102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.624 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":266702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.624 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":638004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":306402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.625 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":353802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.626 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":735005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":510903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":527103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:20.871 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":150101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":163401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":458503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":194601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":648504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":164501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":445303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","description":"","id":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":879128093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":888805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":709305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":783605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":604303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":918506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":852006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":664304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":924405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":866206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":321602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:21.761 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":626903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:21.762 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":853905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:21.763 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":250801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:21.763 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":120801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:21.764 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:21.764 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":728405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":812905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":638004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.569 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":184201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":158701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":514803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":249902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":463503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":117100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":435203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","description":"","id":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846590746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":967106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":625104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":676504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":907106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":641404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":647304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":656104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":638004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":156101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":352402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.426 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":632004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.427 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":683904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.428 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":136101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":123401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.428 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":625204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":164601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.429 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":254102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.429 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":742104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":733905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":457103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":119101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.607 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":71500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":166501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":176002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":546503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":207401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":543304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":146401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":284002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a6098c24-4caf-4528-954c-672b9ec6cf78","description":"","id":"a6098c24-4caf-4528-954c-672b9ec6cf78","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849132561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":765004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":691805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":877305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":753505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":752704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":777405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":769004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":802305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":907705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":326802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":336902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.467 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":812605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":280301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.468 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":646105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":284401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.469 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":114201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":223102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.469 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1482109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":241701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.471 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":184102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.471 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":873105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":795105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":581804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":185501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":464103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":158201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":119101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":264202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a149d97f-0d55-462e-9956-5b47bea00a8d","description":"","id":"a149d97f-0d55-462e-9956-5b47bea00a8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":65100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":874541419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":762605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":688304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":760705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":789705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":730005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":860005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":627204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":611904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":612404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":745305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":281202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.516 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":940605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":307001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.517 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":798304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":264301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.518 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":213401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.519 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":853705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":237802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.520 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":164201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.520 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":740805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":693304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":7264945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:21.769 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":72900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":588703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":223301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b7880739-a701-4cc0-bb32-2bba61fa8924","description":"","id":"b7880739-a701-4cc0-bb32-2bba61fa8924","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849084261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":826005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":644704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":4210226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":730804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":877906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":669105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":626104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":4575828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":216601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:22.635 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":673604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:22.636 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":606004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":132600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:22.637 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":112901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":253701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:22.637 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":931906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":313002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:22.639 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":898206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:22.639 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":692704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1220708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":567903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.434 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":488603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":69500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":476403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":185601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","description":"","id":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852878485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":1212307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":909706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":815605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":751904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":682804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":673904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":594504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":328902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.297 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":691004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":243302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.298 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":194401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.299 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":165801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.299 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":731305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":213601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.300 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":632404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.300 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":694504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":730105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":485703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.485 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":493403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":473503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","description":"","id":"97b49056-8ace-426c-ae3e-bf7efe4c000f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858007616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":1066806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":770805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1128207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":673705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":668704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":595603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":177201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.353 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":706104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.354 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":691104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.354 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":139401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":65300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.355 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":941606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":348202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.356 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":151001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.356 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":971206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":834306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":500303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.532 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":381502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":166901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","description":"","id":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839400801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":639304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":814505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":966906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":672404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":739705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":569604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":701104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":797605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":136301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.381 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.382 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":750004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.383 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":115701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.383 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":686605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.384 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":133401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.384 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":691704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":518504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":766805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:22.651 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":78600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":395602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":5512535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":346902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2931d583-9633-49d3-ad38-aabea82f6751","description":"","id":"2931d583-9633-49d3-ad38-aabea82f6751","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":75100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845654840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":1474509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":760705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":632703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":626303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":847405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":738604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":621804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":825605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":806105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":196801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":734404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:23.515 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1161108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":194101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:23.516 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1093407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":217701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:23.518 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":395403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":148101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:23.518 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":993706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":170801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:23.519 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":400303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:23.520 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1076007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":603203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.305 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":399403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feeae7d3-7485-4a39-895c-ed65e945ced0","description":"","id":"feeae7d3-7485-4a39-895c-ed65e945ced0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856288106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":1320308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":708305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":654304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":588803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":809606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":759004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":715505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":726404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1195508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":345002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":332802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.172 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":854505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":189602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.173 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":811305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":158101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.174 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":1677510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":423603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.176 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":772805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":179601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.177 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":235402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.177 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":713004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":642404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":791305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.361 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":113801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":393002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":481203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","description":"","id":"c7dad4b9-42a8-452f-a33b-d4938ed22142","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":76400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839368302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":838005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":857405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":929005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":641104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":955606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":944106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":644504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1883912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":737305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":212401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1749011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.213 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":821905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":545903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.214 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1038206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":698204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.216 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":131701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":547604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.216 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":720204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":496903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.218 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":651605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.218 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":639904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":587603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":547204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.388 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":321202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":366102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":223102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","description":"","id":"ff8f6da2-949e-4838-90f6-fd895a4a240f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":76300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849713465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":703105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":706704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":608004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":604604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1054206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":908505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":820605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":764205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":662404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":150801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":707004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.260 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":697504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":480803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.261 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":593004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":231202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.262 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":125901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":200201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.262 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":922206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":184201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.264 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":425503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.264 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1323508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":489503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":474903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:23.525 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":139401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":156201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":448803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":177801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":623204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":158901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":210101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","description":"","id":"kkhrn250-dxu9-167i-w6so-8566t16b30ve","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":365902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861018836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":820505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":604704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":617804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":583203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":738905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":662404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":806205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":546503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":549604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:24.395 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1409209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:24.397 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1067007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":104701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:24.398 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:24.398 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":713405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:24.399 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:24.399 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":758004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":632504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":479203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":89400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.182 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":150001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":207001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":447603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":149601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":847105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":138601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":147301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","description":"","id":"ebd6ea46-ee7b-432f-83c4-058c889a790d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":89101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838142194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":875905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":706205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":753304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":658904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":852605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":714504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":655204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":685404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":130801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.030 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":760305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":84400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.031 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":809305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.032 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.032 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1011506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.033 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.033 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1083107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":713004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":465003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":120400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.235 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":169301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":231702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":422502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":235902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":581104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":118400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":147101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","description":"","id":"f39d198a-1e69-43cc-b359-cc60a8c22d28","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":302202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843281826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":639004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":889205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":781805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":745505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":848805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":744605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":556104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":563803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":569003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":220901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":201701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.089 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":599504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":198601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.090 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":618004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":285602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.091 [print] OGC:SOS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":184401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.091 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.092 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":219101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.092 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":606404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":899206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":523403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":72601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.269 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":127201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":147201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":389802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":110601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","description":"","id":"c99b1291-c51f-49c8-902d-5bd4148cbbde","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":868775083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":681604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":855305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":673504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":681804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1140108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":728204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":626904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":593704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":606604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.147 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1294908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.148 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":900606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.149 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.150 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":830605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":155601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.151 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.151 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":864205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":644704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":450803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:24.404 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":351102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":992706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":158001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c39474-aef9-4169-95da-9890af440b14","description":"","id":"03c39474-aef9-4169-95da-9890af440b14","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":146401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848588558,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":995506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":732704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":885806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":738204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":730704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":622704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":650204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":121300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.262 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":978306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.263 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":801205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.264 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":139501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.264 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1046107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":107800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.265 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.266 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":865205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":799905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":533404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.038 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":75700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","description":"","id":"ac3ee940-4f98-427c-a2d9-58696005d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":136501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855471001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":1048306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":744205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":796505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":824205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":853505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":699705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":611104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":864505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":798905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":412203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.903 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":979606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.904 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":929406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.905 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.905 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":823305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.906 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.907 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":749605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":783305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":518303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.096 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":301502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":425002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":167601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91041d33-54f8-40f1-8965-a867ba00cab8","description":"","id":"91041d33-54f8-40f1-8965-a867ba00cab8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846892448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":793205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":660704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":631204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":600504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":672904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":644804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":584304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":592804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1627110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":181801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:25.952 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1021706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:25.953 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":654904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:25.954 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:25.954 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":677104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":154401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:25.955 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":494903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:25.955 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":11675273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":972606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":526903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.155 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":332602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":71201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7f79fc69-d0c7-4913-a05a-527c90453297","description":"","id":"7f79fc69-d0c7-4913-a05a-527c90453297","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":143201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842067918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":1067807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":729605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":677204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":727204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1161207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":918706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":119800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":791904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":763404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":813505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":895406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":889606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.009 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":776404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":482203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.010 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":644404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":511503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.011 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":465803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.012 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":970406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":575903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.013 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":614804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.014 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":660204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":712205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":547403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.270 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":490203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":81100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","description":"","id":"b4485d59-a945-4940-a2f5-3ce7de6a947b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837082487,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":1092807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":668404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":663604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":663304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1247107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1032707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":147501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":761505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":732404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":982207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":295602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":355902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.118 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":757905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":247101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.119 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":703405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":306802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.120 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":153801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":190701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.120 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":717605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":227801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.121 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":213101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.122 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":654105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":638904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":554403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.911 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":382803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":176901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":565004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56093b94-7517-456d-a0d4-338aba3d8c74","description":"","id":"56093b94-7517-456d-a0d4-338aba3d8c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842512521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":963206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":729705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":660704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":737504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":834505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":882705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1070107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":725104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":969806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":237302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":635304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.764 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":941206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":182601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.766 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":867005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":274501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.767 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":137001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.767 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":651104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":180802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.768 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":157201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.768 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":708504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":928406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":417503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":79100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:25.972 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":189301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":159101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":530203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":189501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":509303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":114101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":225501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"00e8746f-5031-413e-8343-9203c8ea82ee","description":"","id":"00e8746f-5031-413e-8343-9203c8ea82ee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841385614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":737105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":681204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":648604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":819105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":920806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":125601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1147307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":795805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":769905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":325302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":301202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.824 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":747505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":361802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.825 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":672404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":303402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.826 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":262102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.826 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":695304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":298602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.827 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":310302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.828 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":674104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":911006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":467303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.019 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":162301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":153801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":442103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":155301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":497203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":116301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":570204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","description":"","id":"1e01d173-96f4-40b1-8236-c6a9cfdac252","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":81200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":831277351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":640804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":643304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":624204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":616804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":856906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":749404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":573403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":582404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":587104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":235801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":240502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.860 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":613404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":228501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.861 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":628404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":230802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.862 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":423403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.862 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":874505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":370402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.863 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":737405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.864 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":794105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":668704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":899606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":79200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.129 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":115801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":197001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":248902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":563103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":185802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":521003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":113101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1512609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","description":"","id":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841323514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":969706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":682204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":666304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":758204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":789305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1003107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":664504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3553422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":642804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":467003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":320902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:26.990 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":656905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":264201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:26.991 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":651304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":309702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:26.992 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":320902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:26.992 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":819505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":368902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:26.993 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":306001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:26.994 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":673804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":726504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.773 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":193401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":182101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":458003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":147301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":106300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":176101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","description":"","id":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":136801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":81500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849693265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":1299708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":784505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":789305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1059607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1273608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":890005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1010006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":733705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":666804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.635 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":649804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.636 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":668104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.636 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.636 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":693605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.637 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.637 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":659304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":719504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":464203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.835 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":117001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","description":"","id":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":95800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859319725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":893006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":711804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":675104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":650605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":740304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":697605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":980906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":774605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":872405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":147401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.703 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":676904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.704 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":638904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.705 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.705 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":716905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.706 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.706 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":751904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":718305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":451203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:26.870 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":341002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":351202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":121301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","description":"","id":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":56400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851344276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":697504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":641304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":625704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":688004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":821505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":726304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":583504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":581504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.729 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":722705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":137301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.730 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":641904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.731 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.731 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":962506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.732 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":86000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.732 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":765904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":669404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":474103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.006 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":400803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1069007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","description":"","id":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848120055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":851905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":758205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":766405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":714104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":807305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":809005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":873205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":627004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":945505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:27.865 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":666804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:27.866 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1055007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:27.867 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":58900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":364102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:27.867 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":941405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:27.868 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":696104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:27.869 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":715105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":660504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":427003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.641 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":349402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":160401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":512503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37308f90-e619-4b62-ae9e-e656bb3f1649","description":"","id":"37308f90-e619-4b62-ae9e-e656bb3f1649","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882224867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":1013406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":697905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":659404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":904205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":6894642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":798005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":113301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":688804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":683904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":784105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1462309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1386208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.542 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":6297239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":358102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.549 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":952806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":515403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.550 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":172801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":327302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.551 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1053607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":3621622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.555 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":285401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.556 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":783205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":626604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":902506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.712 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":410303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":387203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bd14098b-44e6-47e5-959d-f40dda65da5a","description":"","id":"bd14098b-44e6-47e5-959d-f40dda65da5a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":774304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":928352553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":935506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":640304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":640204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":817005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":737305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":8126651,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":763505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":812205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":368502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":415903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.658 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":770605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1169507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.660 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":915906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":853905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.662 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":606604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":361402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.663 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":837005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":321102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.664 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":219601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.664 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":703104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":666804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1068906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.736 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":310802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":80300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","description":"","id":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":942601541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":1024706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":977606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":610203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":589803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":781105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":812805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":668704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":647104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":661904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":2358615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":3382521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.693 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":736705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":287302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.694 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":632504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1697310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.697 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":135301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":255302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.697 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":714905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":342202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.698 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":259201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.698 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":629804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":512404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":456002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:27.873 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","description":"","id":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":318402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":880591957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":743204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":831706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":666004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":619804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":945506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1231708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1173707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":698704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":175601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":199901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:28.765 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":694005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":197701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:28.765 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":671004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":197602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:28.766 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":160001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:28.767 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":654304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":173701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:28.768 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":168101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:28.768 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":661704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":569404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":4186526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.562 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":105800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":212202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":213501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":848206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":5010831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":682704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":184701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":6947043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","description":"","id":"ea4cb6a2-f637-413a-91cc-d58473c2f138","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840085386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":1238108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":824405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":619603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":612403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":740505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":690104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":615603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":647204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":945205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":441802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":194101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.425 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":660904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":183801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.426 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":811705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":174501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.427 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.427 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":964906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":177301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.429 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":151800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.429 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1245907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":724505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":646004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.670 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":172201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":1670511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":549603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":185801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":15854098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":149101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":563503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","description":"","id":"923a666c-ee4f-496c-8c85-94d5f81e1f30","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":135401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857019981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":959505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":650904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":671504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1021106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":749605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":648304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":562204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":563603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":675205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":513003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":504603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.555 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":587704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":402602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.556 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":563103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.558 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":339402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.558 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":636704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":407902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.559 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":657604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.560 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":770804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1644710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":450603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.704 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":141301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":229901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":409203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":153701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":431503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":127200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":590103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d293204f-6581-4b0a-811b-1dcce97adedd","description":"","id":"d293204f-6581-4b0a-811b-1dcce97adedd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":879436417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":686204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":674004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":770004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":707204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":798305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3463221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":724305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":779705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1113307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":566303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":586104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.597 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":686604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":366303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.598 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":628304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":415202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.600 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":341102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.600 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":839505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":631004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.601 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":598904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.602 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":839405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":7864548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1249908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:28.776 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":157701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":192502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":467803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":157301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":446802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":111301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":585904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","description":"","id":"364c5d7a-d6ec-11ea-87d0-0242ac130003","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":69500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":886053452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":751804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":632704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":914406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":662104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":721504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":688605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":582104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":150801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":718204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:29.672 [print] #notpresent \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":923005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":602504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:29.673 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":905206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":121700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:29.675 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":379203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:29.676 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":639104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":414702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:29.677 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":851705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:29.678 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":823905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":843905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":408803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.434 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":485203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":161401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","description":"","id":"7dc30aed-0940-4e69-b34c-9f24b34078eb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858866358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":837205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":652904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":612004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":803705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":979406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":790705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":734205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":619104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.301 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":696604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.302 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":598204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":170201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.303 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.303 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":750404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":183601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.304 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":83200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.304 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":766505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":703304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":427303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.565 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":353803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68505be5-45c4-4889-a82a-125043bbdc44","description":"","id":"68505be5-45c4-4889-a82a-125043bbdc44","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854167129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":942606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":807705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":798605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":619804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":790205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":651304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":564404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":561703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":567804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":683504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.428 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1037806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.430 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":996106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.431 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":392202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.431 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":993506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.432 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":619904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.432 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":679504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":626304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":632304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.615 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":351102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":226002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"539ec652-482d-4806-a830-0458cf8be477","description":"","id":"539ec652-482d-4806-a830-0458cf8be477","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842825960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":917106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":755705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":679604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":651504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":689504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":647404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":576204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":722305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":759904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":279102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":281402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.467 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":654304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":296902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.468 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":614404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":257101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.469 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":342502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.469 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":836205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":698604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.471 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":260402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.471 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":679504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":560904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":403702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:29.682 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":150601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c47e4ef8-951e-4765-8d01-29150c12a22d","description":"","id":"c47e4ef8-951e-4765-8d01-29150c12a22d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848438695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":2286314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":16903003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1465608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":801704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":59812666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":964506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":626303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":662004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4824729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":414603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":316102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:30.622 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":713204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":307202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:30.623 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":608804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1378809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:30.625 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":120400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":270602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:30.626 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":645704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":2715817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:30.626 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":235201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:30.629 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":813605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":592204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":383302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.308 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":447903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","description":"","id":"72f30ca1-3b80-4020-b9ed-301b1a88df39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866391004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":1069307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":677304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1009707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":947105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":627304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":711305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":713604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":163901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":250302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.184 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":900605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":249102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.186 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1073907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":178601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.187 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":191701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":135701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.187 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":811805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":205201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.188 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":268302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.189 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":855605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":602304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":458503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.437 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":319702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":555503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":181001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","description":"","id":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865167397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":1059507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":698704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":786005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":833605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":797405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":154801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":624104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":627904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":648904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":694204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.313 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":649504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":474303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.314 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":630904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":518003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.315 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":116500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":454003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.316 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":605604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":586604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.317 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":769404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.318 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":621004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":487003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.475 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":281502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":275502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a931e334-b752-4935-8a98-00eddc443789","description":"","id":"a931e334-b752-4935-8a98-00eddc443789","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":913931295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":902406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":661304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":593604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":616504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":886305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":733205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":138601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":615703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":896606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":700104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":499003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.398 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":799505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":319502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.399 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":594904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":355702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.400 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":108201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":306602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.400 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":656004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":342802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.401 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":275502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.402 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":796305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":441803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:30.634 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":143001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":137700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":136601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":421102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":162201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","description":"","id":"82fa284e-8218-40e4-a593-c2f8a832c3d5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":299002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864075590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":784405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":648504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":724104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":558404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":628904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":629904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":522703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":532003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":536104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":308902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":349702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:31.507 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":676604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":315902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:31.509 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1393109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":376102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:31.510 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":251801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:31.511 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":625604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":249402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:31.512 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":221101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:31.512 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":655404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1236708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":683104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":109600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.193 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":158501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":407202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":143501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":513804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":144300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":163901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","description":"","id":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":154501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876667267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":1122807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1040907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":897706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":892406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":907405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":735805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":668604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":406402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":382003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.081 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":682104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":315102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.082 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":662904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":324102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.083 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":262301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.083 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":377503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.085 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":336602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.085 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":897505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":847806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":553303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.322 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":77900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":131201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":154801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":137701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":494603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":120701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":424503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","description":"","id":"b81f9ce3-f612-4761-ba37-4c8afda9033a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847000886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":1183007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":705004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":719305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1493509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":789905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":649904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":679204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":442202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":447303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.181 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":910406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":324002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.182 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":822605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":273802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.183 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":62000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":244002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.184 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":777104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":280601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.185 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":289502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.185 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1985312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1316909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":545203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.406 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":145101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":282102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":450303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","description":"","id":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":113500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845046873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":951006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":786904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":878206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1328908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1001606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1030307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":726805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":905306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":797604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":434002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":316902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.263 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":784205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":359102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.264 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":813205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":294801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.265 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":104801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":330102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.266 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1048307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.267 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":268702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.267 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":857105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1072807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":471602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:31.516 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":216202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6b608d4e-5628-4d59-97fc-0322c57357b2","description":"","id":"6b608d4e-5628-4d59-97fc-0322c57357b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848553695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":1115307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":830905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":767905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":666104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":843205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":853906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":930806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":120401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":158301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.374 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":871005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.375 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":668204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.376 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":105901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.376 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":757905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":105900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.377 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":88201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.377 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1006306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":864405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":675405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.090 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":503503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":212801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be1b57b-2cac-4119-92eb-700346543d47","description":"","id":"5be1b57b-2cac-4119-92eb-700346543d47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":67700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":835641316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":894406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":744205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1020206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":793105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":811105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":651104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":831905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":638204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":774505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":337702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":282002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:32.936 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":613003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":271301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:32.937 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":655204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":183801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:32.937 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":141901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:32.938 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":875705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":272302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:32.939 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":227401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:32.939 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":684605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":704904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":894405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.191 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":347002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":406903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":277302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","description":"","id":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":78901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847879691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":887306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":682404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":643304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":767205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3936224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":605504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":649504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.051 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":646004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.052 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":616804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":110301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.053 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":113501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.053 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1741710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.055 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.055 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1567109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":673805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":622203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.272 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":479403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":539504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","description":"","id":"641a0f48-872b-4470-b130-e3d28e6bfdfb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":98601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":61900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":895514383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":1231708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":785905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":764604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":689005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":745704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":15226994,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":267601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1306308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1108306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1478309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":455803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":387402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.195 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":809305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":396703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.196 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":724704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":547903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.197 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":178901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":502503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.198 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":726604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":348603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.199 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":331302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.199 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":740404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":632704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3278721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.382 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":74200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"070014b4-1f63-4819-beea-000b7d5f8d86","description":"","id":"070014b4-1f63-4819-beea-000b7d5f8d86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847416188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":1038806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1390908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":639704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":618704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1126307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":725305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":128301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":866105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1277008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":684504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1322708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":887706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.241 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":837105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":177501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.243 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":918805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":175001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.244 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":256401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":572304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.245 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":720004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":282902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.246 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":237701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.246 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2663016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":611904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":427502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:32.943 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":92001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"257b960c-ece6-4e0f-b893-77b219c6133f","description":"","id":"257b960c-ece6-4e0f-b893-77b219c6133f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":986806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856742245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":1162807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":814105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1511509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":827106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":919405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":741205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":129401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":728804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":753905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1362008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":279602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":783305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.813 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":884806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":339702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.814 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":732704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":200602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.815 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":127100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":166701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.816 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1651910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":983006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.818 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":200301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.819 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":717205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":680504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":616704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.060 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":445103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","description":"","id":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861367274,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":1235308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":724204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":644004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":604704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1410809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":655104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":114501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":804705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":633904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":423202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":323901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:33.932 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1430708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":313002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:33.934 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":883306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":315302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:33.935 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":255601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:33.935 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":668404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":269202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:33.936 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":258702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:33.937 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":690704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":496103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":387102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.208 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":1158107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":171601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":165301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":468703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":205801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":580104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":320302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","description":"","id":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":71400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838053430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":1533009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":614304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":545703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":564904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":852505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4170526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1269508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":557803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":724105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1081306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.062 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":396902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.063 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":549003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1392309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.065 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":174501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.065 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":981006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.066 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":76900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.067 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1274607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":700705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":461803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.255 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":433402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":157701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":144901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":523603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","description":"","id":"7c664a91-1aa2-4923-9d17-6a43e4075f47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":73600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856081741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":715704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":618804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":565504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":858905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":800205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1245308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":545403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":511703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":500303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.121 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":554804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":68800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.121 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":536203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.122 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.122 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.123 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.123 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":871505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":762805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":464003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.824 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":158401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":167901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":546403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":149501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":556204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":132101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":245901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"92826f1e-040d-4099-b9e1-cab6bfc520af","description":"","id":"92826f1e-040d-4099-b9e1-cab6bfc520af","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":104601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846005779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":927806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":642804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":707604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":603304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":685204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":679204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":541903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":542404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":547003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":932706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.680 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":586603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.681 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1043906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.682 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":482302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.682 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":757204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.683 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.683 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1259507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":867806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":368802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":76500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:33.941 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":131801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":111501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":262301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","description":"","id":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844096168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":799005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":657504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":610104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":596804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":628903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":605204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":714804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":555603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":645904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":869705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.795 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":660104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":401002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.796 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":571804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":385502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.797 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":380103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.797 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":709904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":436203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.798 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":533803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.799 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":805805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":717405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":383802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.073 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","description":"","id":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842938261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":886405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":791005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":608704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":611904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":642404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":629204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":763604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":691904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":229601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.925 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":644904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.926 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:34.927 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:34.927 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":620304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:34.927 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:34.928 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":625703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":510504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":508803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.127 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":82500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1088707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6308500-3439-4840-88cb-7532cabbfcb4","description":"","id":"c6308500-3439-4840-88cb-7532cabbfcb4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860459968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":876605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":972006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":662704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":740305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1093707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1102707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":792205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":710804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":635704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":149501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:34.998 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":613804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:34.999 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":623203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.000 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.000 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":662804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.001 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.001 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":768205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":645404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":430003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.688 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":73900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":97200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","description":"","id":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":312402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":156501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839210037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":1178308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":940906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":832105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":708104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1057207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":678204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":592104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":530003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":141701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":726105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.537 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":167201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.538 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":601503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.541 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":131601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.542 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":607103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":118701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.543 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":108700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.543 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":701604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":635204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":440603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.803 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":411602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","description":"","id":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":55001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853278624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":970306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":848805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":733205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":648004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":679704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":651404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":679604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":641204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":666804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":733105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.666 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":629504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.667 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":848405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.668 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":299502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.668 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1063206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.669 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":1027206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.671 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":985206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":700404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:34.931 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":71400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":366602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","description":"","id":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845789778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":929906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":676904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1795411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":995206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":892506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":812205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":600804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":622704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":458202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":507603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.788 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":637204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":425102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.789 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":669604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":424402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.790 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":351102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.790 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":719804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":793505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.792 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":1033707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.793 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":911805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":682105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":396702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.006 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","description":"","id":"f61eec5c-cb91-40b6-ad35-9bca967006cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":73800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844315669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":1240708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":831505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":674304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":674305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":701204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":845805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":54401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":626504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":574203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":563304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":149601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:35.859 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":594404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:35.859 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":641104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:35.860 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":81601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:35.860 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":724504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:35.861 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:35.861 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":686004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":929906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2273114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.549 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":410702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":85101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0426f471-f325-42ed-a775-81c397592e86","description":"","id":"0426f471-f325-42ed-a775-81c397592e86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":254701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838777935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":918405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":709905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":679004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":682904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":925506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":732304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":700004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":611804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":802305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":215201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":159101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.397 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3077819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":242601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.413 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":195501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.414 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":125501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.414 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":770505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.415 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":204001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.415 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":740905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":626004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":610103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.675 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":865306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":396102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","description":"","id":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838600434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":854105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1069407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":821405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":639804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":827605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":695204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":560904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":871605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":617404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":310802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.525 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":620304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":3982124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.529 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":762504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":195402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.530 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":102001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":160501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.531 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":611904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":182401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.532 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":174801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.532 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":637104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":839005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.798 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":361702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0898d4a9-8fe6-46e9-8855-1242d8028970","description":"","id":"0898d4a9-8fe6-46e9-8855-1242d8028970","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844945873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":969905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":634103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":590903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":546404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":969006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":945405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":209801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":732404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":677905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":607903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":598904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":623204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.653 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":676104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":572304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.654 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":692504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":439303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.655 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":95601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":413502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.656 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":616104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":418303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.657 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":784704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.657 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":577804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":980106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":9221257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:35.868 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":366002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":425202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":417102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","description":"","id":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843971367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":777704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":604104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":650804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":656404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1020206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":951305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":752905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":826605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":755305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":558603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":693905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:36.722 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":697704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":456903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:36.723 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":661604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":446803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:36.725 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":534604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:36.725 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":678504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:36.727 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":628004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:36.727 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":632104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1132807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":472303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":427803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.423 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":174901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":223102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":541903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":159401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":471603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":96501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":201101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","description":"","id":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":74401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843989764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":830905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":640803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":616104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":869305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":722105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":844505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":732405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":730704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":147100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":754905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.278 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":646504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.279 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":816505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.280 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.281 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":985806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.282 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.282 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1185907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":500703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":376902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.538 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":302602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":161001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":569803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":235602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":152701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1512b29e-80d4-4677-bcae-a3f9f82a223d","description":"","id":"1512b29e-80d4-4677-bcae-a3f9f82a223d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":323402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":55300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839891436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1512b29e-80d4-4677-bcae-a3f9f82a223d'","result":{"duration":690904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":601504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":686604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":688704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":655604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":756405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":566403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":561004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":578503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":431203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":338802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.387 [print] https:\/\/service.pdok.nl\/brt\/top10nl\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":846205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.389 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":882106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":280401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.390 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":258101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.390 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":830806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":302201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.391 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":187801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.391 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=29d5310f-dd0d-45ba-abad-b4ffc6b8785f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":862105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":929306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":432503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.672 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":124301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":144601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":87400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":647404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"87a382da-c6dc-403c-a006-2379eb6daaa6","description":"","id":"87a382da-c6dc-403c-a006-2379eb6daaa6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843168153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":1044506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":658404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":620504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":589104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":646404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":661204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":703505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":569203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":594104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":349502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":351202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.525 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":631104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":300902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.526 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":569304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":249801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.527 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":227601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.527 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":471703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.529 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":6727341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.535 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":623104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":562103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:36.737 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":123101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":124801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":378702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":468203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","description":"","id":"dc9fbc85-1263-4a1b-b001-7be701a6039e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843236351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":836905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":613504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":763304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":812405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":705805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":705104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":745305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":522103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":587804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":244601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:37.595 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":615204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:37.596 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":766604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":186402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:37.597 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":91800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:37.597 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":707904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:37.598 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:37.598 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":868805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":539503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":392903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.287 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","description":"","id":"b5ee6914-04bd-4c7e-a180-242371ae40d9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":328802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852299195,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":959806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":739105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":692604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":758805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":994006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":886605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":665904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":600404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":703904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":207301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.148 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":615904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.149 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":714104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.150 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":130201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.150 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":795704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.151 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":146801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.151 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":676504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":951806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1840411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.396 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":448603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":218802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","description":"","id":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851182388,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":760005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":743504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":617004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":622004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":656904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":758505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":578103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":616003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":619304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":712504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.256 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.257 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1044306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.258 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":298502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.259 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":920905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.260 [print] RDW \n","line":56}},{"name":"print operateson","result":{"duration":659804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.260 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":712905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":684504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":478703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.540 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":236401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","description":"","id":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":68601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848022969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":662204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":583504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":571003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":553204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":671404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":649404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":802105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":622104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":148501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.395 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":575904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.396 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":530004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.397 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.397 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":933206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.398 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.398 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":733204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":504703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":354203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:37.602 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":300502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":320802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","description":"","id":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":142901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856523021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":880905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":702805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":614704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":606003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":656704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":632104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2064912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":792105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":834305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:38.469 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":594904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:38.469 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":624704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:38.470 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:38.470 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":654004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":113701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:38.471 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":73100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:38.471 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":674504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":502103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":460203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.157 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":371702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":378202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35546103-58eb-4f61-a858-a6fbc5a7e814","description":"","id":"35546103-58eb-4f61-a858-a6fbc5a7e814","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843608341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":1135107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":752004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":676104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":685905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":696104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":658804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":701705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":601203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":595204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":131801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.009 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":676004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.010 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":559703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.011 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.011 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":656804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":102400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.012 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.012 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":721404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1063907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":375702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.264 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":322702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d01c1ca-973c-4652-baa5-39458bb9e181","description":"","id":"3d01c1ca-973c-4652-baa5-39458bb9e181","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":517803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855093212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":1032506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":724904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":608604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":597703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":961606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":659804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":580703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":581304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":566903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":109101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.128 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1332808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":384502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.130 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":642303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":375502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.131 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":366602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.131 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":701304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":449103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.133 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":672404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.133 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":823105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":667004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":563304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.401 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":275002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":311302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d7ca7bc-99de-4539-af33-70b206f29355","description":"","id":"0d7ca7bc-99de-4539-af33-70b206f29355","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d7ca7bc-99de-4539-af33-70b206f29355'","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839286015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d7ca7bc-99de-4539-af33-70b206f29355'","result":{"duration":1178207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":639904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":586604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":582703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":620104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":842505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":571703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":572704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":559103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":157201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.249 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":567403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.249 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":548203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.250 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.250 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":591303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.251 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.251 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":625504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":685704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:38.474 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":252001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":327402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":82600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"95e2c712-1b91-4f24-9453-c56b95227717","description":"","id":"95e2c712-1b91-4f24-9453-c56b95227717","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849046175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":950605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":679805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1362008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":843805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":724305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":20105822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":208302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1098606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":786604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":773505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":978806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":693205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.354 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":814205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":208201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.355 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":930506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":234901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.356 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":360502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":167201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.357 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1129006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":157401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.358 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":401902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.359 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1115107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":500303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":379202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.016 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":318402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1008306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a12ae6ca-b755-4707-884f-95c0d66f431a","description":"","id":"a12ae6ca-b755-4707-884f-95c0d66f431a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":381402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":835527793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":869005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":606304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":576704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":602903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1049806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":848505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":579304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":589703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":593804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":132001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":685704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.862 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":602604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.862 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1198107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.864 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":338402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":418303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.864 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":655304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":183001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.865 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":522804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.866 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1097106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":567904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":454603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.138 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","description":"","id":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":389002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841634930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":1038707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":620803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2045213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":729705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":802705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":627603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":577004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":602803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":668004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":191401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":848605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:39.990 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":665804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":178001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:39.991 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":724904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":212702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:39.993 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":104600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":225402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:39.993 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1006907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":249301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:39.995 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":553404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:39.995 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":666204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":620904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":446703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.255 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":177601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","description":"","id":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853185600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":1122807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":727304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":683404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":649304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":919006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":681404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":949206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":674304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":872005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":195701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":327302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.118 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":896605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":171101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.119 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":649804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":233801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.120 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":108301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":175301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.120 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":232701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.121 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":176601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.121 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":814505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":705505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":505303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.363 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":126501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":138501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":123201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":431403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"914a6e0c-2aae-42f8-8425-2a047c245dab","description":"","id":"914a6e0c-2aae-42f8-8425-2a047c245dab","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854230906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":1043706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":733105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":662504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":667404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1031406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":778105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":733605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":737004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":627604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":122601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.228 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1422708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":415402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.230 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":661104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":397703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.231 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":371102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.231 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":815305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":470903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.232 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":550104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.233 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":747404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":618404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":361102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:39.871 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":116800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":351502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":148500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":394202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","description":"","id":"1009c2a4-4dba-49a5-b643-914ba8b80b52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":633104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853854105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":874405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":774005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":689104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":597703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":816405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":675604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":618103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":772204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":733605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":797805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":584303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.736 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":642404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":397303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.737 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":668804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":400303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.738 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":361502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.738 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":411102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.739 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":667605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.740 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":912705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":715905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":438202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.000 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":124300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":121900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":402303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":139401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":415102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"01572637-b851-4cc3-b06a-56c1ae1115cc","description":"","id":"01572637-b851-4cc3-b06a-56c1ae1115cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":834750188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":976206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":798805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":678804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":756504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":875306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":967506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":696904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":680005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":695804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":809505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.846 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":678804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":451002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.847 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":758104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":456803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.848 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":416803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.849 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":804805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":493403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.850 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":733405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.851 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":778204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":780504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":407203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.126 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":219702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":158901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":424502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":146601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":102501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":146601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d467c2cc-4026-b80a-d4e1a9d2bf79","description":"","id":"d467c2cc-4026-b80a-d4e1a9d2bf79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845386252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":2027713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1229007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":872905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":798305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":946606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":756004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":649704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":700804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":996006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:40.984 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":874205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":450103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:40.985 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":675405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":422702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:40.987 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":397102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:40.987 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":846305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":476002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:40.988 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":684105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:40.989 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":854905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":715404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":403503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.240 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":88900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","description":"","id":"e222648d-d19e-4a99-a67d-2af1c9aabd75","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860532545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":1018307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":675304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":656204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":835005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":929406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":833405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":648304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":628204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":698905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":337702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.109 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":776904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.110 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":776605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.111 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":121001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":271901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.112 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.113 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":230302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.113 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":657704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":681004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":342502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.745 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":398102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","description":"","id":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":59600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852696697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":1315308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":837006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":698204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":777205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":694204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":639304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":750404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":665904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":710305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":560003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.608 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":653304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":268002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.609 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":232401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.610 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":148801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":291402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.611 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":735004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.612 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":267202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.612 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":916905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":809305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.855 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":431103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","description":"","id":"24055de7-dcff-487a-8f9a-7aee4f0d8351","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":62601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":877963951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":911906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":690404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":749605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":660104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":771705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":725404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":589603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":635004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1061907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.742 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":692005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.743 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":787104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.744 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.744 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":893106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.745 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":73800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.745 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":700404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":690505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":443502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:40.994 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":388202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d568785-efdd-429d-b491-56f785c3656a","description":"","id":"1d568785-efdd-429d-b491-56f785c3656a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":60400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845318253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":1085006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":762804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":665804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":658604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":859606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":781105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":618204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":675004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.849 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":654704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.850 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":636403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.851 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.851 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":961806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":159501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.852 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.852 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1018406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":747005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":475103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.117 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":87400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":330202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6de8b875-c4c2-4469-ac80-0782bb67f285","description":"","id":"6de8b875-c4c2-4469-ac80-0782bb67f285","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847555666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":1229207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":832005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":643304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":642104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":696904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":643004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":583904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":614504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":181801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:41.973 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":592804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":218901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:41.974 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":714405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:41.975 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:41.975 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":684804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":165001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:41.976 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":71600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:41.976 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":786705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":751605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.616 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":72601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":424803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","description":"","id":"7d641d0e-c04b-4191-833e-c578ac2abe5f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":93900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854918511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":958106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":620803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":605103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":725705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":864205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":694304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":599604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":970906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":629104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":156801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1043806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.481 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":687404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":163101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.482 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":819305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":162601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.483 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":329602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":168301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.484 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":877805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":163601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.485 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":408803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.485 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1005106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":459903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.750 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":338402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1230407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce0a3f8e-6713-455f-805e-a067162c287d","description":"","id":"ce0a3f8e-6713-455f-805e-a067162c287d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":60800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841095327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":1170407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":682505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":641404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":680004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":934006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":780204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":627704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":715404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1031107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":257202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1129407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.603 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":859105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":2580616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.606 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":867205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":208601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.608 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":112601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":199301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.608 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":198302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.609 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":189001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.610 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":809405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":482203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1666611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.856 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","description":"","id":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855272813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":1004007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":703104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":750405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":770604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":976206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1731710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":938906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1040606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":837005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":184602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":654304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.723 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1067806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":190801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.724 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":659504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":191101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.725 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":767605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":239601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.727 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1013806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":290402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.728 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":187701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.728 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":849305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":591404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:41.980 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":374302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","description":"","id":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":921036614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'","result":{"duration":1420909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":944806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":959205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":618803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":836005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":767104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":773605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":680904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":215301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":882706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:42.911 [print] https:\/\/service.pdok.nl\/cbs\/gebiedsindelingen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":679904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":212601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:42.912 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":824005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":197101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:42.914 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":130701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":175801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:42.914 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":729805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":245201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:42.916 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":417802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:42.916 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1222008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":570503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":359902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.490 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":157001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":125901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":117601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":170801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ca52-85123f579","description":"","id":"ef2a7962-8bb4-483f-ca52-85123f579","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":397002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842865238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":1021806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":722405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":818405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":776305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1017406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":876205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":645004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":587103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":874006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":126001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":103900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.343 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":929906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.344 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":904405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.345 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":172801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.346 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":996806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.347 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":79501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.347 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1049006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1000006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":432303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.617 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":129801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":124601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":126200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":475102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":563203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":572903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846521959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'","result":{"duration":3135019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1751910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":551804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":557703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":692505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":621303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":615704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":533503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":689305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":195701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.477 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":718304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":154701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.478 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":653504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.479 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":209902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.479 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":823905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.480 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":294601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.480 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":614304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":698805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":389102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.733 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":129201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":180501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":611204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":219101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":142601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":161801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ac78-851b619f357f","description":"","id":"ef2a7962-8bb4-483f-ac78-851b619f357f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":407803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850251282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":981306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":751404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":686204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":643503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1029606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":785605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":555603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":643304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":593704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":894206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":125200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.595 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":648503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.596 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":710805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.597 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.597 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":873905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.598 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":108600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.598 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":761705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":660704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:42.921 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":387102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":89100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":138801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","description":"","id":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":583003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851790092,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":950306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":848405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":712504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":662204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":769004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":847706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":698504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":602804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":576404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":177801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:43.783 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1176007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:43.784 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":154101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:43.785 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:43.785 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":654204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:43.786 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":69500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:43.786 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1438009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":679704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":417703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.351 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","description":"","id":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":72000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852786198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":937006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":897406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":739704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":747205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":886205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":782405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":615304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":621503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":590603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":172901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.213 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":935106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.214 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":768904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.215 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.215 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":710404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":105201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.216 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":77700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.216 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":680904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":858405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":684104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.484 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":320202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","description":"","id":"52d0313e-0d2b-44b4-b51e-d9e504307f70","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":134501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":831938271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":1074106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":786705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":733105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":657704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":686504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":592504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":803705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":646804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":602904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":188001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.325 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":794005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":106901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.326 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.326 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.327 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":950106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.328 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":151701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.328 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":688705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":791305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":432402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.602 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":162601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","description":"","id":"cb13a608-3d78-4f79-ba60-be63ccd6e268","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849715279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":887306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":648604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":688204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":694404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":986906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":803504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":654804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":619904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":617904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":189001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.461 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1100506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.462 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1803311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.464 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":291702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.464 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.465 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.465 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":759004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":726505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":445103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:43.791 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deaf8380-ad45-48d2-8c3e-81164471bafb","description":"","id":"deaf8380-ad45-48d2-8c3e-81164471bafb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":107701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857270825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":1021006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":871306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":566703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":660804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":839305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":693105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":553603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":553004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":614304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:44.657 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":569204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:44.658 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":609103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:44.658 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:44.658 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":684504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:44.659 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":96700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:44.659 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":690304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":677104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":380602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.221 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":79700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":148600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"77971fa3-f869-4726-969a-482e0b1a8c5d","description":"","id":"77971fa3-f869-4726-969a-482e0b1a8c5d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":130601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":76300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":822652915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":819205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":591303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1008606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1359208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":772705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":804505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":548803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":473203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":493803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.054 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":574604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":375102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.055 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":563704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":394602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.056 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":449402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.057 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":745905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.057 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":1685710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.058 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":922106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":673104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":401602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.332 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":425203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","description":"","id":"555f668f-63b4-47ef-a666-f12d71c2cc4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":146101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847866551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":915904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":652703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":18268483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1025504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":991305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":798004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":750704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":930404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":613003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":163200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":914405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.208 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":740103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":260401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.209 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1505306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":578303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.212 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.212 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":876904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.213 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":432502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.214 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":800303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":618603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":506303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.470 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":554503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":168101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","description":"","id":"13e4dff0-1e80-11e2-81c1-0800200c9a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":191502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845852028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":929205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":605902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":609402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":652603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":847004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":706804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":93800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":674403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":685903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":694704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":264501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":480802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.325 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":682503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":288502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.326 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":595302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":317402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.327 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":141300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":340001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.327 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":670003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":291702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.328 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":281701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.329 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":638803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":464902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":337302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:44.663 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","description":"","id":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841495409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":1053805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":639203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":603503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":632202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":874004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1055804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":676803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1690808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":678503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":645903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":314301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.516 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":662603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":283501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.517 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":5428925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":462102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.523 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":120800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":399402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.523 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1412207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":473402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.525 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":353902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.525 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":689603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":560902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.063 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94e5b115-bece-4140-99ed-93b8f363948e","description":"","id":"94e5b115-bece-4140-99ed-93b8f363948e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846493011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":1163705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":840904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":780203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":768104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1036005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1268005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":160900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":968605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":781003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":855404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":177301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":819704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:45.921 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":783404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":506502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:45.923 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":185501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:45.924 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":370102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":181201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:45.924 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1204705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":197601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:45.926 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":415402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:45.926 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1393907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":536502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":358102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.219 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":219101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":149101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":437602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":117000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":134200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a914681-61bd-4f67-902b-45037a00c469","description":"","id":"7a914681-61bd-4f67-902b-45037a00c469","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":164500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846038345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":1033204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":5787927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":961904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":797004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":853104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":930004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":757004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1019404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":752203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":137500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.081 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":908804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.082 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":851704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.083 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":180600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.083 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":929205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.084 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.084 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1172106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":742603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":485802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":57900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.335 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":133700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":122901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":121500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":2423711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":139901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":182101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","description":"","id":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":55001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844212136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":917704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1111305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":813404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":644803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":760503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":689003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":728903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":640403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":742303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":107001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":191301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.191 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":700603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.192 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":760503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.193 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":303501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.193 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":818604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.194 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.194 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":817103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":551702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.530 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":134101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":391101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":124901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":464502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":106501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":331701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","description":"","id":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845035640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":964005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":846604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":837703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":780603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":842004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1486507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":587603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":614703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":597202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":105700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.385 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":957105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.387 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":774204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":168101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.388 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.388 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":846603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.389 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.389 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":796803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":626003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":339402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:45.931 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":137301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":409402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":593803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":117301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":241101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","description":"","id":"5b40b9b4-fcb2-4553-bcab-34824c43c992","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":332401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":58900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848363855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":834003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":817903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":958905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":841004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":558003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":614202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":597302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":726603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.789 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":641003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.791 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":951904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.792 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":659103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.793 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":811103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.794 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.794 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1509507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":612703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":339602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.089 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","description":"","id":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":167301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855841390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":1307106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1267306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":844703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1248005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1162105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":906404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":673103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":643103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":802804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":143000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:46.957 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1270806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:46.958 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1160205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:46.959 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":339001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:46.960 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1068805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:46.961 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":690003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:46.962 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":803004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":658903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":401002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.198 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":77900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":403101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":470802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1fb5983-5642-4334-962a-a341cef8c8ff","description":"","id":"c1fb5983-5642-4334-962a-a341cef8c8ff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":194001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837808308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":876204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":839304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":675303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":716003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":796304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":570403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":566702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":581502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":333901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.045 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":741804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.046 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":699903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.047 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":175301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.047 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":782503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.048 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":73800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.048 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":941905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":826003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.393 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":330302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":525203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","description":"","id":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849217660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":1023504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":855703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":592803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":577503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":843504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":687103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":617503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":677903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":538303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":159201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.251 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1125605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.252 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":695603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":156700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.253 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":762103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.254 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":768704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":138501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.255 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":101101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.255 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":881004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":875804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":417702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.798 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":326302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","description":"","id":"ac3a9efe-2154-4a4c-aae3-ea269044945d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":303302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846179846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":997004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":765304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":669903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":698103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":824904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":979505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":688203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1041805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":625103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.654 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1027905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.655 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":796504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.656 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":213301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.657 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":859404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.658 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":105000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.658 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1051505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":830004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":460902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:46.966 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":331201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":68200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e258f171-6f56-4d4d-8311-027b30213c2d","description":"","id":"e258f171-6f56-4d4d-8311-027b30213c2d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":289701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":66100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846279446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":838904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":850504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":792303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":767604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":16527675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":232101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":666203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1749308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":707904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":209001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":717403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.839 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":882404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":268601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.841 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":637802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":204701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.842 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":175401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.842 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":640403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":202901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.843 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":180201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.843 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":611702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":441402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.052 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":413802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","description":"","id":"5523cfd7-a72c-409e-a0c7-89b858aafa64","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856037191,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":1092205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":668903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":591603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2859113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":789403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":794203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":207801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2328311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":745703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":689904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":678003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":641503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:47.922 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":620403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":489502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:47.923 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":666403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":466202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:47.925 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":126501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":672403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:47.925 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":656503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":448302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:47.926 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":691503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:47.927 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":757304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":627103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1107205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.259 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":206301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","description":"","id":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":109801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841856626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":1068405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":795503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":707504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":572802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":840204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":634403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":106301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":601202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":653603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":728803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":778304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":580602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.111 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":691203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":581803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.112 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1090605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":492802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.114 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":113901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":436602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.115 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":619103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":494102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.116 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":5020223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.121 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":738903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":593902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":378002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.662 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":416902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":104401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","description":"","id":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843879435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":1184406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":696703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":604703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":652403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":818703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":619103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":639003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":606903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":826603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":187901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":200401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.515 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":619403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.516 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":556902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.517 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":129000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.517 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":650903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.518 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":162001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.518 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":741503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":480002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":81301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.848 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":154400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":399302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":121201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":123200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":467803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b023459a-9f0e-4d53-8059-a794119abbed","description":"","id":"b023459a-9f0e-4d53-8059-a794119abbed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855548188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":988304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":731003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":774104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":719103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":885304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":872604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":568302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":597503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":670803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":135401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.714 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":776903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.715 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":687403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.715 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.716 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":968705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.717 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":117301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.717 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":944804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":665903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":305401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:47.936 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":148200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":124301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":2240910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":146901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":499002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":116301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":496802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","description":"","id":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":104001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838514111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":871004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":650903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":671603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":646903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":700003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":651303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":576502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":540303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":569602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.785 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3639716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":312502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.789 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1031305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":275201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.791 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":253201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.791 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":839404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":269201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.792 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":243802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.792 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":761703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":753104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":427502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":74200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.127 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":139601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":173801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":486802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":138201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":416602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":813903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7d19437-f875-45b3-86cd-2fa3335479ec","description":"","id":"d7d19437-f875-45b3-86cd-2fa3335479ec","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":79501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853208078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":1054005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":785603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":667403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":738004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":802303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":976105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":810304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":730203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":609303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":105800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:48.991 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":961504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:48.993 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":965305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:48.994 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":220601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:48.994 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":786803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:48.995 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:48.995 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":991904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":675803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":336702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.522 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":109001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":346401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":80700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":125501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7aeddf2-3b37-4668-9c75-de93d9326276","description":"","id":"a7aeddf2-3b37-4668-9c75-de93d9326276","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845113441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":981004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":891504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":745804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":702703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":694903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":990005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":543003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":543302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":602603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":154001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.376 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":782104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.377 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":670703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.378 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.378 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.379 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.379 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":900104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":746303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":290302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.721 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":294702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":327601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","description":"","id":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846595847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":981905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":928704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":726903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1031505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":933304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":590103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":849604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":809804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":243301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":149801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.578 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1710008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":115400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.579 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":760904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.580 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":154901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.581 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":990505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.582 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":157401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.582 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":824804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":900904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":794303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.798 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":267501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1601e160-91e8-4091-9aca-10294f819d42","description":"","id":"1601e160-91e8-4091-9aca-10294f819d42","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843340533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":883204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":685403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":714303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":712704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":887004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":693103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":568302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":622303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":143700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.650 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":588702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.650 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":611902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.651 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.651 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":813903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":125201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.652 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.652 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":681803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":612503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":293401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:48.999 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":341102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"275b64ab-34c2-41f8-8904-97812c7f716e","description":"","id":"275b64ab-34c2-41f8-8904-97812c7f716e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":93500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838020109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":1079505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":655603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":807804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":691003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":700303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":695703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":689104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":667203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":805203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":109901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:49.846 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":855604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:49.847 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":652603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:49.848 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":113201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:49.848 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1065705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:49.849 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":82601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:49.849 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1062405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":553602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.383 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":289701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":609902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bc0b75c6-3eef-49de-aca2-8483024903c1","description":"","id":"bc0b75c6-3eef-49de-aca2-8483024903c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849287560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":912104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":741404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":652703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":609502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":787203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":674503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":544902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":571903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":583602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":137901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.240 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":677804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.241 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":808804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.243 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":342701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.243 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":907004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.244 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":338302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.244 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1487707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":616702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":327901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.594 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":325602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":69400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","description":"","id":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852410874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":1074205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":653103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":737704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":800303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":670603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":756203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":800104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":865504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":239401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":686803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.456 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1079305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":571303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.458 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":658203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":470902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.459 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":94101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":451802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.459 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":682503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":471302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.460 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":862504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.461 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":646303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":420302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":290302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.657 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":72700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35359958-c40a-486f-9cf5-567a94de905e","description":"","id":"35359958-c40a-486f-9cf5-567a94de905e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":152701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":870011354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":1116305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":794303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":856104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":945205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":864204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":810003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":117701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":906104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":788604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":733703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":156801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":211401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.538 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1391406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":244901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.539 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1008505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":157701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.541 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":331201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":184501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.541 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1386307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":196801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.543 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":404101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.543 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1227806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":641303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":609503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:49.853 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":321602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":452402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","description":"","id":"c6fa88ab-e440-414b-a773-793c4ce6d8df","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":384902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873456670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":1389906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":896304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":740704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":799704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1379806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":937104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":105901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":710503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":720203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1008205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":237401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":247401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:50.738 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":784904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":234901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:50.739 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":827504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":197201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:50.740 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":104600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":126600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:50.741 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1120105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:50.742 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":125601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:50.742 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":861504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":543702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":408202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.249 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":334902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","description":"","id":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":63300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847127149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":1152105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":737103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":779204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":852404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1033105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":776603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":757603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":671503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":865904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":239201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.106 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":773404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":167601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.107 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":690803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.108 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":163801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.108 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":745603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":166501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.109 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":179701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.109 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":765303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":467603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":526602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.467 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":109800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":377101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":393202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","description":"","id":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855383887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":1108805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":980204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":651603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":631203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":764004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1077705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":825704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":753503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":680003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":585902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":255401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.333 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1540807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":258901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.335 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":604503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":190900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.336 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":129800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.336 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":698804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.337 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":128401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.337 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":719203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.549 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":127101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":119100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":417602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":119701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":538202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1452106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","description":"","id":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":74800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":41901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846266546,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":836504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":659103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":648603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":632103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":666903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":626103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":535003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":731103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":561303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.405 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":550302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":63100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.406 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.407 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.407 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":692203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.408 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.408 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":626203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":4927822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":383902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:50.747 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":291801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":212001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":455702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":135200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":150400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","description":"","id":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":307901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858380601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":857404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":797204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":865404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":765703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1047404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":828904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":610303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":116501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.615 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1387506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":102001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:51.617 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1137705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:51.618 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":563502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:51.619 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":827104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":125701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:51.620 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":954704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:51.621 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":776604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":523102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":310802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.114 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":364302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":136901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":75601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":120200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","description":"","id":"488c1e6d-363e-4476-b2ff-17756ac9b35f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":109200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":876270482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":1048405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":676703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":630503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":675303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":830204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":541102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":526002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":541003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":780204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:51.999 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1040805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.001 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1228506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.002 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":428902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.002 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":652603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.003 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.003 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1197306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":594903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.341 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":319701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":327202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":166401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d94b1eca-8a7d-4dc4-b979-36257878758f","description":"","id":"d94b1eca-8a7d-4dc4-b979-36257878758f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836843103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":994505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":788103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1005005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":880304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":692503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":719103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":542602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":569303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":567502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":157201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.186 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1233605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":106201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.187 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":882604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":119100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.188 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.189 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":943905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.190 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.190 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1573108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":765903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.416 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":70100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":441902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":100901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1042905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":427602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"db1e010a-96f8-453e-b63c-9c27d6273157","description":"","id":"db1e010a-96f8-453e-b63c-9c27d6273157","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852036272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":853704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":847504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":680903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":645903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":677503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":656003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":646703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":588703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":943004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":282902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.278 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":673903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":256801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.279 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":620103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":232901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.280 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":199301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.280 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":690503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":250701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.281 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":260102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.282 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":710603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":699803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:51.624 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":626103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","description":"","id":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":82300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851172337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":890805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":744205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":682704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":794005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":778204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":553703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":558604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":792004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":126301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":310002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.485 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1391109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.487 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":894705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.488 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":254102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.488 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":968906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":145901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.489 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":332502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.490 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1207607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":503503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":289701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.007 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","description":"","id":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851249110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":885005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":642603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":694005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":815205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":910805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":679204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":558103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":561004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":597404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":130900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":230902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:52.868 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":730804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":384303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:52.869 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":169401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:52.870 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":128701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:52.870 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":638504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:52.871 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":142801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:52.871 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":591603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":411603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":284102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.195 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":326901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e08079df-6c19-486e-916e-5c9948cfafea","description":"","id":"e08079df-6c19-486e-916e-5c9948cfafea","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853797305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":1289207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1176208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1246107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":910406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1002106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":842805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":100201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":747505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":845105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":733504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":272402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":246002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.060 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":911305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":517003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.061 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":751405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":473903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.063 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":502203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.063 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":948305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":496703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.065 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":804004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.065 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":940605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":609804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.286 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":298002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":319801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":208401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","description":"","id":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857934165,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":1681811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":750204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":733505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1218607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":887306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1065806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":130101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":751805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":637603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":746904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":243102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.154 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":708904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":191301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.155 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":635504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.156 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":151901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":274002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.156 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":844305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":210801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.157 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":170101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.158 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":693405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":449502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":288702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.494 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":463203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a035801a-3256-4a36-9f81-02421aacee17","description":"","id":"a035801a-3256-4a36-9f81-02421aacee17","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":277802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843346997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":969606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":612904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":705104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":596204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":869405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":709204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":704904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":852806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":894605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":160901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":882806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.347 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":628404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":211901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.348 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":847805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":188201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.349 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":354903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":217801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.350 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":829905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":129501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.351 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":764405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.352 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":653104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":584003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:52.874 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":99600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":103900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":466203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":114601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","description":"","id":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845844722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":995507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":875905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":673904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":709904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":691104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":634104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":546103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":544604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":565203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":102300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.729 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1351909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.730 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":851306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.731 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":311802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.732 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":750905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.733 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.733 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":702004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":516903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":297302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.071 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":156101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":130301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":453502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":318902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","description":"","id":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850344255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":810805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":680604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":677404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":656504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":759704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":673204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":530303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":554904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":499703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":132001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:53.930 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":517403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:53.930 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":552504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:53.931 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":69800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:53.931 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":562303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:53.932 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":52800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:53.932 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1144507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":579504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":313902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.162 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":112201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":117400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":375603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":122801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","description":"","id":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":86200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867096458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":836805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":695204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":846405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":722905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":587103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":801304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":665704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":583604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":544003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":700204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.038 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":539403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.039 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":752104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.040 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":356202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.040 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":586404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.041 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":578103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.042 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":576304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":517703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":411303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.356 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":215402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":139600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":529403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":604203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":129001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":177801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ac5737f-55ed-455d-8350-44af11b67fc3","description":"","id":"3ac5737f-55ed-455d-8350-44af11b67fc3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":439603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847872742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":987306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":676904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":635704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":590504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":807505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1676110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":673204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":539304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":758604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":156301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.216 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1451409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":75600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.217 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":938306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.218 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":361502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.219 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1081306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.220 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":703304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.221 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":692104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.736 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feabca04-e3fd-4802-96f2-583d328e30ad","description":"","id":"feabca04-e3fd-4802-96f2-583d328e30ad","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":911262528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":1093806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":637904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":576604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":522003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":577904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":827205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":524003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":470003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":489003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":95500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.655 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1134407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.656 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":546003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.657 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.657 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.658 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":218501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.658 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":843406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":810905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":398902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:53.936 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":288301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":329902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":82901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"74620aa8-4fa2-414d-8350-50d93e500da8","description":"","id":"74620aa8-4fa2-414d-8350-50d93e500da8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841203003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":707704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":694204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":739404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":704304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":700704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":581504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":557403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":594704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":158001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.785 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":772005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.786 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":642104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.787 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.787 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":761105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.788 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":179001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.788 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":742204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":584704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.046 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":122401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","description":"","id":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857843003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":796805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":822105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":882205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":681804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":723004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":641404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":599104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":579304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":741504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":210502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":292601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:54.913 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":999006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":235501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:54.914 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":568004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":216101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:54.915 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":178301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:54.915 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":656404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":204902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:54.916 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":176401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:54.916 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":642704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":580303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":308002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.225 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":328302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","description":"","id":"7827b68f-647e-46cc-a02a-cac48eaa5dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837831681,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":1289507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1053206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1089207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":988706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":819905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":19030715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":189101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":935205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":813204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":777604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":2143113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.095 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":886705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":259702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.096 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":209501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.097 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":342202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.097 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":784905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":398502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.098 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":321802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.099 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":825305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":446702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":313202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.664 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":280402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":346503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","description":"","id":"5be14ec9-9bb3-4395-a061-e7e78d04a527","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":405803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854757684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":1090606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":656304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":667504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":803105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":858105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":655604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":633603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":695504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":792305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":214401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":564004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.529 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":750504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":247102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.530 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":721604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.531 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":105901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":223902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.532 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.533 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":122101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.533 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":675904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":413903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":413402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.792 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":402702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":79200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","description":"","id":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":310602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842931612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":882405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":714604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1037406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":812705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1126907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":771305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":649204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":740505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":717704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":119101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":199701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.645 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":688604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":177401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.646 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":927405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.648 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":345302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":374802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.648 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":892405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":162301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.649 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":414103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.650 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2100012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":446703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:54.920 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":312502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":110901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"027e3f15-3b58-4570-97bb-779ce3ca947e","description":"","id":"027e3f15-3b58-4570-97bb-779ce3ca947e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867503962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":923106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":602304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":686504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":555803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":786005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":598704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":533504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":548803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":561804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":250601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.795 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":699205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.796 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":580204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.797 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":254702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.797 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":702204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":156601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.798 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":202501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.798 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":702105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":412002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":275402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.103 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":102000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":452703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":145001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":75100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","description":"","id":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":117101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851462965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":860205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":742505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":649804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":582704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":692204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":603404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":513803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":630804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":818905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":722204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:55.963 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":541803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:55.965 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":820805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:55.966 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":291802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:55.966 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":866905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":118901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:55.967 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":675104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:55.968 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":652204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":428703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.537 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":160101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":121900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":502903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":111200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":806805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":321102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","description":"","id":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840732099,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":1025307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":672304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":814305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":614204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":604704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":570403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":524804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":732604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":863905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":145600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":175402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.387 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":648304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.388 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":594803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.389 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.389 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":775905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":108901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.390 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":80400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.390 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":788205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":651404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":345302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.655 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":126001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":393102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":485503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":203601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":184001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","description":"","id":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":324202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841825806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":677004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":638503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":560903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":544403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":588604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":599104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":497403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":553903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":625003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":626104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.506 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":640404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.507 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":714504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.507 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.508 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":698704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.508 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":111400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.509 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":646604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":500003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":398703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.802 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":163501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":325002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":333902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","description":"","id":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":863166736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":2211213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2577816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2162213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1679711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2342914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1976612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1201307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1340208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1266007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1738410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":164201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.686 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1715511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.688 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1896311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.690 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.690 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1977312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.692 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":70000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.693 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2026612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":477303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":271401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:55.971 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":112401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":517803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","description":"","id":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":459003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847097238,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":986906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1127607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1093607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1103906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1139007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1201008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":797705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":848405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1523509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":614003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:56.831 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1095307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:56.832 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1192307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:56.834 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:56.834 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1256008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:56.835 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:56.835 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1147807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":418103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":299202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.394 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62dc32f1-853c-416a-876b-6e083554f1b6","description":"","id":"62dc32f1-853c-416a-876b-6e083554f1b6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856446495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":894005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":729705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1018306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":867805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":714305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":108601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":643703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":601103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":189501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.259 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":670104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.260 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":552004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":155401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.261 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":124400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.261 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":622304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":139301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.262 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":111801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.262 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":648204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":414602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1706110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.512 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":278601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":326202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","description":"","id":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":837758481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":973606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":695204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":737804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":685804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":976906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":859705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":73100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":606003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":711005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":857405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":220102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.359 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":770904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":168701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.360 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":846306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":132800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.361 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":117601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.361 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":696804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.362 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":119701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.362 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":685804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":418003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":301301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.697 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":284902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":302102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a1ed8a00-da07-472e-9627-99175d437c94","description":"","id":"a1ed8a00-da07-472e-9627-99175d437c94","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":832626850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":1740011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1028506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":870005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":828405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":811705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1127806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":837105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":661904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":628304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":116101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":173601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.540 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":631004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":135201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.541 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":612504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.542 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.542 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":659904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":118700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.543 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":132900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.543 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":678805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":502003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":331802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:56.839 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":270101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":296001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","description":"","id":"6a129fd1-0988-4b8a-975a-6ff134b6754a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842674111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":1108807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":663704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":661904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":699604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":767705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1016906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":815105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":613104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":775905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":183601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":204801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:57.690 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":682105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":163901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:57.691 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":594103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":141101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:57.692 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:57.692 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":797405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":189202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:57.693 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":238001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:57.694 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":981106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":591304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.268 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":102701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":113701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":89001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":131701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","description":"","id":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856559296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":930406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":640404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":619903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":690805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":742804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":633304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":620504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":550003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":911005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.133 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":684105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.134 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":846905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.135 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":312901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.135 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1006207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.136 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.137 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1075506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":515004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.366 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":364802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":346202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":112300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e264c1e4-90fe-4968-bbf2-7019f6095348","description":"","id":"e264c1e4-90fe-4968-bbf2-7019f6095348","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844687223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":1251308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":710604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":690305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":668804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":690104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":962306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":798305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":857805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":782605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":156801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":262102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.221 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":636104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.221 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":708805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.222 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":188901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.222 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":973706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":210301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.224 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":140501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.224 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":981106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":624504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":296202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.547 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":158901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":116100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":469102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":406603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":129801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","description":"","id":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":867170759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":1717610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2034612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2233914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1971912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2795617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2620416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1519510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1644210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1581709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":310202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":137901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.435 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1735011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.437 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1697511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.439 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":106901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.439 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2107412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.441 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":142301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.441 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2308114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":537703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:57.698 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":113901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":419502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":142701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":391403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","description":"","id":"9c4862c3-0bab-49c3-bc2f-ac5486826766","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":872535992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":2091313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3164419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2823417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3224920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":4512927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3025519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1940612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2327214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2213214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":384802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":2553816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:58.602 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2258213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:58.604 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":4436627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":214202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:58.609 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":167701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:58.609 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3495421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:58.613 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":95101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:58.613 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3095818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":693005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":354302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.143 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":397202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":10184262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":2266813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","description":"","id":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864328742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":2019112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1849511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1926612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1813611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2142913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4485727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":5151031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2186014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1744010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":577704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":249901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.046 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1625410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.047 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1529809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":210101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.049 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":89201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":150401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.049 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2408414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":355402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.052 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":336602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.053 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2378814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":551404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":463103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.228 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":375003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","description":"","id":"1fa220c2-5f2e-4943-a57e-c291cc35084b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":929992841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":2241914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3302420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2850117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2924318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3124519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2814017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1720610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1874211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1882911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":650004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1014406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.184 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2056213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":459603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.187 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1905411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":753005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.189 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.190 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2618216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":405702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.193 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":835805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.194 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2794917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":428102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":315402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.447 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":419402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4f4c7848-1767-4c67-be08-87d45d07f313","description":"","id":"4f4c7848-1767-4c67-be08-87d45d07f313","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":83000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":909866819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":2372114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3165619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3090719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2817017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":3701923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3773923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":147601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1861811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1890412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2172513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":5007031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":840405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.390 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2559015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":957605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.394 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2047613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":549803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.396 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1088407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.397 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3311420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":498703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.401 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":656104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.402 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2997118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":467203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:58.623 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":436603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","description":"","id":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848575747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":824605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":738304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":599004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":899705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":851806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":73600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":632304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":639804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":713104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":167701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":189801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.481 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":738204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":217002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.482 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":713704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":150101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.483 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":160901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.483 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":956206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":143801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.484 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":199401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.485 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":887206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":507003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":329502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.059 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":146201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":170401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1059806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":242602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"af4841b5-ce83-4edb-af41-429a21140316","description":"","id":"af4841b5-ce83-4edb-af41-429a21140316","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864016441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":1568210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2384214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2556916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2305714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2134113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2019112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1246107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1488609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1382709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":266201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":130001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:00:59.944 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2299714,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:00:59.946 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2228113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:00:59.948 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:00:59.948 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2710316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:00:59.951 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:00:59.951 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2760117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":539203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":297602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.200 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":113500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":361802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":451303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":468303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b0119753-5625-4500-9df3-13823ff9868f","description":"","id":"b0119753-5625-4500-9df3-13823ff9868f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882686153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":2155813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2057213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2234413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2346414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2141213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1875811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1266307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1552210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1655110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":322802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1264608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.104 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1825311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":455503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.106 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1519809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":667804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.109 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":500203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.109 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2195514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":497903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.112 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":655504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.113 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3583022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1832411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":493803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.409 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":98500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":398403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","description":"","id":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860341918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'","result":{"duration":1047206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":766805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":702304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1269708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":856805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":573904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":552404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":545803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":499503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":120101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":965406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.279 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1130107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.281 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":708004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":163601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.282 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":360102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":445103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.282 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":611404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":229301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.283 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":593403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.284 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":511603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":577603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":526603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.489 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":123900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":3184619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":511903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","description":"","id":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848534246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":642403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":649703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1207907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":852205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":732605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":656904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":66600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":716305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":786405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":573304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":125800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":193402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.351 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":576803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":141701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.352 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":524103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":129801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.352 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":103400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.353 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":912306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":276502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.354 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":129800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.354 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":888105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":417703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":343702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:00:59.957 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":308402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce963e61-779f-470f-a99d-48d9796e5ba3","description":"","id":"ce963e61-779f-470f-a99d-48d9796e5ba3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":304002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852595471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":1016206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1427309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":669904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":686104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":786505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":748805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":588004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":576304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":208601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":2689816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.822 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":739505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":454103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.823 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":623504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":426002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.824 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":103301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":119201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.824 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":996106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:00.825 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":390702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:00.826 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":688004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":392903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":284702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.125 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":325702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":347802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":588804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":139900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":495403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":562704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","description":"","id":"68722979-8d6c-4ee4-a81a-8381d2588fe5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":2399515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":72400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860281118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":795405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":940506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":962606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":640804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":655304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":619704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":581204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":557103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":555003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":122501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:00.998 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":597304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:00.998 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":559403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:00.999 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:00.999 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2202514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":571003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.002 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":839605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.003 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":790105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":576404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":348002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.289 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":359702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":926305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":127500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","description":"","id":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847747842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":871605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":687404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":941806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":677504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":795305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":871106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":642204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":580103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":102000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.146 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":762505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.147 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":718204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.148 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":71300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.148 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":694804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.149 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.149 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":717004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":510904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":275601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.361 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":651604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":154401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":716405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":501203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":86900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":185902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"58353cdf-b3a1-454e-9284-932a7e815e57","description":"","id":"58353cdf-b3a1-454e-9284-932a7e815e57","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851549866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":790905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":806905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":695204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":732605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":948406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":612204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":602303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":509303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.223 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":633604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":357702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.224 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":927106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":396102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.225 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":369302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.226 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":766505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":329802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.227 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":516103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.228 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":816005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":369902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":283102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:00.829 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":313402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":177602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1254607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":118101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":508203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":456203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":193401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f59357eb-185f-42a5-b465-90bfa6e3e416","description":"","id":"f59357eb-185f-42a5-b465-90bfa6e3e416","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":81800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":162501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":91100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855348696,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":1786911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":692404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":656204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":623904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":839805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":845605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":593903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":617304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":642504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":116001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.697 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1150407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.698 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":991706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":160701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.699 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":497603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":171901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.700 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1178007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.701 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":915005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.702 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":663704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":400302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":311002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.007 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":297802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":323202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":319002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":925353425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":1096307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":977806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":792305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":741405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":970206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":833805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":686204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1014906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1537409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":720704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:01.944 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":804804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":416703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:01.945 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":677504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":431203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:01.946 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":82600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":391302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:01.947 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":442502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:01.948 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1286808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:01.949 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":802305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":547404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":425702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.152 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":455502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7681eb19-a914-4dc7-9208-c2a131dca06d","description":"","id":"7681eb19-a914-4dc7-9208-c2a131dca06d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":60800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":106701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":221601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852209782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":897706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1031606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":730905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":847705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1466509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1266708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":96000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":880605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":936806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":774304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":136800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":773205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.016 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":996906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":180901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.030 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":792604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":177101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.031 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":172101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.032 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1233507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.033 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":242001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.033 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":784004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":631704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2338015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.232 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":299902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4041f923-6b77-4816-bf46-437e85416c31","description":"","id":"4041f923-6b77-4816-bf46-437e85416c31","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851409378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":1027306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":700004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":663304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":658004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":923006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":878905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":623503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":774104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":915306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":183501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":148601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.093 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1130107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.094 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":824705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.095 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":357202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.096 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":890605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.097 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":133201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.097 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":653304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":405503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":302201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.717 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":368002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":360202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93a9571d-1754-47ee-a8f9-92633abfab3a","description":"","id":"93a9571d-1754-47ee-a8f9-92633abfab3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":941202125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":1233307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":868505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":738704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":620904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":820705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":736005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":634703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":668005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":643304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":185801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.667 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1232007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":210802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.669 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1796811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":163301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.671 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":118901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":159401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.671 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":925106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":151601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.673 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":170001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.673 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1244807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":982406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":746704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:01.954 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":408702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":102001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":487403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":457402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b196f948-5d87-4eb4-9854-a93841c3877f","description":"","id":"b196f948-5d87-4eb4-9854-a93841c3877f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850977276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":1095906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":937105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":969906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":695205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":833305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":745204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":109301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":755505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":651204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":759204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":183901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":236001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.816 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":690704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":154200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.817 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":642503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.817 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":81700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.818 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":740904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":225002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.819 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":135501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.819 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":755804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":584204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":603104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.040 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":107101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":102700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":349903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":97700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":145201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7a395a2-8673-4794-a5a6-fed6492cd580","description":"","id":"d7a395a2-8673-4794-a5a6-fed6492cd580","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842408724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":1095507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":743305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":735404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":745005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1019606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":857905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":130501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":884406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":843305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":692304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":118801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":171801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.892 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1179907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.894 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":994906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.895 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":394102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":133601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.896 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1126407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":182701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.897 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":498603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.897 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2006513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":441502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":333602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.101 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":101000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":303302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":232001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","description":"","id":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":113601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851090776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":731804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":679604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":664704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":676905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":763304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":746605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":693305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":658404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":868405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":309602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:02.962 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":683804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":292002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:02.963 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":624704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":301202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:02.964 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":74500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":260702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:02.964 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":768405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":344302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:02.965 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":317002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:02.966 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":725004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":486403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":429303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.679 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":124901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":139101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":435603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":141000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","description":"","id":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846138746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":1174608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":888705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":818405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":933106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":857105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":754105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":612504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":639104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":124201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.535 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1160407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":483303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.536 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1047207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.538 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":326302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":338902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.538 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":737204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.539 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":96900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.539 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1210707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":556903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":334502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.823 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":479003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":143201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":134601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736849","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736849","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848729962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":883005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":892506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":675304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":716604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1259008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":971306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":733704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":600704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":576603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":126701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.682 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1010006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.683 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":997306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":104100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.684 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.684 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1510609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.686 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":656804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.687 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":749804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":691405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":525503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.903 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":120601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":388502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":134701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":472103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":131601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","description":"","id":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":297802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848235159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":975806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":727505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":720404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":830805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":827205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":738505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":725905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":692104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":681204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":406502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.761 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":919106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":220701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.762 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":789504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.763 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.763 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":802105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.764 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.764 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":762204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":619004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:02.970 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":157501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":449502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":162101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":741205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":318102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","description":"","id":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853853794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":954506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":726804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":712205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":733504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":866805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":782605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":573903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":589904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:03.833 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":774904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:03.834 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":933705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:03.835 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:03.835 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":886805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:03.836 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:03.836 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":769205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":555003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":304802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.544 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":120700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","description":"","id":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848368060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":867705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":578704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":535703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":773005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1104707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":652704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":486203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":495903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":570504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":123100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.400 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":521003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":104600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.401 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":830806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.402 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":473503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.402 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":670504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.403 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.403 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1159707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":510103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":4388326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.691 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":623404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":367003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":81500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","description":"","id":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":336102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848718762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":859205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":769005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":601904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":650904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":638704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":555003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":495803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":512503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":825605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":130001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.548 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":606103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.549 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":526303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.550 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":3218320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.553 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":756504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":375702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.554 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":563003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.555 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":587804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":562604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.768 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":354502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":441303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"66805d91-a5f6-4265-bd36-ef13a429c97e","description":"","id":"66805d91-a5f6-4265-bd36-ef13a429c97e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845150640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":968906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":590004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":682704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":560604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":753804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":626004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":622503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":512203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":595803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":150801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":137501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.621 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":592704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.622 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":595603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":129201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.623 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.623 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":637804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.624 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.624 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":599504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":543803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":314102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:03.840 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","description":"","id":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852184183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":755105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":708104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":682104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":736004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":874006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":673304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":671804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":678804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":615104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":845705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:04.702 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":694304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":352802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:04.703 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":591404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":391602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:04.704 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":330502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:04.704 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":693004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":461103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:04.705 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":567003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:04.706 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":682805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":425102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":263802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.411 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":374302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":167201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","description":"","id":"aaf53e6f-fe99-4a86-a61c-50b128412d80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858684723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":915006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":705104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":646904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":635604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":925706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":878905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":719404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":859505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":612504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":132601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":229501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.279 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1416009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.280 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":920806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":149801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.282 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":309901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":105000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.282 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":943906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":129701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.283 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":669704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.284 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":654704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":386602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":518404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.559 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":362802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","description":"","id":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860266932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":941806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":630504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":694604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":780005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":986406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":850205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":641304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":780505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":676304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":159001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":278102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.428 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":928905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":919505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.430 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":841005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":177802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.431 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.431 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":766105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.432 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":8555752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.441 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":815305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":437502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":268602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.627 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":571304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","description":"","id":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852687486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":1066906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":627504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":615104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":584303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":960005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":725605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":571704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":801605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":630804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":160101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.489 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":652004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.490 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":595403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":142801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.490 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":152801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.491 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":712504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":125801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.491 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":118501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.492 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":641704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":390502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":270802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:04.727 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":4367026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":144001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":597704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":113401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":119400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":228402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"40f04047-3b61-40eb-b026-c1a0caa71881","description":"","id":"40f04047-3b61-40eb-b026-c1a0caa71881","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842765526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":878506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":962705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1253507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":953806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1077407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1073906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":674104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":688004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":890806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":149501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:05.585 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1259207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":162801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:05.587 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1446208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":288002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:05.588 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":427303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:05.589 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1488409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:05.591 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":144600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:05.591 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":877805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":481803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":352902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.288 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":330602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":87101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":103401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":120101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ceda1b88-32ac-40b2-a841-71eb041c9427","description":"","id":"ceda1b88-32ac-40b2-a841-71eb041c9427","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844842338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":1014007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":856305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1116007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":936606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1213507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":950806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":750805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":812505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":194701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.143 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1603010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":78900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.145 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":898706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.146 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.146 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1015507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.147 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.148 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":971306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":629404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":386103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.445 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":343302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":340402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":534704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1bd24d1e-aa13-4395-809e-893570f7c651","description":"","id":"1bd24d1e-aa13-4395-809e-893570f7c651","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844156834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":807705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":677204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":625004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":622004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":865005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":634704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":635104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":723104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":646304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":336102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":522203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.299 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":587003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":375002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.300 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":612204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":344402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.301 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":386002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.301 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":726304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.302 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.302 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1421908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":513204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":303702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":124001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.495 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":152100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":506903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":133000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1074207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":120901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":134701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"972edbaa-f860-4c48-b449-4f238a263472","description":"","id":"972edbaa-f860-4c48-b449-4f238a263472","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842437724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":696904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":676705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":669704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":604703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":634303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":734705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":575604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":583003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":889406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":108400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":69501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.347 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1247007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.349 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":893705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":135900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.350 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":469803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.350 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":719204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.351 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":649404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.352 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":735704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":490703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:05.595 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":322102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","description":"","id":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854649898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":2163513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":811804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":826905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":724304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1213507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":883805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":722505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":618204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":647104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":194701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:06.460 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":862706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:06.461 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":639004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:06.462 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":132501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:06.462 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":876606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:06.463 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":77601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:06.463 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":741204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":527803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":295401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.151 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":310702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":324902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","description":"","id":"008d85d1-460d-46f6-9af4-98afdedbc4dc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843240629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":877405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":728805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":599804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":586603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":660204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":611004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":569704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":4608428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":759805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":732705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.007 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":577603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.008 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":805605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.009 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":408902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.009 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":683204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.010 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.010 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1216208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":512503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":274802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.307 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":330302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","description":"","id":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":357902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849282266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":923706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":612404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":587903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":635904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":730405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":853705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":483403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":486403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":574004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":185001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.165 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1129907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.166 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":810405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.167 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":258501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.167 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":848805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.168 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":306402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.169 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1467609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":638604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":267101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.356 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","description":"","id":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848370660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":928606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":760304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":741605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":705604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":801405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":652504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":547903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":542503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":564904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":121301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.213 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1132407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.214 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1095606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.215 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":582504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.216 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":809805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.217 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":740104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.217 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":682904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":479603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":266102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:06.467 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":627404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":580004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","description":"","id":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849397566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":991206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":812105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":827505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":738305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":759605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":16657401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":180101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1123307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":656004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":762904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":129101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":184501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.342 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1263908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":137801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.344 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":991506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":139901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.345 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":425203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":441502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.345 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":939706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":146301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.347 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":630304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.347 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1351608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":294802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.014 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":326002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","description":"","id":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":336902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847499955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":944806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":703804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":802105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":645504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":786005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":657604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":650204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":598103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":652204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":180101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:07.871 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1202607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":212801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:07.872 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":912106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":166001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:07.873 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":310002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:07.874 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":880205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":130901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:07.875 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":320302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:07.875 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1185907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":429803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":305802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.173 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":284202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":295301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","description":"","id":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":311402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":866088167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":1053606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":667404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":643804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":632804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1082907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":859105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":615803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":598904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":703404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":152401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.048 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":770604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":171501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.049 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":709304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.050 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.050 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":825305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":127101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.051 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":128601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.051 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":683904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":471903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":297702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.221 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","description":"","id":"e9ba7d7f-6cd1-4271-bce4-56432924b338","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":280001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851266077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":945506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":610104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":693004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":809605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":697105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":672204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":76200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":624704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":595804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":606304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":704304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":714804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.082 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":616303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":459803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.083 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":577704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":405002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.084 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":939106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":156601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.085 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1184207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":136300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.087 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":343602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.087 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1327608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":517103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":287502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.352 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":416803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":112901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"280cee65-1b66-4973-a569-75122e0b745b","description":"","id":"280cee65-1b66-4973-a569-75122e0b745b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":354702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854059694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":838906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":602803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":705005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":807605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":925105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":613603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":609003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":513804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":527103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.215 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1228108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.216 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":967106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.218 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":285402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.218 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":652604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.219 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.219 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1087606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":478103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":339902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:07.879 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":102900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":92800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":341602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":139401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3e65fa1b-9bb1-41bd-9760-76962751b839","description":"","id":"3e65fa1b-9bb1-41bd-9760-76962751b839","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851249378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":846906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":795105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":732504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":745605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":683204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":764605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":551103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":532204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":565003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":139500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:08.740 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1049006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:08.741 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1662910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:08.743 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:08.743 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":716205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:08.744 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:08.744 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":653704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":368503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.055 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":1426209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":528203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":395902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6c62e0a5-c215-4e47-94b0-a239e264417d","description":"","id":"6c62e0a5-c215-4e47-94b0-a239e264417d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":939959918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":1302708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1796411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1739110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1836811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1650110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1640310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1264408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1160507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1228208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":191001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":491103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.014 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1733211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":364802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.016 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1322808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":577903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.018 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":342202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.018 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1990712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":386002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.020 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":795005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.021 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1908912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":381302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.091 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":101201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":88300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":158301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","description":"","id":"108fec55-e467-4d04-ab35-fd0d7060e3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":303302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":898555466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":922305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1041407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":897605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":656704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1097206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":693605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":605904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":580503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":580204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":783305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.000 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":682804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":378603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.001 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":611203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":345002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.002 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.003 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":720005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":448503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.004 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1167607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.005 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":676404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":508903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":299802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.223 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":313402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":80801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","description":"","id":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845655144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":831705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":633104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":604504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":615103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":858605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":735404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":662104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":852305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":526703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":84800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.076 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":576604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.077 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":577903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":63101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.078 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":117101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.078 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":665104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.079 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.079 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":659604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":516103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":287302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:08.747 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":393902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":327502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852035685,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":1000606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":933606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":771605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":686004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":762304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":829305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":598004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":657804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":771104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.608 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":653404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.609 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":691904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.610 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":110800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.610 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":948306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.611 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.611 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":721505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":572503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":281902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.010 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":366502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":341002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","description":"","id":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":897327763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":865205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":723104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":640404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":769705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":780205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":917106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":654504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":17740208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1582910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":186001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":205301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.934 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":667404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.935 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":672304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.936 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.936 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":883206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.937 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.937 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":699804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":469903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3320721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.026 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1337708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":371202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c374d556-7b6e-459b-83c7-74da6ad90a59","description":"","id":"c374d556-7b6e-459b-83c7-74da6ad90a59","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839871014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":978006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":732605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":638004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":616304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1062706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":916806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":575504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":584003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":696905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":334102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":233101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.877 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":666604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.877 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":767005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":174301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.878 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":162001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.879 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":739004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":179101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.880 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":116401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.880 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":712305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":497503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":305202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.082 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":59300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":324402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2724dae-ebad-4a07-9405-49bddfde3368","description":"","id":"a2724dae-ebad-4a07-9405-49bddfde3368","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856744617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":806505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":697904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":621704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":625504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":992806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4890430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":704104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":842705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":539003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:09.952 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":655604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":308602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:09.953 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":776605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":365602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:09.954 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":338902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:09.955 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":709604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":300802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:09.956 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":284002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:09.956 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":706104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":367602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":273101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.615 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":357003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":375302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f57bdee7-4027-4aa2-8312-4051b854be3c","description":"","id":"f57bdee7-4027-4aa2-8312-4051b854be3c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858344128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":1035006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":632004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1393609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":709204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":797405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":894506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":623304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":802705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":792705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":409203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":292601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.483 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":670404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":214301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.484 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":786005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":245501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.485 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":192101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.485 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":739505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":177401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.486 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":166401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.487 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":667704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":453103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":302902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.883 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":309302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":324402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":180001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f76bdce5-344e-415f-8f2c-972755e80b65","description":"","id":"f76bdce5-344e-415f-8f2c-972755e80b65","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844482944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":1124407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":938606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":940405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":786305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":950206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":800105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":735504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":970706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":823005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":391603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":352502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.739 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":714705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":245501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.740 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":700904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":258702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.740 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":82901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":237001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.741 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":877306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":317602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.742 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":365502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.742 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":763205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":467003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":304002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.944 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":392002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":384802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","description":"","id":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852015490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":1170907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":873906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":762604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":706904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1042106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":899506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":658004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":635203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":598803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":114800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.806 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":619604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.807 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":605404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":60600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.808 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":90401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.808 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":818605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.809 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.809 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":762205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":502503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":382502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:09.959 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":102100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":304402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":338102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":277402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"09588464-071b-47be-8cbe-d15f2e1f9634","description":"","id":"09588464-071b-47be-8cbe-d15f2e1f9634","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":865400771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":904205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":824905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":693104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":717604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":693004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":715705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":631904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":595604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":773004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":179001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:10.834 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":625404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:10.835 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":606904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":131300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:10.835 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:10.835 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1016907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":168301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:10.837 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:10.837 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":703205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":280801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.491 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":104300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":420103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":104501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e75b66ae-21b1-4303-aeb3-787608707b23","description":"","id":"e75b66ae-21b1-4303-aeb3-787608707b23","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857155621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":944606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":843305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":693004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":642203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1074406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":824205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":665204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":573203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2135413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.361 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":790205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":147901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.362 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1103607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.363 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.363 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":836605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.364 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":91900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.364 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":720405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":530003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":312802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.747 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":180001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":438002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":101501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97a7d966-7261-49d4-bc08-c4900981f092","description":"","id":"97a7d966-7261-49d4-bc08-c4900981f092","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852809794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":1012006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":798505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":797105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":798205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1068606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":770805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":638304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":679005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":135201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.610 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1264908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.611 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1126807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.612 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":466803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.613 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":963106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.614 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.614 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1463009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":536403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":307201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.813 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":66200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","description":"","id":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844488444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":979206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":862505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":965206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":837505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":958206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":868906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":663904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":657104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":672004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1174708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":140000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.668 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":891805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.669 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":731804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.670 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":88301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.670 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":986906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":760905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.671 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":112600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.672 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":988306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":617703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":521404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:10.840 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":306602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":358203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":129901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","description":"","id":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":51501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856612917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":1307507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":841505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":748804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":941006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1431909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1012006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":664004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":610703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":698104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":128701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:11.707 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":657404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":109101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:11.708 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":615603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:11.709 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:11.709 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":764605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:11.710 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:11.710 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":752104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":646404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":354303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.368 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":293001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37e05521-c323-4dbe-aba4-de1178ba44a5","description":"","id":"37e05521-c323-4dbe-aba4-de1178ba44a5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":976823950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":7479246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":9166456,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":8576052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":8867954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":9137356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":10397363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":29721581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":8442951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":7483446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":801505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":798705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.447 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":7379845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":453403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.455 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":7099943,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1244308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.463 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":93400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":386503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.464 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":9241956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":444203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.474 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":951906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.475 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":9690259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":526103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":323802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.618 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":364403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8e7686c3-f75e-411f-866e-6985267b916b","description":"","id":"8e7686c3-f75e-411f-866e-6985267b916b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":371402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":902674997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":7263944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":8494552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":12028173,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":19397218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":23326842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":16417700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":9702159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5876236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":6017636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1043207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":821905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.634 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":5748135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":591704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.640 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":5937636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1262808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.648 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":92200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":459303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.648 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":7874448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":462603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.657 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":864905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.657 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":7616947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":465803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":266001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.676 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":398602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","description":"","id":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":65400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860919744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":1872712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2128313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1939412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1503809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":10916466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1744410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":801205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":773904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":961105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":213102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.562 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":965106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.563 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":812304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.564 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":68600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.564 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":9259657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.574 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":119401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.574 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":935105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":543804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":335102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:11.714 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":359902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":191101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","description":"","id":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848394468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":1014806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1602810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1109207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1058706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2884918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":13504182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":81901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1341408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1788311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":873506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":523304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:12.590 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":927305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":752905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:12.592 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1081407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":483203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:12.593 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":2603715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:12.596 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1326909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":500703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:12.598 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":655604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:12.599 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1018606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":417703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":268701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.488 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":125801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":450002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":127900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":476503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","description":"","id":"ec73f245-66ce-4144-ac27-5966c80a4b3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852931395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":1130507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2812017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1030206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":792705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1106307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1083907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":713705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":868105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":821805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":726904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.355 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":815205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":472303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.356 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":937906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":896706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.358 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":135001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.358 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":933306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":254601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.359 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":132501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.359 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1009406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":562204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":305202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.584 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":425703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":113100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":465103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":131001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","description":"","id":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842798633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":1090807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1088107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1021306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":948706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1180007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1012406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":791705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":967506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":870005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":837705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.439 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1522409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.441 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1278808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.442 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":101400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.442 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1059607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.444 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.444 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1030606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":521703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":73100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.613 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":121201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":393602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":546804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a84f9836-9111-4e45-a311-3dab39019e15","description":"","id":"a84f9836-9111-4e45-a311-3dab39019e15","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862612954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":1118207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":887005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":845305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1002706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":943406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":815105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":703304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":682705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":725304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":128100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.486 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":798005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.487 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":886105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.488 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.488 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1224408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.490 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.490 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":936106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":618603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":292601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:12.668 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":110801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":427603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":488303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":462303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","description":"","id":"018a28a5-1019-4747-b031-f66ffc1c6ae7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850016877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":861505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":962506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":790105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":801905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":996406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":834205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":697704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":754504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":853105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":179101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:13.529 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":845405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:13.530 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":715305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:13.531 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:13.531 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":817805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:13.532 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":68400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:13.532 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":867506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":556403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":312002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.364 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":339502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":267602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","description":"","id":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":939426322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":4630028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":5532734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":5257932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":10110962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":9549158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":6719441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3696722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3505922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3614722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":928206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":789204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.359 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":5578634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":297701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.365 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3851524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":2908918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.372 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":103100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":175502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.372 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":14198386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1318308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.388 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":215601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.388 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":6130038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":348002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":292202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.448 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":337802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":381002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","description":"","id":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":861305746,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":784504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":713705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":753404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":702904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":840205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":735205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":73300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":557504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":606403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4054125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":139901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":204901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.321 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":769504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.322 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":597704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.323 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":78000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.323 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":689304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":112200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.324 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":79800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.324 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":716904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":412802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":8344751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.494 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":325902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","description":"","id":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851438386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":732605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":3300620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":700505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":639204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":956405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":863805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":15732096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":859505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":877405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":215101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":5414333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.377 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":913606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":490403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.379 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":964006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":301502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.380 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":111601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":234901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.380 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":902606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":257301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.381 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":172002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.382 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":898205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":474603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":275902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:13.535 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76854ff3-a853-4405-b9fd-acef66460376","description":"","id":"76854ff3-a853-4405-b9fd-acef66460376","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":936870807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":4589728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":6439339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":6770841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":6404939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":7323444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":6822542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":83000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3920524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":4292127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4641828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":838405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":251802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:14.526 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":4001024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":223802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:14.530 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":4107525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":152201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:14.535 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":143100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:14.535 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":6408739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:14.541 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":73600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:14.542 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":6886842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":594404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":286402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":154701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.336 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":515303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":554303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":544303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","description":"","id":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846054553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":913306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":659804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1221407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1032006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":749305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":670404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":539303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":530704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":536903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":85800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.192 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":566004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.193 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":762505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.194 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.194 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":704304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.195 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.195 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2713217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":518803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":264002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.398 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":262101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":609404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":557303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","description":"","id":"67bcc21d-beda-449d-975c-00a4fa80f2b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":922631820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":925206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":740104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":742905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":609303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":655804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":741204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":620804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":909006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":656704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":125900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.330 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":954606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.331 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":796305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.332 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":422502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.333 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":656404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.333 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.333 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1318408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":463003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":260602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":105601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.403 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":115701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":97101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":349803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":81400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":205301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","description":"","id":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":949218781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":894406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":831005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":885705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":916606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":865405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1049307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":916806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":819005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":728404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":125301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.363 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":757705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.363 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":887306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.364 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.365 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":946606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.366 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.366 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1267907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":376202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":268902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:14.552 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":60900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":102601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":286502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":476102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d759186-7cee-4218-aa44-165f3922fbbb","description":"","id":"3d759186-7cee-4218-aa44-165f3922fbbb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854194202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":825605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":946905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":660104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":649303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":678304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":748304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":640604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":601503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":532404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":314002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":218501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:15.415 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":594604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":141201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:15.416 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":551903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:15.417 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":69600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:15.417 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":724305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:15.418 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:15.418 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":18797214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":546004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":259101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.200 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":83100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":367802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"65f9628b-0a58-4348-8fff-c2d02788acdb","description":"","id":"65f9628b-0a58-4348-8fff-c2d02788acdb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848361567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":891805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":697604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":667704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":702504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":833905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":743805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":767905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2040712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":775504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":104901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":156101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.059 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1199007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":157601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.060 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":955506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.061 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":300902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.062 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":960805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":121200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.063 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":771005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.063 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":760005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":396302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":353802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.338 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":321202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736853","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736853","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":278201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850951682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":973706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":657304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":591204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":716404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":662304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":519103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":698004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":882306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":145601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":169301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.198 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1496009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":186601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.199 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":894206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":125300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.200 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":334902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.201 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":992906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":127600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.202 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1108907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.203 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":752505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":474903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.370 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":298502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":329602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":168601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"180b6682-5d6f-429d-abb7-32f7d6253787","description":"","id":"180b6682-5d6f-429d-abb7-32f7d6253787","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854637605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":748705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":679804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":766605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":797505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":819705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":765405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":585504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":578203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":912905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":157801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":772005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.234 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":698804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.235 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1031007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.236 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":342402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":125901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.236 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1011206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":128001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.237 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":645604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.238 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1345008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":410402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":267202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:15.440 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":516303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":87101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d981070b-888c-42d5-85ff-1e383f3d7fce","description":"","id":"d981070b-888c-42d5-85ff-1e383f3d7fce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":836449595,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":941106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":679604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":821605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":728605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":885905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":802105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":69500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":570203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":660204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1429209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":152101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":834005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.288 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":780905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.289 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1092707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.290 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":412003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.291 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1101007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":128001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.292 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":767405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.293 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":762804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":398203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":316602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.067 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":178801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":107601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":355102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","description":"","id":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843716939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":948406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":908806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":683404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":677604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":690404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":592603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":498903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":507003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":583104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":524803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":516303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:16.921 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":614004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":411503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:16.922 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":703804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":419503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:16.923 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":324802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:16.924 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":592904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":360402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:16.925 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1726611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:16.926 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":734504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":565604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.207 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":379502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f917ffa9-1531-48ea-867e-0d413d85b05a","description":"","id":"f917ffa9-1531-48ea-867e-0d413d85b05a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":268302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840979122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":847405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":558004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":596903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":609104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":594304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":551103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":483303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":547603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":604904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":717005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.057 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":850005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.058 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":692404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.059 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":229501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.059 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":783705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.060 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.060 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":892606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":295802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.243 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":134301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":435102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":155201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","description":"","id":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":308202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854852507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":606503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":585904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":509303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":543804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":624004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":525003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":468603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":480303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":505903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":65300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.105 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":617504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.106 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":592704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.107 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":69400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.107 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":792205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.108 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.108 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":684004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":521803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":281102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.296 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":459003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","description":"","id":"94f241c2-43a2-42c3-8e9e-71976605aa0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":402402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862953856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":1131307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1286208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1476209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1594610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1752210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1385709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":922606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":929706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1358308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":138701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":603604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.174 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1080706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":597204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.176 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1067506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":375502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.177 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":636904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.178 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1367808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":357802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.180 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1656110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.182 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1400108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":521303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":361302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:16.930 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":67500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":347202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":348102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","description":"","id":"f5660ac6-8031-4acc-832c-1d1b82b062ba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":851244767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":1190308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":862805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":587704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":711804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":724704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":653804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":538003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":590804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":649604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":707504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.791 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":651204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.791 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":806305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.792 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":342902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":103901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.793 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1117607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":232001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.794 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":121201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.794 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":681404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":423503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":587003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.065 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":412503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":638704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62c0d0a5-5826-406d-a625-d84bc5fec800","description":"","id":"62c0d0a5-5826-406d-a625-d84bc5fec800","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":114100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856823197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":1216407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":757805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":932906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":803205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":919005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":828005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":645704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":893105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":842705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":147301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.932 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1017807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.933 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":630303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":125800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.934 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":169101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.935 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1211207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":138600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.936 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":147201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.936 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":866506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":484203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":260801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.111 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":283702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":287202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","description":"","id":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":864024439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":682704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":646204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":582203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":570104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":697604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":755705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":635503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":659804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":713504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":136201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:17.983 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":646804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:17.984 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":614903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:17.985 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":145400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:17.985 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1507009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:17.987 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":138501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:17.987 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":765704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":450603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.186 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":299802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":318702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":368602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","description":"","id":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850094553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":695704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":583103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":567604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":612503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":650603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":654104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":502703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":534003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":541904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":145801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":135301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.044 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":558303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.045 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":542103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":137601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.045 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.045 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1041107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":200201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.047 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":127101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.047 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":707504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":642104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":349902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.799 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":87201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":140101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","description":"","id":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":859855111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":1121307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":822005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":949306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":675504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1349408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":929306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":816905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":689204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":830905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":208802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.669 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":636004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.670 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":589504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.671 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.671 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":742005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.672 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":102601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.672 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":700104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":620903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":278902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.942 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":199401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":121901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":453803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":442403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":121900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","description":"","id":"93c8762c-4cbb-42b0-9b02-89ef902e8880","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852560667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":1106207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":726605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":593503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":529704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":615503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":663404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":888605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":851805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":804304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":153001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":151601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.804 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":574504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.805 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":611103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":163201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.806 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.806 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":677804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.807 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.807 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":656704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":488503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:17.991 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":118801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":445003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":86000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":463303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":155601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","description":"","id":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841418499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":790405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":550203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":527103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":705304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":721505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":530103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":522003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":546004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":480603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":96700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.840 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":516303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.841 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":552103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.842 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.842 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":594403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":94401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.843 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.843 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":747705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":420103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":317902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.051 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":154201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54d2021b-e778-4834-a3c6-75c89d36b942","description":"","id":"54d2021b-e778-4834-a3c6-75c89d36b942","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853892074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":747504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":642304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":555103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":573403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":599204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":584203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":510903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":568303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":518303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":420603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":454803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:18.913 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":536203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":458803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:18.914 [print] OGC:WMTS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":603304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":393402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:18.915 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:18.915 [print] OGC:WMTS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1034606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:18.917 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":818605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:18.917 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":713204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":376502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":297002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.676 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":288301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":118501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42da491e-d8b9-47ba-af65-acb15ea8a055","description":"","id":"42da491e-d8b9-47ba-af65-acb15ea8a055","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":842342105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":909805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":587504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":601003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":554804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":612904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":569203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":514403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":702304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":687204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":161801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.526 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":522903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.526 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":664704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":96301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.527 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.527 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2122913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.529 [print]  \n","line":56}},{"name":"print operateson","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.529 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":932305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":832806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":424602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.810 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":334502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","description":"","id":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847798838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":1034706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":735305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":669604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":558803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":582804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":533703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":736304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":757205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":613604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.666 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":506003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":162801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.667 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":699704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.667 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":61201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.668 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":590303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.668 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.668 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":539604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":460003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":244401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.846 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":273601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":327002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4b59b2c-156d-412e-b8f0-c0779402de80","description":"","id":"b4b59b2c-156d-412e-b8f0-c0779402de80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850837656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":698304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":651804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":556204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":553703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":963906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":673504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":495703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":563903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":738705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":126601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":155101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.705 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":629104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.705 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":525803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":110300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.706 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":190401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.706 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":714305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":144701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.707 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":135701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.707 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":568003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":294802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":232701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:18.921 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":279801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":308402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","description":"","id":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":60900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855817086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":849405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":606303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":622504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":623504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":818505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":731504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":594804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":649704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":547603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":180002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:19.785 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":723404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":106501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:19.786 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":546003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:19.787 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:19.787 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":641604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:19.788 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":127401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:19.788 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":655604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":417602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":251402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.534 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":285602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":295102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"542b330b-d3c6-4617-b97f-693e5cfd1872","description":"","id":"542b330b-d3c6-4617-b97f-693e5cfd1872","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852458566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":1098806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":634304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":563504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":555903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":701604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":773204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":625704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":552603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":584404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":117701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":145400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.394 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":624303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.395 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":591204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.396 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":103701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.396 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":689304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.397 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":107000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.397 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":617004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":396003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":244401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.683 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":97800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":470403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":81701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","description":"","id":"bfcc588f-9393-4c70-b989-d9e92ac2f493","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":854186376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":1131807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":828205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":818105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":706004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":983606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":755805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":604304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":602704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":644004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":99500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":202001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.547 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":725404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":171701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.548 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":589104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":143601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.549 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.549 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":961706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.550 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":125201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.551 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":723704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":599204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":323602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.710 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":74500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":270901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":548303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":168601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","description":"","id":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":873268693,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":678704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":692804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":694304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":787005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1352008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1529409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2401315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":555903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":557904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":107401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.595 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":560304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":142300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.596 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":544803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.596 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.597 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":660404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.597 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":109701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.598 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":611903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":405102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":332302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:19.792 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":102300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":444903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":924706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":189601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":529803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":136301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49ff0584-a173-4098-824c-119edf8447f7","description":"","id":"49ff0584-a173-4098-824c-119edf8447f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848366341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":593703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":626604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":610304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":597403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":623303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":607504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":518103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":529703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":548803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:20.649 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":714504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":149001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:20.650 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":782405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:20.651 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:20.651 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":912805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:20.652 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:20.652 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":617303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":351403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":312201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.400 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":99100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":129701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":386002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":358102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"918388cf-9d8c-4264-b108-3e375bde0d52","description":"","id":"918388cf-9d8c-4264-b108-3e375bde0d52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847198034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":819705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":821705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":675704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":689804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":723505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":663404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":549603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":541004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":559303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.256 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":614503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":199702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.257 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2252113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.259 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.259 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":763105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.260 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.260 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":710904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":556203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":250901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.554 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":276502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":297202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cea38797-ea4b-4969-b979-8d25eb543a6c","description":"","id":"cea38797-ea4b-4969-b979-8d25eb543a6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":838427181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":807205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":651704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":602303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":591204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":678304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":622904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":685504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":549904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":661204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":105101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":88900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.400 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":638004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.401 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":673204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.401 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.402 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":648604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.402 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":71500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.402 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":647704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":463803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":248802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.601 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":292102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":297001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849045045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":1100107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1724911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1429508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1125507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1417909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":3246320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":868905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":935206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":879905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.464 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":860305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.465 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":830405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.466 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.466 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1095307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.468 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.468 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":11131267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":780505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:20.655 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":275801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":417102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855395884,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":799005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":885605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":4373227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":980606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1081207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1067706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":780004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":697905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":752204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":126701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:21.523 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":771105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:21.524 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":754804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":180901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:21.525 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":108100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:21.526 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":942505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":156901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:21.527 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:21.527 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":870105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":363103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.264 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":291202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","description":"","id":"adn83730-e750-485a-9c0c-39bf9bt72cf8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":954566584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":1061506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":717105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":655104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":643604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":805205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":874505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":72300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":563904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":630904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":763404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":343602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":288501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.227 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":605903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":485603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.228 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":460003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.229 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":80400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":399803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.230 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":677004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":430602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.231 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":654204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.232 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":687704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":414402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.406 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":308002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":318302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":68200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":869938072,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":825705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":798305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":696605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":783904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":816804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1006506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":68900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":681004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":742604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":656404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":381002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":264301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.285 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":689204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":285701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.286 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":775205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":310102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.287 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":74000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":169801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.287 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":783705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":240901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.288 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":238402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.289 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":802305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":397802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.482 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":96600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":391002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":126001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":847659137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":679404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":805904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":677505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":660804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":808705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":750804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":877005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":788205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":646804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":6692141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":157601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.345 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1058907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":204601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.347 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1043906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.348 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":80700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":123401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.349 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1134207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":128501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.350 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":918906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.351 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":690204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":415502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":272401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:21.531 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":162501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":134701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":376903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":443703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":175301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e","description":"","id":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":52800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":857000794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'","result":{"duration":677304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":750705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":672704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":730505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":659004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":611404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":599004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":549903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":77800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:22.396 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":556304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:22.397 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1043906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:22.398 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:22.398 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":642104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:22.399 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:22.399 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":692105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":388102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":277702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.236 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":135601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":462403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":457303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13c6144d-231b-4a52-91d5-edde65076aff","description":"","id":"13c6144d-231b-4a52-91d5-edde65076aff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13c6144d-231b-4a52-91d5-edde65076aff'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":841661800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13c6144d-231b-4a52-91d5-edde65076aff'","result":{"duration":818105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":612903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":599404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":632404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":649204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":756604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":581803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":800804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":758804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":118400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.087 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":541604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.087 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":526803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.088 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.088 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":635503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.089 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.089 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":662504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":236902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.292 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":94900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":353902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":6853441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":174101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bef46033-ce69-4ce4-b853-4ab65f6a424d","description":"","id":"bef46033-ce69-4ce4-b853-4ab65f6a424d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":119301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bef46033-ce69-4ce4-b853-4ab65f6a424d'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850187452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bef46033-ce69-4ce4-b853-4ab65f6a424d'","result":{"duration":644004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":588704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":579103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":650203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":711004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":811505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":602304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":501803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":719304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":130001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.157 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1084807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.158 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":616604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.159 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.159 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":635504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.160 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.160 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":608104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":252102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.354 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":79201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d9227c23-9d36-46ce-8ac9-a208103c218e","description":"","id":"d9227c23-9d36-46ce-8ac9-a208103c218e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd9227c23-9d36-46ce-8ac9-a208103c218e'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858194901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd9227c23-9d36-46ce-8ac9-a208103c218e'","result":{"duration":618104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":778705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":856405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":840405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":721305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":718604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":667404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":575904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":608104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.221 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":579803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.221 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":604203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":64800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.222 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.222 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":672704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.223 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.223 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":628404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":434603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":284702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:22.403 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":88500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":317002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1051406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"43a37418-365c-4848-b885-5823259ca7c9","description":"","id":"43a37418-365c-4848-b885-5823259ca7c9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '43a37418-365c-4848-b885-5823259ca7c9'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":850322353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '43a37418-365c-4848-b885-5823259ca7c9'","result":{"duration":763004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":593104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":601404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":568903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":600904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":633404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":599604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":541403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":559903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":79001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.261 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":588003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.262 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":15110691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":195402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.277 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":133901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.278 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":661604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.278 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.278 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":547504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":359502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":236401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.092 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":286801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":329202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2443309-c655-4e64-b914-149050fd479c","description":"","id":"f2443309-c655-4e64-b914-149050fd479c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":856259790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":816305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":607504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":576803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":816705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":938006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":821305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":679204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":655804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":570003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":665204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:23.957 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":610704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":380802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:23.958 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":566704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":451403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:23.959 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":79800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":372102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:23.959 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":620204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":387303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:23.960 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":596003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:23.961 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":610704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":439203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.163 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":283201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":320802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d8c9463-a3da-401d-8251-8c6664865e0c","description":"","id":"3d8c9463-a3da-401d-8251-8c6664865e0c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":848318441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":1156707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":645504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":621104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":778305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1011306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":813505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":551203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":568804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":587803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":209002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.020 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":658604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":157401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.021 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":196102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.022 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":97000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.022 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":760805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":190701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.023 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":113701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.023 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":667104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":383002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":289802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.226 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":311702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":307802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":858777704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":1242408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":921805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":922905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":823305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1055107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1038406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":846405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":950106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":963906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":136801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.096 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":770005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.097 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":837705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":110001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.098 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":114601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.098 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1009006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":131601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.099 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":183201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.099 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1020406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":388902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":269802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.283 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":119001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":80801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845479824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":876805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":875605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":982006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1206707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1025407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":919805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":664404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":754204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":724205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":114301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":118500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.139 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":744305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.139 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":691404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.140 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":100101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.140 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1024106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.142 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.142 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":947706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":340402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":279502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:23.965 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":98601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":315002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":425102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"822d9417-a69f-4665-bc42-8c6d84e5dedb","description":"","id":"822d9417-a69f-4665-bc42-8c6d84e5dedb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '822d9417-a69f-4665-bc42-8c6d84e5dedb'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843342511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '822d9417-a69f-4665-bc42-8c6d84e5dedb'","result":{"duration":849505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":611904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":549203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":716605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":620003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":580903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":502903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":488903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":505504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":115701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.816 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":612103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":94500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.817 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":590004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.818 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.818 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":696704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.818 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.819 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":581504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":451402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":248902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.028 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":83100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":336002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":133600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eu-ecda1-2216-4100-96dc-6bede78f9813","description":"","id":"eu-ecda1-2216-4100-96dc-6bede78f9813","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":351402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eu-ecda1-2216-4100-96dc-6bede78f9813'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852611367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-ecda1-2216-4100-96dc-6bede78f9813'","result":{"duration":599603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":641903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":663005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":595203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":688504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":678905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":494903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":511803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":549103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":91700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:24.888 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":980405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:24.889 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":555303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":138800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:24.890 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:24.890 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":795405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:24.891 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:24.891 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":777305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":404602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":250502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.103 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":55300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":221301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":104500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":400203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":118100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":379203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":92801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","description":"","id":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":936400575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'","result":{"duration":568804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1196107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":857105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":601204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":634804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":807905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":554504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":552603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":617104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.048 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1001806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.049 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":877005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.050 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":308102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":369402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.051 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":651104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.052 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":170401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.052 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":13425381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":567104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":340902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.145 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":285702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":298501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":82500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1887e931-e1b9-4512-9ca2-61526439fd7b","description":"","id":"1887e931-e1b9-4512-9ca2-61526439fd7b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1887e931-e1b9-4512-9ca2-61526439fd7b'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":868517564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1887e931-e1b9-4512-9ca2-61526439fd7b'","result":{"duration":810705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":686704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":625104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":713904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":692404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":647304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":576003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":594304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":572203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":176501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.021 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":741705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":63500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.022 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":803305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.023 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.023 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":718004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.024 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.024 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":653204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":243301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.822 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":295602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":303601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1","description":"","id":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860770513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'","result":{"duration":824405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":684104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":706605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":695504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":795505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1083606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":136301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":603504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":926606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":698304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":140401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.691 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":784105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.692 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":625104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":149701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.693 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.693 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1677210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1226807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.697 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":274002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.697 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1802311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":453603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":358402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:24.894 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":296202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":343602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853216767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":889505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":881805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":886905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":780905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1194807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1044807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":634704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":582904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":694004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":125201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":167401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.757 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":825105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.758 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":563304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":117300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.758 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":103300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.759 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":628803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":109901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.759 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":104001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.759 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":625404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":478603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1290107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.027 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":292601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":285701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846396124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'","result":{"duration":764405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2550815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":743205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":854305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":887806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":958606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":206401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":882505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":806305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":681904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":232902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.884 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":737304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":212201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.885 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":624303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":421603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.886 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":396502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.887 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":397502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.888 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":347002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.889 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":770505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":328702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2612016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.070 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":561704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":97600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":359802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621fd336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621fd336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":846190823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":629104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":635404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":606904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":629604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1006406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":831905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":522404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":665604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":614004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":307502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:25.926 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":755705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":204101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:25.927 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":760605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":284402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:25.928 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":224402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:25.928 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":673004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":216701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:25.929 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":153801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:25.929 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":661404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":558204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":883205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.704 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":351902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":128901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":401102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":103801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":366802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621md336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621md336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":284102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":860333607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":889306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":784105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":793105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":595503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":677404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":760905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":553904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":496103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":505303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.573 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":548504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":95500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.574 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":530503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.574 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.575 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":596603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.575 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.575 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":586903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":446603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":341902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.764 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":151401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":394702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":81501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":166701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":634003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":849953345,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":661704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":645704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":600204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1496809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":690504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":659204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":514603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":513603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":522703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.623 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":985806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":65600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.625 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":975606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":153501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.626 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":125201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.626 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":758805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.627 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.627 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":618604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":336502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":243902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.895 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":99400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":154701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":332202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":410503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c4e7ab54-da5c-46ea-a5b5-53df01873240","description":"","id":"c4e7ab54-da5c-46ea-a5b5-53df01873240","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c4e7ab54-da5c-46ea-a5b5-53df01873240'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":855720879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c4e7ab54-da5c-46ea-a5b5-53df01873240'","result":{"duration":783805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":706805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":591203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":594804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":745904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":751104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":549604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":487903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":505703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":79801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.758 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?SERVICE=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":510103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.759 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":497903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.760 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":69900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.760 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":612603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":201302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.761 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":82500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.761 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":738504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":457103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:25.933 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":246701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":2337614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":172001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5e5d713c-e89d-441f-a848-9e4fe5d48400","description":"","id":"5e5d713c-e89d-441f-a848-9e4fe5d48400","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5e5d713c-e89d-441f-a848-9e4fe5d48400'","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":840054984,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5e5d713c-e89d-441f-a848-9e4fe5d48400'","result":{"duration":652304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":560903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":579804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":538903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":566503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":555604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":11515970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":597604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":637803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":122400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":152101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:26.793 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":660404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":140301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:26.794 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":2626216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:26.798 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":114701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:26.798 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1230508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:26.799 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":377102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:26.800 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1451509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":583704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.578 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":531804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":472403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","description":"","id":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":902725364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":831605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":642604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":728904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":638804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1041907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":988206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":666704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":758304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":7288244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":839205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":590903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.498 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":834005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":446203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.500 [print] OGC:CSW \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":662204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":565404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.501 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":79900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":400003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.501 [print] OGC:CSW \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":825305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":479403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.503 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":383002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.503 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":669704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":418502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":273702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.630 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":299401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":161201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bb27a13-76f1-4374-8d44-76e937198e8d","description":"","id":"0bb27a13-76f1-4374-8d44-76e937198e8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":900667051,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":834805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":670804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":3609622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":751205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":783105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":817605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":152001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":603704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":693704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":694804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":136601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":260002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.543 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1872311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":128801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.545 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":600304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.545 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.546 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":722104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.546 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":96701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.547 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":781405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":370402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.766 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":296602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":322301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","description":"","id":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853944669,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":758405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":990206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":757004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":689604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1000206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":869605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":573603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":937006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":861905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":162801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.630 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wfs\\\/v2_0?request=getCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1104407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":161701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.631 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":969306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.632 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":313601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.632 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1124507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":130401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.634 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":654104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.634 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":887605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":332702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":261802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:26.805 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":110501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":329702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":102700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":126801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9e2e977a-16a6-42a4-a208-c4f70704f383","description":"","id":"9e2e977a-16a6-42a4-a208-c4f70704f383","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":275702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":845623518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":770105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":771704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":963806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":791005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":868105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":954805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1017306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":790805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":828405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":121300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:27.661 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wms\\\/v2_0?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1062507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:27.662 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1017306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:27.663 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":468003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:27.664 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":874305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:27.665 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:27.665 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1525109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":320302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":239402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.507 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":117501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":156201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":441003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":120201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":461602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":407902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee56211d336d","description":"","id":"cf69ec50-9849-4afd-853c-ee56211d336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee56211d336d'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":862632821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee56211d336d'","result":{"duration":892605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":787705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1105307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1074707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":962706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1257407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":699804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":712204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":669104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":137201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.381 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":680204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.382 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":873006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.383 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":101700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.383 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":878206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.384 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.384 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1154707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":572004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":273802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.550 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":95300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":374102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":351502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8129296b-b9c1-489f-990a-df4a879e12b2","description":"","id":"8129296b-b9c1-489f-990a-df4a879e12b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":833618046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":606103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":571304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":572903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1705611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":719404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":665704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":590403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":550303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":498603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":346202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":449303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.393 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":790505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":408402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.395 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":793905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":532704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.396 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":461903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.396 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":674404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":366002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.398 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":620104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.398 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":689504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":352903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":244401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.638 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":84200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":515604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":125601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","description":"","id":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":852334659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":708904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":619404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":553603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":536604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":585603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":12801678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":202802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":789804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":570604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":592704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":437002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":384603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.511 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":615003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":358302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.512 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":612104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":280701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.513 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":253601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.514 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":620804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":269402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.515 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":250102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.515 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":583803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":425203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":564403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:27.669 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":266501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54122631-d343-40be-9c28-e44626b37a0e","description":"","id":"54122631-d343-40be-9c28-e44626b37a0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":312102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853037363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":566803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":739805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":536903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":706804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":755505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":553603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":481703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":590403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":529703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":129501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":450502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:28.530 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":555104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:28.531 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":500503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":222201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:28.532 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:28.532 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":638904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":139800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:28.533 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":93900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:28.533 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":863505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":353803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.388 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":320902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":8450851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":7726846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","description":"","id":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":882663743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":888405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":774505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":669204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":503203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":633804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":575304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":538704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":731504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":610804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":304902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.295 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":571204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":112000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.295 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":760805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.296 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":186201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":213501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.297 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":583704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":103601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.297 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":352702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.298 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":530803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":416003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":276002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.404 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":835805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":444803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a748a59-36f4-475b-9647-402b5ce89a1c","description":"","id":"7a748a59-36f4-475b-9647-402b5ce89a1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":844883114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":788605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":698404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":631604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":511103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":648304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":500803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":449802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":632104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":593204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":103401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":597003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.258 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":533404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":118600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.259 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":731305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.260 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":287001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.260 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":751605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.261 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":665804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.262 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":514604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":361102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":234501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.520 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":97301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":341002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0fa448bb-332b-40b2-adab-13626b29bee6","description":"","id":"0fa448bb-332b-40b2-adab-13626b29bee6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0fa448bb-332b-40b2-adab-13626b29bee6'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843836808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0fa448bb-332b-40b2-adab-13626b29bee6'","result":{"duration":922506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":528503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":658204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":544203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":726305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":647904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":461203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":490303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":490303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":233601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.371 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":573004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.372 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":604404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.373 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":128300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.373 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":633104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.374 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":117801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.374 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":789904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":376203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":235301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:28.538 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":127001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":243301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":287002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1227008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","description":"","id":"e27e61d8-25b1-45ee-a2df-071312ba8a69","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":853163463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":816005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":634404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":612603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":651803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":604303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":614704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":487703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":484003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:29.400 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":676304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:29.401 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":593503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:29.401 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":184001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:29.402 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":609204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:29.402 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:29.402 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":676105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":386702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":297402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.265 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":138701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":356402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":321802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","description":"","id":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":253102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":839937884,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":761805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":595603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":642003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":756405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":627004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":699804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1198407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":630104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":604804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:30.114 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1149907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:30.116 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":913505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:30.117 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:30.117 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":665404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:30.118 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:30.118 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":579904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":451802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":239001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.301 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":92400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":284902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":311301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"12505d53-a942-467e-a462-ddbe5ac6467f","description":"","id":"12505d53-a942-467e-a462-ddbe5ac6467f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":108401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":843092103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":709205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":616103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":530704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":611304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":593403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":549604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":477603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":475203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":472903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:30.151 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":654104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":216701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:30.152 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":946006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:30.153 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":184802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:30.153 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":697904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":61100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:30.154 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:30.154 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":658204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":357902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":222001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"05:01:29.379 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":76700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":341702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":391602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8a772a52-d659-47b3-a131-82398fb78664","description":"","id":"8a772a52-d659-47b3-a131-82398fb78664","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":835725858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":668904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":672304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":10535064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":683004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":739605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":652304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":677904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":719005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1114707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"05:01:30.234 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1107506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":277402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"05:01:30.235 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":140201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"05:01:30.236 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"05:01:30.236 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":657304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":234501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"05:01:30.237 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":153501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"05:01:30.237 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":578204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":377702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]}],"name":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","description":"get details","id":"get-details","keyword":"Feature","uri":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","tags":[{"name":"@step1","line":1}]}]