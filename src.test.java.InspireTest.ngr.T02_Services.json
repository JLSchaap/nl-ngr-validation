[{"line":2,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":111801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:46.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":120101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":154102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":162802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":342704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":170703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":601908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":124601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":5620772,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","description":"","id":"f61eec5c-cb91-40b6-ad35-9bca967006cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":85702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":23201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546487763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'","result":{"duration":849111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":705109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":629008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":565807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":907212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":685909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":170703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":616108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":536207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":513207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":577607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":330004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.194 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":600808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":298604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.195 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":546107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":239004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.195 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":160502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":211603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.196 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":504706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":238903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.197 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":207703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.197 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":471606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":7565598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":823310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":101301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:46.639 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":80301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":161502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":313504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":175103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":5783475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":132301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":861511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","description":"","id":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":619876762,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'","result":{"duration":563306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":553006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":481906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":674807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":703808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":721908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":500505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":461705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":443805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":163401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":188902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.274 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":456705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":222402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.275 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":494805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":194302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.276 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":118702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":128601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.276 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":435005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":179002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.277 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":138102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.277 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":449105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":804808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":581206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":112201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:46.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":90202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":635108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":638108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":160002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":3140641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":117102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":515406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","description":"","id":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558975324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'","result":{"duration":538707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":454606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":443106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":432005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":579307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":604408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":161202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":504806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":473006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":448606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":533907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":247903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.218 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":496906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":248403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.219 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":480706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":239103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.220 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":124201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":208903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.220 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":463806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":287604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.221 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":233003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.221 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":421105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":882412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":607508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":95201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:46.651 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":154002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":2288730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":204703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":598908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":1541520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":501606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bd14098b-44e6-47e5-959d-f40dda65da5a","description":"","id":"bd14098b-44e6-47e5-959d-f40dda65da5a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":71601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":641084966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'","result":{"duration":580606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":462105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":503505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":568606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":640607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":654907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":122802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":476305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":529106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":648207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":177902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":160302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.305 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":548206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":174502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.306 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":463705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":154102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.306 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":113802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":127301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.307 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":517905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.308 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":147801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.308 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":458105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":691308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":501505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.208 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":295403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":447806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":124402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","description":"","id":"22bedc12-e9cb-4419-8e51-dfb375d46d01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545549803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'","result":{"duration":652007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":533305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":445604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":413205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":552606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":545206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":440005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":451405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":400004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":381604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.761 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":515105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.762 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":424604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":180202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.762 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":145802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.763 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":582306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":111901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.763 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":158101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.763 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":478905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":918010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":683007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.227 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":281204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":126901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"73286af2-d0f4-4a62-9455-86ffa45ef279","description":"","id":"73286af2-d0f4-4a62-9455-86ffa45ef279","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":613572988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'","result":{"duration":475305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":451805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":433505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":408304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":571206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":450305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":359304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":356304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":357704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":379604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":351003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.847 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":407404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":304203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.848 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":401304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":286903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.848 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":248103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.849 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":397504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":252603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.849 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":227302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.850 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":407404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":792309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":514905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.281 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":226002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","description":"","id":"ea4cb6a2-f637-413a-91cc-d58473c2f138","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":599740400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'","result":{"duration":518505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":500206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":511005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":456405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":524705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":513506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1242414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":413504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":406904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":108601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1104812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.889 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":430605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":434304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.890 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":425804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":385405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.890 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":360604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.891 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":474005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":432204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.892 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":823409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.892 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":508906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":748408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3435937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.312 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":213803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d01c1ca-973c-4652-baa5-39458bb9e181","description":"","id":"3d01c1ca-973c-4652-baa5-39458bb9e181","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":584566738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'","result":{"duration":422404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":457204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":433604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":659907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":500705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":518406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":380804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":350003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":352403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":176201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":146701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:47.902 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":402605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1625717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:47.905 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":400405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":198402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:47.905 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:47.905 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":27048889,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":304204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:47.933 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":186902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:47.933 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":570706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":666007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":518406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.768 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":262802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":54201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":557606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","description":"","id":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540142764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'","result":{"duration":701307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":444305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":452605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":696107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":609806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":130702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":445805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":455005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":465405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":165102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1545716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:48.317 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":882909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":180202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:48.318 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":779809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":190002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:48.319 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":412804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:48.319 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":741708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":168002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:48.320 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":448005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:48.321 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":953910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":675407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":590506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.855 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":250903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":472905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":235602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"070014b4-1f63-4819-beea-000b7d5f8d86","description":"","id":"070014b4-1f63-4819-beea-000b7d5f8d86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":70301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537729738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'","result":{"duration":626807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":480905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":411904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":417104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":637107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":593807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":123101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":412605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":450505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":446505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":340103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":278303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:48.400 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":463905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":237802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:48.401 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":784708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":298603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:48.402 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":120801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":255803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:48.403 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":416104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":277603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:48.403 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":219502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:48.404 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":548106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":630907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":578206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.900 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":265603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":5165455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"87a382da-c6dc-403c-a006-2379eb6daaa6","description":"","id":"87a382da-c6dc-403c-a006-2379eb6daaa6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24309660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":177802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":101701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":567340055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'","result":{"duration":540206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":483405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":439805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":379904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":653007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":540306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":115001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1124512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":486905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":460805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":167702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":314904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:48.504 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":527505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":178401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:48.505 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":523705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":163902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:48.506 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":212503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":139901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:48.506 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":484005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":171901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:48.507 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":227202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:48.507 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":496406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":661107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":554906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":88201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:47.943 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":102801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":215103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":181102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":523705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":178901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":593206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":124201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":159101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","description":"","id":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":294703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":579059780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'","result":{"duration":423804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":439205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":412705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":431204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":596606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":605407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":116701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":480805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":474106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":463105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":218702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":172202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:48.531 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":464705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":204603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:48.532 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":464505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":152702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:48.532 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":108101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":125001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:48.533 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":460605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:48.533 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":71200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:48.533 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":425205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":640607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":477005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:48.326 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":348603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":174702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":581006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":132402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":151201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c39474-aef9-4169-95da-9890af440b14","description":"","id":"03c39474-aef9-4169-95da-9890af440b14","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":124302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527551431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'","result":{"duration":604006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":486205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":434305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":419304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":542205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":513905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":440905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":378504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":401004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":155601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:48.861 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":385005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:48.861 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":379404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:48.862 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:48.862 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":450604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:48.863 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:48.863 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":439105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2000322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":722008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:48.408 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":216503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":162502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":513006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":121201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":245903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","description":"","id":"b4485d59-a945-4940-a2f5-3ce7de6a947b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545000617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'","result":{"duration":445405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":422605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":386504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":388904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":632007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":467605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":340203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":378704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":501905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":647707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":545706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:48.961 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":370003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":419704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:48.962 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1098712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":448505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:48.963 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":78701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":380704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:48.964 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":415905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":399704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:48.965 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":604407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:48.965 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":406704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":727807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":832008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:48.511 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":153102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":363804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":525506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":119401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":143802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a931e334-b752-4935-8a98-00eddc443789","description":"","id":"a931e334-b752-4935-8a98-00eddc443789","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531168869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'","result":{"duration":516805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":436704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":381304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":481505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":475105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":361504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":358804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":359904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":588206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:49.050 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":425704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":432005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:49.051 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":387804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":397105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:49.051 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":81301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":388504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:49.052 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":457605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":424705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:49.053 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":633207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:49.053 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":431904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":625606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":700908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:48.537 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":247102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","description":"","id":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539603059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'","result":{"duration":456205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":450505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":424905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":432904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":463205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":446504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":336404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":358104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":394104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":730108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:49.082 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":417305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":394204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:49.083 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":406904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":381504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:49.085 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":360803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:49.085 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":448804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":427805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:49.086 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:49.086 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":971111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":938010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1231113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:48.869 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":257703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":421405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","description":"","id":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546322531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'","result":{"duration":591007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":448805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":445905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":574506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":494305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":379504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":449105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":353704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":88001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":118801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:49.422 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":345904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:49.422 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":346004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:49.423 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:49.423 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":412905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:49.423 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":55200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:49.423 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":409604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":798509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":601306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:48.971 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":251902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":445905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":405504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","description":"","id":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540565770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'","result":{"duration":477805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":450205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":414205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":393704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":477705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":492005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":404604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":359604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":424204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":579907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":637507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:49.519 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":403604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":470605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:49.519 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":417304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":453105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:49.520 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":443005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:49.521 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":442505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":472605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:49.522 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":677707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:49.523 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":397905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":709407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":702007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:49.070 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":255303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":387904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a6098c24-4caf-4528-954c-672b9ec6cf78","description":"","id":"a6098c24-4caf-4528-954c-672b9ec6cf78","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":100401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541539380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'","result":{"duration":570406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":484405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":433704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":448104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":543205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":486005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":370404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":363603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":437204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":672208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":599606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:49.619 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":414005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":472505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:49.620 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":419905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":424504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:49.621 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":384504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:49.621 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":480205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":509805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:49.622 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":613107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:49.623 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":486905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1126912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1205113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:49.091 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":252703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"745968a3-37af-4406-988e-ec595f58c7fe","description":"","id":"745968a3-37af-4406-988e-ec595f58c7fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548228850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'","result":{"duration":455105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":445905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":385904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":389604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":470205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":451705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":45301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":336404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":340403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":341803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":120702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:49.645 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":345403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:49.646 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":350503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:49.646 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:49.647 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":409105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":82401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:49.647 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:49.647 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2058122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":4387547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":491905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:49.428 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":255002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37308f90-e619-4b62-ae9e-e656bb3f1649","description":"","id":"37308f90-e619-4b62-ae9e-e656bb3f1649","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528581041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'","result":{"duration":589806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":418804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":468105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":525806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":475705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":380604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":362304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":481905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":149002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":437105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:49.963 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":417304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":299303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:49.963 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":396805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":264703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:49.964 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":210003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:49.964 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":453205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:49.965 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":197303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:49.965 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":422704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":855810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":580506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:49.528 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":250303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":382404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","description":"","id":"364c5d7a-d6ec-11ea-87d0-0242ac130003","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538107243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'","result":{"duration":584106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":483305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":369604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":350503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":436505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":407405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":351104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":328204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":343304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":173702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":548606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:50.073 [print] #notpresent \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":377704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":431005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:50.074 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":371104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":407704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:50.075 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":389804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:50.075 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":419304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":427805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:50.076 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":1806919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:50.078 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":399605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":764808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":524106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:49.635 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":135002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1391015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":451805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1149512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","description":"","id":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530590663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'","result":{"duration":587207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":454805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":412504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":392904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":553006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":453705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":356804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":354904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":695008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":858609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:50.175 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":411405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":462205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:50.176 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":392104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":452205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:50.177 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":381504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:50.177 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":431905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":445405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:50.178 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":1289414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:50.179 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":491905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":786709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":646707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:49.657 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":365504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":419304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":399404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"539ec652-482d-4806-a830-0458cf8be477","description":"","id":"539ec652-482d-4806-a830-0458cf8be477","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552961001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'","result":{"duration":16817679,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":470205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":532805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":387404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":612207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":549406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":392504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":545406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":4603149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2857431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":636307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":659607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:50.241 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":474805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":504305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:50.242 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":464605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":468005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:50.243 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":125801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":595806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:50.244 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":437404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":502106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:50.245 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":681207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:50.245 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":435305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":648707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":542406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:49.970 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":271303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":122201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","description":"","id":"82fa284e-8218-40e4-a593-c2f8a832c3d5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":112201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533779997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'","result":{"duration":688207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":384604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":365604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":690507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":547506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":417804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":411805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":423605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":226202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1104312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:50.511 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":487506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":537405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:50.512 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":456504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":467205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:50.513 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":126301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":444205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:50.514 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":402004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":496705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:50.515 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":727708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:50.516 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":394504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":606906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":4615349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:50.082 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":249003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":417904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":414604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"914a6e0c-2aae-42f8-8425-2a047c245dab","description":"","id":"914a6e0c-2aae-42f8-8425-2a047c245dab","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":591264310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'","result":{"duration":634907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":498805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":451505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":463705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":645107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":534406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":116002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":420204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":462405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":467705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":618807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":652307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:50.681 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":538306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":496605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:50.683 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":501006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":507405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:50.684 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":160702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":501506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:50.684 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":458705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":518305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:50.685 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":662807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:50.686 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":426904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":570406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":508805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:50.184 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":68700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":259002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":390705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","description":"","id":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":59001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539717460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'","result":{"duration":543505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":473405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":439404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":457404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":592106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1205013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":118001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":444704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":466204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":459005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":589106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":648207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:50.732 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":473205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":471005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:50.733 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":479005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":479005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:50.734 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":434004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:50.735 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":462104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":477505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:50.736 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":630007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:50.736 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":456405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":550006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":489805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:50.251 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":195103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":352704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":182802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":485905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":481206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6b608d4e-5628-4d59-97fc-0322c57357b2","description":"","id":"6b608d4e-5628-4d59-97fc-0322c57357b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":69201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553827110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'","result":{"duration":469405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":460905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":417504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":410304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":494605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":473706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":349004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":331604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":340803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":566006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":616206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:50.813 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":389704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":424604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:50.813 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":421704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":398605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:50.814 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":363904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:50.815 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":441005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":409205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:50.816 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":636607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:50.816 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":443405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1618217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1064111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":67801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:50.524 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":103201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":146402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":182702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":370604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":146301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":495405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":113201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":462104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feeae7d3-7485-4a39-895c-ed65e945ced0","description":"","id":"feeae7d3-7485-4a39-895c-ed65e945ced0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":586551160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'","result":{"duration":529906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":412705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":373304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":394904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":485705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":430905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":377904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":372504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":330303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":265302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":218902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.119 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":366904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":159201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.119 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":380505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":136001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.120 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.120 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":397904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":128501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.120 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":102601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.121 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":381904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":759208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":493306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":81501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:50.690 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":171901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":159501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":561506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":151401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":481205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":479805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","description":"","id":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531640874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'","result":{"duration":541305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":418505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":414805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":354403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":479505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":445605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":390304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":427004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":347304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":178502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":162102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.229 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":349804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":157902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.230 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":342804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":197302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.230 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.231 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":384304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":206202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.231 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":163701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.231 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":406604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":673607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:50.748 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":149501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":336304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":145202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":585706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":654907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","description":"","id":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538596748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'","result":{"duration":370804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":385105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":349703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1611917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":424005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":412004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":307103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":302104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":337303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":645507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.295 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":356304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":429605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.296 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":346204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":391004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.297 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":369504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.297 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":395504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":442405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.298 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":613907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.299 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":395504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":635807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":460905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:50.825 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":228602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":254103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":623907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1413516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","description":"","id":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":58900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532845586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'","result":{"duration":414404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":436105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":422005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":404704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":498206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":473505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":346803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":358003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":348603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":215203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":164602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.365 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":412604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.366 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":391405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":125201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.366 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":143001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.367 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":435305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.367 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":131402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.367 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":442805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":505305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1129012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.125 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":84201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":261903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":147301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","description":"","id":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537343135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'","result":{"duration":498006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":428305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1203213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":426805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":478705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":501505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":345804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":332104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":353104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":390304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.669 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":380004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":309504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.670 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":372604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":235302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.671 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":132102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.671 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":411804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":178102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.672 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":114102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.672 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":642107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":878009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":500606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.235 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":62100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":246603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":876709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":54601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":179102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","description":"","id":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534220101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'","result":{"duration":476505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":447405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":434505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":397604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":468405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":415405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":371004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":344803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":339304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":303903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":276703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.776 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":369904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":265103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.777 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":355804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":281803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.778 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":243402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.778 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":394505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":276603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.779 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":211802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.779 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":391205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":678007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":499805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.306 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":234802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":379504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c47e4ef8-951e-4765-8d01-29150c12a22d","description":"","id":"c47e4ef8-951e-4765-8d01-29150c12a22d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566980851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'","result":{"duration":422904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":410804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":381804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":356304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":419905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":392504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":316103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":301603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":332603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.878 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":796809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.879 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":613806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.880 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":289703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.880 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":612806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.881 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":325804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.881 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":848309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":605507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":460405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.376 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":214902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":2024322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","description":"","id":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544661213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'","result":{"duration":383704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":417905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":350504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":349904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":406404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":395404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":304703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":300604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":340403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:51.928 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":318904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":193902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:51.928 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":332104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:51.929 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:51.929 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":453905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:51.930 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":64701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:51.930 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":478205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":529206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":486305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.676 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":245703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":156502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","description":"","id":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":58500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533236691,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'","result":{"duration":579106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":453604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":386404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":391104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":484105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":463505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":329004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":351504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":398504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":129602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:52.215 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":372704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":140301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:52.216 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":361503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":142301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:52.216 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:52.216 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":457405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:52.217 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:52.217 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":448305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":780708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":509506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.783 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":344704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":124601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":237102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","description":"","id":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539589659,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'","result":{"duration":431805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":445705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":415905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":397104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":488705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":467505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":354004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":383704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":371203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":391004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:52.329 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":398304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:52.329 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":473305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:52.330 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":141201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:52.330 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":432104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:52.331 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":170702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:52.331 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":395204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":589607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":475705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.888 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":60701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":230402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":538606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a8ad0d7d-ea9e-4261-bc92-772e99a41387","description":"","id":"a8ad0d7d-ea9e-4261-bc92-772e99a41387","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":615007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'","result":{"duration":57100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537124432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'","result":{"duration":529505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":499906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":448805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":436004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":509005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":24888866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":629507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":552406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":475505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":451205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1061212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":649207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:52.459 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wfs?service=wfs&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":481005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":509406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:52.460 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":470105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":193202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:52.461 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":387204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":173901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:52.462 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":461405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:52.462 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":192302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:52.463 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/eng\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":445005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":557506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":446705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:51.935 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":77900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":65201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":280403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":440205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":682007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","description":"","id":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529246848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'","result":{"duration":517805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":500905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":511206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":436304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":607607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":500005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":441505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":445904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":472805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":159502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":163801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:52.475 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":490505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":154802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:52.476 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":457205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":148502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:52.477 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":94001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":111601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:52.477 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2570528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1107812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:52.481 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":942610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:52.482 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":475005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":480105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:52.221 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":145101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":259203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f59357eb-185f-42a5-b465-90bfa6e3e416","description":"","id":"f59357eb-185f-42a5-b465-90bfa6e3e416","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":524209394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'","result":{"duration":675007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":480605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":423204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":390904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":664808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":446605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":150201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":478406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":474305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":466305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":179302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1017811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:52.753 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":472805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":337204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:52.754 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":463705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":531406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:52.755 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":117501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":371704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:52.756 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":472805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":400505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:52.757 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":246802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:52.757 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":429005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":4066844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":457405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:52.334 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":58900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":64700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":236703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d8c9463-a3da-401d-8251-8c6664865e0c","description":"","id":"3d8c9463-a3da-401d-8251-8c6664865e0c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":109002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":56200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526744421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d8c9463-a3da-401d-8251-8c6664865e0c'","result":{"duration":631507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":431804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":354003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":346804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":600807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":424404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":117901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":398104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":397205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":417504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":3090133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":380604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:52.871 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":435605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":320003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:52.872 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":427905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":279703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:52.872 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":217303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:52.873 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":395104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":289403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:52.873 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":227303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:52.874 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":393404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":542206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":3543838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:52.468 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":145302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":147302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":333404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":146201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":473605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":109401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":474905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","description":"","id":"7d641d0e-c04b-4191-833e-c578ac2abe5f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541875383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'","result":{"duration":485905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":455805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":420505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":409804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":643906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":510305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":386304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":371104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":368704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":245003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":214502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.018 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":428004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":210003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.018 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":387304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":197302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.019 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.019 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":506405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":201502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.020 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":636307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.020 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":417805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":584006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":476705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:52.486 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":152802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":136401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":305603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":131801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":477706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":107901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":469805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","description":"","id":"ac3ee940-4f98-427c-a2d9-58696005d9c2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":66001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544950716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'","result":{"duration":432305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":437105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":381104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":376404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":460705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":438505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":336603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":329604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":356804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":589806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":616306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.043 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":376304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":395705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.043 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":377004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":391604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.044 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":361504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.045 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":416405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":429704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.045 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":545106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.046 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":413605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":555006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":418005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:52.768 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":155002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":141001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":345703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":137402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":465205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":106201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":477605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"257b960c-ece6-4e0f-b893-77b219c6133f","description":"","id":"257b960c-ece6-4e0f-b893-77b219c6133f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":258403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":65400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":508080422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'","result":{"duration":656207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":515306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":439705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":418804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":539406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":509706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":407904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":394404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":384805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.283 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":601407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":306803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.284 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":371004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":89201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.285 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":131001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":236603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.285 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":413804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.286 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":259703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.286 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":402104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":857809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":582407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:52.881 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":134901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":142802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":335204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":131101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":477005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":245702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","description":"","id":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543118796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'","result":{"duration":421805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":451505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":442705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":408104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":492906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":463005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":365904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":372604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":350603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.430 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":354304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.431 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":420204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.431 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.432 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":442205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.432 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.432 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":436905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":416105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.024 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":233602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":376604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7d533012-21ad-4a5b-a97e-a76988270273","description":"","id":"7d533012-21ad-4a5b-a97e-a76988270273","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":84401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":570811092,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'","result":{"duration":414804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":435105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":370104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":367004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":421105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":450205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":333904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":328404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":322003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.601 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":342204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":136801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.601 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":370104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.602 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.602 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":409004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.603 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":98801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.603 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":383404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":522906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.050 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":225402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":375904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","description":"","id":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":589582693,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'","result":{"duration":400904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":412205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":379204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":376404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":443005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":472005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":358604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":329304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":352204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":450005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":614406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.646 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":419004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":549606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.647 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":392105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":209902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.648 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":111101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.648 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":602807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":188102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.649 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":213702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.649 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":386204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":535605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":415105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.290 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":256403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":108602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2443309-c655-4e64-b914-149050fd479c","description":"","id":"f2443309-c655-4e64-b914-149050fd479c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":57400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537227933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2443309-c655-4e64-b914-149050fd479c'","result":{"duration":553305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":473605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":427404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":407004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":527406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":523006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":337104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":329203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":329003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":653707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":630907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.835 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":356604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":98801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.835 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":664507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":407105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.836 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":351604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.836 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":416105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.837 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":327903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.837 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":394304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":800709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":485105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.436 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":231102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","description":"","id":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":338203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527326528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'","result":{"duration":471705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":392704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":370104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":348004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":530206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":446605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":352104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":319203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":402304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":488305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":545906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:53.970 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":377604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":420905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:53.970 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":363104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":396004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:53.971 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":380204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:53.972 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":393304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":429605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:53.973 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":608007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:53.973 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":405804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":664107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1279313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.606 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":221603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":390504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","description":"","id":"ebd6ea46-ee7b-432f-83c4-058c889a790d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":62000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":517248820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'","result":{"duration":537706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":479805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":433504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":435505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":517506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":505305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":370004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":406904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":384904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:54.129 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":395904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:54.130 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":383904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:54.130 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":79401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:54.130 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":460805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:54.131 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":82601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:54.131 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":454005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":711308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":462805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.652 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":372904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":104401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","description":"","id":"7b4a0b26-5885-45cd-a99d-27887cff68e5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543808904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'","result":{"duration":415404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":390304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":366804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":354104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":450305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":427104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":314103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":325804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":334804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":155501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":131201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:54.201 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1462216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:54.203 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":359404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":159001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:54.204 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":105101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:54.204 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":393805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:54.204 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":90601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:54.204 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":390905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":568706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":409704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.842 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":90300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":279603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":134101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a149d97f-0d55-462e-9956-5b47bea00a8d","description":"","id":"a149d97f-0d55-462e-9956-5b47bea00a8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":524911603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'","result":{"duration":564706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":475305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":398404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":397404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":511406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":489105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":369903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":351803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":383204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":235302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":649407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:54.374 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":433004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":401704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:54.375 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":396504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":387204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:54.376 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":347303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:54.376 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":431905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":416205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:54.377 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":529606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:54.378 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":429504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":752608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":484005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:53.978 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":412304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","description":"","id":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":102602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531245670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'","result":{"duration":608407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":499105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":511306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":439705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":529406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":496005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":372004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":387504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":11705925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":343704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":883309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:54.528 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1024810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":176001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:54.529 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":835509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":158701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:54.530 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":438204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":133502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:54.531 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":174002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:54.532 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":426105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:54.532 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":488906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":561006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":457205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:54.135 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":245503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43","description":"","id":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525863712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'","result":{"duration":682707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":510306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":460305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":441405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":670107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":607207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":102501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":430705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":462205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":374204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":162702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":684707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:54.668 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":890009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":180802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:54.669 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":744308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":153202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:54.670 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":407505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":148901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:54.670 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":705508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":161802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:54.671 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":418904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:54.672 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":937310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":605706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1240513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:54.208 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":539305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":261903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2931d583-9633-49d3-ad38-aabea82f6751","description":"","id":"2931d583-9633-49d3-ad38-aabea82f6751","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526292217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'","result":{"duration":603407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1452015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":434504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":423005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":660407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":613907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":113001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":402505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":417604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":360803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":360303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":311203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:54.743 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":496605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":322204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:54.744 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":438905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":293103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:54.745 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1413615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:54.746 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":394304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":294003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:54.747 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":221603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:54.747 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":373904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":568606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":410005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:54.382 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":76500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":258603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","description":"","id":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":56400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533732496,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'","result":{"duration":845010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":487405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":510506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":400004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":642807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":528006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":388804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":395305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":325403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":595607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":679807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:54.924 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":448405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":538506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:54.925 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":454305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":482705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:54.926 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":110102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":453805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:54.926 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":415604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":485405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:54.927 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":766208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:54.928 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":469505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1280614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":472105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:54.537 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":136601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":144701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":358904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":129002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":479705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":105901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":126802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","description":"","id":"13e4dff0-1e80-11e2-81c1-0800200c9a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":386704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543772503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'","result":{"duration":564906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":442605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":399304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":378005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":714707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":816208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":112501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":462805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":435005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":351504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":596206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":632307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:55.090 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":395004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":479105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:55.091 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":347004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":409704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:55.092 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":393904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:55.092 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":409404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":438404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:55.093 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":825109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:55.094 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":372104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":618306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":495706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":65501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:54.678 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":140801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":137602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":378404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":130101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":505505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":127101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":133401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","description":"","id":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":351704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534795207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'","result":{"duration":610007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":514306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":434504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":423505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":532906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":502905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":439705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":373804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":393604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":670408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1014611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:55.222 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":412704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":460705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:55.223 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":454305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":477205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:55.224 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":403605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:55.225 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":418804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":429305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:55.225 [print] RDW \n","line":56}},{"name":"print operateson","result":{"duration":628007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:55.226 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":440305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":775208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":577606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:54.752 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":142202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":152502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":324403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":136602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":467805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":101201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":239703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","description":"","id":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":560910117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'","result":{"duration":478406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":414605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":349304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":321804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":413304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":391605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":289304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":294403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":303904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:55.319 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":535706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:55.319 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":522906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:55.320 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":102201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:55.320 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":399004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:55.321 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":111802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:55.321 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":394904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":644208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":431305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:54.934 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":135501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":2352425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":153602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":486805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":102301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":465405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","description":"","id":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":521723075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'","result":{"duration":502705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":434304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":362904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":332404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":443205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":414805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":291104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":337103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":311503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":91801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":110902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:55.464 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":565206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:55.465 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":480805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:55.465 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":181702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:55.466 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":479506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:55.466 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":212302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:55.466 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":357404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":761508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":485205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:55.098 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":252003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":377105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","description":"","id":"93c8762c-4cbb-42b0-9b02-89ef902e8880","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523823383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'","result":{"duration":469905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":418305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":381904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":385305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":462205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":440605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":369004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":338204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":332704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":86201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":494106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:55.628 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":764708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:55.629 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":681007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:55.629 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":333703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:55.630 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":700008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":95402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:55.631 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":329403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:55.631 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":917511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":524706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":407304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:55.230 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":268203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":449804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":393204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","description":"","id":"e222648d-d19e-4a99-a67d-2af1c9aabd75","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538617419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'","result":{"duration":482005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":487506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":376004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":365504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":436605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":438405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":339104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":350604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":337604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:55.775 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":388104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:55.776 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":622507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:55.777 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":340204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:55.777 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":661108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:55.778 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:55.778 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":427405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":952510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":686907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:55.324 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":253403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":457805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","description":"","id":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545263807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'","result":{"duration":455505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":445305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":410205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":449105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":438505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":400105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":303104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":313003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":338503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":115502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:55.875 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":546906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:55.876 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":430705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:55.876 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":138902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:55.877 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":509405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:55.877 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:55.877 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":559006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":522605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1858620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:55.470 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":263503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":490405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","description":"","id":"e27e61d8-25b1-45ee-a2df-071312ba8a69","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":150102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":561510189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'","result":{"duration":504405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":483606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":459705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":388705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":514106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":453605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":358004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":347304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":335003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.038 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":990611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.039 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":660808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.040 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":289503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.040 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":704008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.041 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":430305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.041 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":446205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":697107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":535706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:55.635 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":69900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":235503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ca52-85123f579","description":"","id":"ef2a7962-8bb4-483f-ca52-85123f579","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":293003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534189783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'","result":{"duration":512406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":441505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":395304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":396305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":601807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":474405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":348504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":363004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":356004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":97202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.175 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":640108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.176 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":471905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.177 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":147101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.177 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":543806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":117101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.178 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.178 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":584206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":617306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":429504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:55.782 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":249003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":407905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e91719b1-a139-42cf-8a1a-db78cd7477f8","description":"","id":"e91719b1-a139-42cf-8a1a-db78cd7477f8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e91719b1-a139-42cf-8a1a-db78cd7477f8'","result":{"duration":61300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545295507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e91719b1-a139-42cf-8a1a-db78cd7477f8'","result":{"duration":488205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":452205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":403405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":414205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":484005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":437904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":340904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":327204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":326403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.334 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2009\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":334703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":68501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.334 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":431805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.335 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.335 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":435105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.335 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.335 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":569406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":563907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":436305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:55.883 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":227903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54122631-d343-40be-9c28-e44626b37a0e","description":"","id":"54122631-d343-40be-9c28-e44626b37a0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533046770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'","result":{"duration":398405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":392904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":351904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":357104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":421505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":433805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":317103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":306804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":331104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.421 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":324604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.421 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":327503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.422 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.422 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":391105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.422 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.422 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":370804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":430705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.046 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":282904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d467c2cc-4026-b80a-d4e1a9d2bf79","description":"","id":"d467c2cc-4026-b80a-d4e1a9d2bf79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":52201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527607309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'","result":{"duration":670507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":540006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":488405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":481605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":597207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":570306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":402605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":425104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":419804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":138001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.580 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":15719776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":342704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.597 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":526406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":161602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.597 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":97501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.597 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":486505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":156102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.598 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":123102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.598 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":464505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":527806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1505317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.182 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":244603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":411605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"01572637-b851-4cc3-b06a-56c1ae1115cc","description":"","id":"01572637-b851-4cc3-b06a-56c1ae1115cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530647243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'","result":{"duration":570606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":436705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":401105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":412404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":590407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":531706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":393305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":463205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":429504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":685108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.719 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":409305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":517606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.720 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":448305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":499506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.721 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":103301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":430305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.722 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":429805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":525506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.723 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":725308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.723 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":414505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":525006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.339 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":266803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"91041d33-54f8-40f1-8965-a867ba00cab8","description":"","id":"91041d33-54f8-40f1-8965-a867ba00cab8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529148527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'","result":{"duration":709308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":470106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":391904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":404105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5383760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":591806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":114702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":395204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":397605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":385004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":437004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":453505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.880 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":351604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":355704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.881 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":402105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":329703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.881 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":288303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.882 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":380604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":319204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.883 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":297004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.883 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":401804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":573006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":451405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.426 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":229603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","description":"","id":"1e01d173-96f4-40b1-8236-c6a9cfdac252","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":509504406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'","result":{"duration":526906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":464305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":480905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":390104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":556207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":537906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":394504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":395904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":426005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":366304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":359404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:56.942 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":366905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":360304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:56.942 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":419905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":344004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:56.943 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":654707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:56.944 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":405605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":489906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:56.945 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":630507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:56.946 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":410505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":499205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":394404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.610 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":126501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":379004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":123202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":99001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":287803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"66805d91-a5f6-4265-bd36-ef13a429c97e","description":"","id":"66805d91-a5f6-4265-bd36-ef13a429c97e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":69001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528983624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'","result":{"duration":477605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":415405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":336904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":337504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":740008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":543706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":367404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":394005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":413304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":738609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":699408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:57.147 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":346204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":446505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:57.148 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":370104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":403505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:57.148 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":393504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:57.149 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":369504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":4490251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:57.154 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":651707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:57.154 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":368004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":560806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":456205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.728 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":207503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":350904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":122401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":94801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":311203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42da491e-d8b9-47ba-af65-acb15ea8a055","description":"","id":"42da491e-d8b9-47ba-af65-acb15ea8a055","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":519957423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'","result":{"duration":543006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":429705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":381404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":370304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":464005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":424705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":338204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":318403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":345303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1348815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":286303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:57.256 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":365604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":232103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:57.256 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":354004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":204603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:57.257 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:57.257 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":399304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":193802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:57.258 [print]  \n","line":56}},{"name":"print operateson","result":{"duration":153102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:57.258 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":397804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":678008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":467105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":56501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.887 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":160302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":137502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":383604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":121402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":468505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":104601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":308604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","description":"","id":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":68201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530418540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'","result":{"duration":560707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":479905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":421905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":381604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5021856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":479405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":340104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":323304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":393104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":257703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":242503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:57.429 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":337404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":208603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:57.430 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":346204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":199202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:57.430 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:57.430 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":422905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":203902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:57.431 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":133701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:57.431 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":415005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":783809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":461005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:56.950 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":131202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":123201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":348604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":119702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":466305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":97401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":475906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","description":"","id":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":522090247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'","result":{"duration":374204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":390704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":359504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":353304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":380004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":356704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":328104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":287203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":290303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":157802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:57.478 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":392504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":152402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:57.478 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":316204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:57.479 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:57.479 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":407704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:57.480 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:57.480 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":455505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":516806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":428005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:57.158 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":258903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":179902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","description":"","id":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533077571,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'","result":{"duration":525106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":448605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":400805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":377904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":493405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":469905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":337404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":322304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":338504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":109001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:57.697 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":368704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:57.697 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":354304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:57.698 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:57.698 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":367704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:57.698 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:57.698 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":357604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":671908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":491705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:57.262 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":255503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":396604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":175402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","description":"","id":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":513922256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'","result":{"duration":453605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":430804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":381204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":368004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":440505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":420605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":306503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":294903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":326403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":108001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:57.781 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":320803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:57.781 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":365804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":77301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:57.782 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:57.782 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":386005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:57.782 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:57.782 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":360904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":598207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":451705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:57.435 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":52901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":288903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","description":"","id":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528025114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'","result":{"duration":520906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":500206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":407304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":369605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":491205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":480906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":327404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":348104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":325504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1031712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":597407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:57.970 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":379404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":451705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:57.971 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":396704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:57.972 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":327403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:57.972 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":590407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":398905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:57.973 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":63100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:57.973 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":877509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":607706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:57.483 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":281303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a748a59-36f4-475b-9647-402b5ce89a1c","description":"","id":"7a748a59-36f4-475b-9647-402b5ce89a1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":560621079,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'","result":{"duration":374605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":387604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":342404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":372304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":438804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":439005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":315504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":298903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":312004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":805909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:58.049 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":359204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":418105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:58.050 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":344804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":396805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:58.051 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":374205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:58.051 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":411904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":407104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:58.052 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":708608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:58.052 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":407905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":591807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":477605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:57.703 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":257603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"92826f1e-040d-4099-b9e1-cab6bfc520af","description":"","id":"92826f1e-040d-4099-b9e1-cab6bfc520af","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543114483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'","result":{"duration":581906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":462906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":393304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":367504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":484705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":431805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":331603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":343904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":339704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":742509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":690008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:58.252 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":379304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":410805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:58.253 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":359704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":395004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:58.254 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":359004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:58.254 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":406505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":436805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:58.255 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":562506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:58.256 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":413405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":702708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:57.787 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":290803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":454505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":428404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0426f471-f325-42ed-a775-81c397592e86","description":"","id":"0426f471-f325-42ed-a775-81c397592e86","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":550008261,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'","result":{"duration":529706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":464305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":410605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":388604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":472205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":434005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":369805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":350904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":337604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":97001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:58.343 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":552206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:58.344 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":448905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:58.344 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:58.344 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":519806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:58.345 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:58.345 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":620107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":581406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":408005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:57.977 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":261403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","description":"","id":"kkhrn250-dxu9-167i-w6so-8566t16b30ve","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535578499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'","result":{"duration":441005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":421105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":388304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":405905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":463205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":425505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":327104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":344604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":340504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":75800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:58.518 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1026411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":85201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:58.519 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":631207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:58.520 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":284703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:58.520 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":621907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":90401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:58.521 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":322204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:58.521 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":21177737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":582207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":438105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:58.057 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":238803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1734419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535823101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'","result":{"duration":551307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":526206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":500805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":484206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":681808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":624607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":110301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":508306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":488206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":419405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":329303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":324703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:58.601 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":443305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":320404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:58.602 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":453905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":329404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:58.603 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":282604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:58.603 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":515406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":324303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:58.604 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":290304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:58.604 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":480405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":745109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:58.260 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":252103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":379605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","description":"","id":"97b49056-8ace-426c-ae3e-bf7efe4c000f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551608578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'","result":{"duration":596307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":414605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":401404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":407104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":670008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":561406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":107802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":387204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":403805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":401405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":148601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":909510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:58.819 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":435605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":545506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:58.820 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":440805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":484106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:58.821 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":446005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:58.821 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":405905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":542206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:58.822 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":764309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:58.823 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":405104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":526205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":393904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:58.349 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":413704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","description":"","id":"7c664a91-1aa2-4923-9d17-6a43e4075f47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":141301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541673267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'","result":{"duration":463405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":402004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":356604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":379805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":513406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":475905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":80701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":429705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":414005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":414605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":175302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":220302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:58.897 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":391105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":220902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:58.897 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":386204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":193002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:58.898 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":186703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:58.898 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":386704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":198502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:58.899 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":187803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:58.899 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":370704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":496006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":370404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:58.546 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":130301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":113901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":360704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":168102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":3541240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"664862cb-d426-4ee4-97ac-14c12b903b54","description":"","id":"664862cb-d426-4ee4-97ac-14c12b903b54","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":325704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547190828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'","result":{"duration":535306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":448305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":364904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":384504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":624007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":540206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":98701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":466105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":421805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":425505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":169202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":222702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:59.104 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":414805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":182302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:59.105 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":413005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":138702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:59.105 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":132801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:59.106 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":386705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":131201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:59.106 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:59.106 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":388804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":511906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":424605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:58.609 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":115202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":294703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":114201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":483206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":221703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bb27a13-76f1-4374-8d44-76e937198e8d","description":"","id":"0bb27a13-76f1-4374-8d44-76e937198e8d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":13701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526267194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'","result":{"duration":390604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":396005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":338204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":316303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":400405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":387304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":314903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":288203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":305103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:59.140 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1203814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:59.142 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":593106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:59.142 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":287004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:59.143 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":619507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":102701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:59.144 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":353304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:59.144 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":866010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":437805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":398804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:58.827 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":122801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":133702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":322004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":138401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":120401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","description":"","id":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":339503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529763334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'","result":{"duration":532706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":450705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":415705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":398905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":443805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":413905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":310104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":316603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":376304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:59.364 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":352004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":120102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:59.364 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":330303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":94601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:59.365 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:59.365 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":383704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":113001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:59.365 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:59.365 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":400004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":441305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:58.903 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":110701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":313104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":124401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":444005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":170002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","description":"","id":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523628964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'","result":{"duration":439605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":407304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":362005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":344004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":433804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":385104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":301403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":338004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":832109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":442805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":522506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:59.433 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":356504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":521706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:59.434 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":350304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":496705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:59.435 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":501106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:59.436 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":395504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":409505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:59.436 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":685408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:59.437 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":400604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":607706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":390904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:59.110 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":241303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":432705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5471a93b-cf18-43f5-9ddb-71987857435d","description":"","id":"5471a93b-cf18-43f5-9ddb-71987857435d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527246705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'","result":{"duration":586107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":550006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":451206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":435805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":687407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":517305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":351904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":347904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":352104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":124702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:59.643 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":379304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:59.644 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":365205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:59.644 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:59.644 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":441105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":85201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:59.645 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:59.645 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":405305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":680308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":404104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:59.147 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":239203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":415504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","description":"","id":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531978358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ff0035a-acc0-4a67-a76c-3b79646b4eef'","result":{"duration":360904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":372004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":363404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":346304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":397605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":371104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":334204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":304603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":317204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":706108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:59.685 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/view\/map\/amplitude-getij_IVS?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":357404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:59.686 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":603507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:59.686 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":297303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":64301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:59.687 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":618507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:59.688 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":355404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:59.688 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3816942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1434517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":411904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:59.369 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":243803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","description":"","id":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":524321972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'","result":{"duration":509105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":481605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":395505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":381004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":518306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":445605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":335704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":329003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":334603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":102702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":264903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:58:59.899 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":364004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":206502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:58:59.899 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":348004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:58:59.900 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":41301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":113201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:58:59.900 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":395705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:58:59.901 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:58:59.901 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":428804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":703608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":429405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:59.441 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":236603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":407705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","description":"","id":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566704747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'","result":{"duration":482306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":536606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":445505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":479306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":561006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":456505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":338004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":317003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":318503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":285503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":236402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:00.014 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":410505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":257803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:00.015 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":346204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":265703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:00.015 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":220302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:00.016 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":452505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:00.016 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":224802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:00.016 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":510606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":517406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:59.649 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":55201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":272803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":419505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":57100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deaf8380-ad45-48d2-8c3e-81164471bafb","description":"","id":"deaf8380-ad45-48d2-8c3e-81164471bafb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":81701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":47001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547658534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'","result":{"duration":501006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":425505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":380004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":383405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":474505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":421205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":345104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":320403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":316003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":271803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":170102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:00.202 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":478406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":198102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:00.203 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":362804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:00.203 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:00.203 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":372404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:00.204 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":73701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:00.204 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":365904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":633807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:59.696 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":61701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":219503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":166302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","description":"","id":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552318986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'","result":{"duration":431304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":427505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":400505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":387604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":466005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":449005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":321203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":319804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":341204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":572806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":576706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:00.255 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":340404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":385104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:00.255 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":354504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":376504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:00.256 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":351103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:00.256 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":390504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":412405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:00.257 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":595106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:00.258 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":382004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1963622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":10601619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":3824843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:58:59.905 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":280503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":123002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","description":"","id":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":319104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":597297290,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'","result":{"duration":663608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":420505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":369604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":338204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":602107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":501206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":391205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":405204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":381805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":817109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":353004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:00.513 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":405405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":233703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:00.514 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":376104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":188102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:00.514 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":100901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":172901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:00.515 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":459705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":195102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:00.515 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":193002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:00.516 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":403205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":571407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":402004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:00.020 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":238502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":421605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":60601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","description":"","id":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":598783606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'","result":{"duration":579406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":452905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":384505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":373304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":562407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":511305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":408004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":429105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":419305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":232503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":645907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:00.626 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":506706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":151502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:00.626 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":488105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":205703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:00.627 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":193602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:00.628 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":974511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":205502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:00.629 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":675908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:00.629 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":387704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":488505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":377104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:00.208 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":244603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":398204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49ff0584-a173-4098-824c-119edf8447f7","description":"","id":"49ff0584-a173-4098-824c-119edf8447f7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":599031709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'","result":{"duration":516906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":479705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":436805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":450505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":592607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":571207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":94101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":431105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":435105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":428405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":140301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":133001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:00.813 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":403705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:00.813 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1280614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":675208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:00.815 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":2302126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":201902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:00.818 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":477206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":186302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:00.819 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":1298015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:00.819 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":440805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":526406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":474505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:00.274 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":243703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":429704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":416605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","description":"","id":"c99b1291-c51f-49c8-902d-5bd4148cbbde","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":63900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540418953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'","result":{"duration":478605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":470706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":520706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":496505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":705508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":573506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":416905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":421505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1051412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":157002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":191002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:00.822 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":435505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":198202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:00.823 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":448805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":188502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:00.824 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":147602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:00.824 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":802109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":217502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:00.825 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":161402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:00.825 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":433305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":365604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":580007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:00.520 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":147902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":305704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":447005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":244503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"777f41ee-8269-4bbc-b0e4-f889c62be099","description":"","id":"777f41ee-8269-4bbc-b0e4-f889c62be099","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542351474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'","result":{"duration":527206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":452106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":401604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":380805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":454505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":439605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":319004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":360804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":323304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":251903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":190702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.069 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":382805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":141201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.069 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":447705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.070 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.070 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":419704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.070 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":129401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.071 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":414205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":668907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":419604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:00.633 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":119601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":104801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":293103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":434004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":127501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":221303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1d568785-efdd-429d-b491-56f785c3656a","description":"","id":"1d568785-efdd-429d-b491-56f785c3656a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539751645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'","result":{"duration":460405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":486706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":465005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":458305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":479906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":435205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":334604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":342204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":350404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":487706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":556306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.181 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":371304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":405304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.181 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":364604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":393704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.182 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":49801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":366604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.183 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1883421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":398105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.185 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":712208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.186 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":744408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":462906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":367104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:00.827 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":118802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":105101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":309803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":113201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":84501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":470105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","description":"","id":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":208502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558792358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'","result":{"duration":424404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":453505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":437405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":416204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":456605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":474305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":339704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":384904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":376804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":83101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":141902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.392 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":402705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":502006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.393 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":379604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":369904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.394 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":337304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.394 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":484605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":450905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.396 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":66000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.396 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1149113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":461905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":364604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":75400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:00.831 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":282503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":106701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":459605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":434505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6de8b875-c4c2-4469-ac80-0782bb67f285","description":"","id":"6de8b875-c4c2-4469-ac80-0782bb67f285","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":11601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":518981813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'","result":{"duration":554706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":473206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":433805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":436705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":556206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":464505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":344404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":345804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":305304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":318304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.357 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":389204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":214803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.358 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":377704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":175802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.358 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.359 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":743508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":209802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.360 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":230503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.360 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":458205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":708908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":408604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.074 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":54701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":272003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":66101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":95201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"00e8746f-5031-413e-8343-9203c8ea82ee","description":"","id":"00e8746f-5031-413e-8343-9203c8ea82ee","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552133684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'","result":{"duration":609107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":555606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":476106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":469805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":509206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":490306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":385904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":360604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":360704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":774009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.633 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":413204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.634 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":349104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":57900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.634 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.634 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":444805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":64501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.635 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.635 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":420504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":787209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":426405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.190 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":224402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":175602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"49a53bc1-dd76-417f-b9af-066901ddfec0","description":"","id":"49a53bc1-dd76-417f-b9af-066901ddfec0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536988914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49a53bc1-dd76-417f-b9af-066901ddfec0'","result":{"duration":488905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":446305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":467506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":398404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":425005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":411205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":351004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":347203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":324303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":605207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":613507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.733 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/download\/feature\/amplitude-getij_IDS?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":390204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":427405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.734 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":348304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.734 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":370805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.735 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":429905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":84401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.736 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.736 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":388604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":466305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":364704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.364 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":61700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":257203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":387004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":378104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","description":"","id":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":589136298,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'","result":{"duration":448905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":476205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":427505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":401405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":469505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":443605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":341204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":344504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":337804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":78701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.959 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":838909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.960 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":678608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.960 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":60201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.961 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":445505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.961 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":85401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.961 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":437905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":488406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":358704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.400 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":207502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":371804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","description":"","id":"f39d198a-1e69-43cc-b359-cc60a8c22d28","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":290003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":564934527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'","result":{"duration":386705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":420005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":473605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":471005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":449305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":365804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":299304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":293703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":290204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:01.970 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":881610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":358904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:01.971 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":337103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":350504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:01.972 [print] OGC:SOS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":345204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:01.972 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":419205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":359804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:01.973 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":139102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:01.974 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":412004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":539706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":433105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.638 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":239703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ef2a7962-8bb4-483f-ac78-851b619f357f","description":"","id":"ef2a7962-8bb4-483f-ac78-851b619f357f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525600386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'","result":{"duration":556406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":465205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":401404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":384405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":523606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":451405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":320104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":318404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":309603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":310203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":354204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:02.170 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":376805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":236802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:02.171 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":357604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":189602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:02.171 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":118102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:02.171 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":487605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":211302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:02.172 [print] Rijksdienst voor het Cultureel Erfgoed \n","line":56}},{"name":"print operateson","result":{"duration":238403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:02.172 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":382704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":754709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":483405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.740 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":206403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","description":"","id":"ff8f6da2-949e-4838-90f6-fd895a4a240f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":364504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528570020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'","result":{"duration":540906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":447905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":423704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":404705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":583007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":525406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":89701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":394604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":379604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":402505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":124601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":265303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:02.275 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":424205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:02.276 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":394005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":166902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:02.276 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:02.277 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":413004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":128502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:02.277 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":160602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:02.277 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":384704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":452705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.964 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":231203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":497306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"17ad94f6-4961-448b-a6f5-5368b7870409","description":"","id":"17ad94f6-4961-448b-a6f5-5368b7870409","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":580161798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'","result":{"duration":420405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":397104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":335904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":349604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":508306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":467805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":343403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":353303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":350804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1089812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":586407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:02.551 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":407904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":458906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:02.552 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":397204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:02.553 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":147102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":153901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:02.553 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":367304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":127601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:02.554 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":130202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:02.554 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":366204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":408205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":332304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:01.979 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":197402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"beb6dd70-7834-475f-9acc-954a809dfe87","description":"","id":"beb6dd70-7834-475f-9acc-954a809dfe87","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":50801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":286003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'beb6dd70-7834-475f-9acc-954a809dfe87'","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540358752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'beb6dd70-7834-475f-9acc-954a809dfe87'","result":{"duration":583906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":456205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":385505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":382604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":589307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":559906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":391404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":410105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":405205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":303904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:02.526 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/atom\/cbsgebiedsindelingen.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":535506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":142202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:02.526 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":503305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":134701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:02.527 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":174102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:02.527 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":555907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:02.528 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":305503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:02.528 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":467606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":515306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":366504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:02.176 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":242403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","description":"","id":"24055de7-dcff-487a-8f9a-7aee4f0d8351","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":45101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":576608158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'","result":{"duration":555906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":474205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":444105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":415504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":560407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":539606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":422705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":422505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":440805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":133502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":180502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:02.759 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":428705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":197102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:02.760 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":430105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:02.760 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":87201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":112301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:02.760 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":407005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":126801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:02.761 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":117801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:02.761 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":411504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":397005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":343904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:02.281 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":151201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":108401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":310903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":106102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":421004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce0a3f8e-6713-455f-805e-a067162c287d","description":"","id":"ce0a3f8e-6713-455f-805e-a067162c287d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":12101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566615146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'","result":{"duration":458805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":457005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":436705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":461805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":456505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":424904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":327904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":312603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":310104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":128401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:02.854 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":340904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":115501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:02.854 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":335504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":146802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:02.855 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:02.855 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":429205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:02.855 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:02.855 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":436705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":499405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1110913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":61800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:02.539 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":124001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":320703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":107702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":424005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":441405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","description":"","id":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":269203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535430697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'","result":{"duration":536106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":449605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":398205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":391104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":475506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":459905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":38801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":335003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":325103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":335604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:03.081 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":460505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:03.082 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":452605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:03.082 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":132801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:03.082 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":536106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:03.083 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":171102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:03.083 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":547007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":606207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":382804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:02.557 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":117101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":107001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":281403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":100301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":99101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","description":"","id":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":549997561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'","result":{"duration":369104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":405605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":366004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":339704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":394705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":376604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":309603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":289204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":306003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":424605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":475206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:03.113 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":349504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":436105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:03.114 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":339104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":406904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:03.115 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":351604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:03.115 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":395404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":380504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:03.116 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":605907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:03.117 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":356304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":509706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":354604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:02.768 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":270603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":410405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":81701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":455705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","description":"","id":"b81f9ce3-f612-4761-ba37-4c8afda9033a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":686719367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'","result":{"duration":417604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":426705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":390605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":397604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":457205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":413005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":326103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":312804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":321503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1819820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":706908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:03.464 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":365504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:03.464 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":343304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":149102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:03.465 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:03.465 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":408704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:03.465 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:03.465 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":406204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":373304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":700208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:02.860 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":279603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":206402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","description":"","id":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":591396700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'","result":{"duration":564207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":500405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":431504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":417805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":493006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":492405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":393204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":353704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":337703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":128402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:03.457 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":351704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":137302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:03.458 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":379704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:03.458 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":54301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:03.458 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":440705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":105301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:03.459 [print] Informatiehuis Water \n","line":56}},{"name":"print operateson","result":{"duration":47701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:03.459 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":439805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":645707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":400405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:03.089 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":272603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":84201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35546103-58eb-4f61-a858-a6fbc5a7e814","description":"","id":"35546103-58eb-4f61-a858-a6fbc5a7e814","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":85801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547018680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'","result":{"duration":438405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":448505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":409805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":406605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":460005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":470405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":338504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":338203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":355504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1113712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:03.641 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":391404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:03.643 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":337803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:03.643 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:03.643 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":428705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:03.644 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":56001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:03.644 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":400204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":447405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":327104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:03.120 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":231502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":364104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","description":"","id":"52d0313e-0d2b-44b4-b51e-d9e504307f70","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":582441168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'","result":{"duration":440605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":408405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":361204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":362604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":420905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":419005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":297003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":322603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":315804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":734708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:03.709 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":356404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:03.709 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":338904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":117801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:03.710 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":46901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:03.710 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":405404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:03.710 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":92001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:03.710 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":390804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":583006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":414504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:03.466 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":263403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":427605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd414384-0bcb-4188-86e2-2843e12a579e","description":"","id":"dd414384-0bcb-4188-86e2-2843e12a579e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":584300769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'","result":{"duration":562406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":451905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":412004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":402805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":477505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":468605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":334804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":332704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":369904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":682708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":575806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.058 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":339304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":414205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.059 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":353604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":386804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.059 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":365304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.060 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":19896521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":275803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.080 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":136301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.080 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3460738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":584707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":392104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:03.470 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":193002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":402204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","description":"","id":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":608078233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'","result":{"duration":3646641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":590806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":423305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":386404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":551006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":508905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":376204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":416405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1334015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1230013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1613718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.090 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":429605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":158002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.091 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":438505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":145902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.092 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.092 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":438605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.093 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":108901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.093 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":426905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":353504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":330204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:03.647 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":243103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":58401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4b59b2c-156d-412e-b8f0-c0779402de80","description":"","id":"b4b59b2c-156d-412e-b8f0-c0779402de80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":563722242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'","result":{"duration":706208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":522906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":445005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":417305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":619107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":571506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":441404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":453905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":434005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":137901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":901110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.218 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":479505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":166801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.219 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":815909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":163402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.220 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":363104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.221 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":447205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":488905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.221 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":179502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.222 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":429005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":508206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":364604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:03.714 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":206402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":374404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d293204f-6581-4b0a-811b-1dcce97adedd","description":"","id":"d293204f-6581-4b0a-811b-1dcce97adedd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":561177413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'","result":{"duration":551807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":443305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":448105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":618706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":564506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":445705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":428905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":430705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":149802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":140001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.281 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":436105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.282 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":693507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":130702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.283 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":391504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":121202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.284 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":478006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.285 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":166602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.285 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1120512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":402605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":345804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.088 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":132501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":106002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":323503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":108702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":543906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":354504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"77971fa3-f869-4726-969a-482e0b1a8c5d","description":"","id":"77971fa3-f869-4726-969a-482e0b1a8c5d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537315950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'","result":{"duration":545206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":458805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":384905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":375304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":633707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":525906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":97301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":377704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":423705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":429504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":143501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":795609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.633 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":432405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":168002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.633 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":750909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":139701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.634 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":387605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.635 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":706708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.635 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":391905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.636 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":865309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":515906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":361704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.096 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":244603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":111601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":428205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":80101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":132901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","description":"","id":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":554042735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'","result":{"duration":378504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":386705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":365704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":341304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":412005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":361804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":288003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":271903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":294103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":259703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":243303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.656 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":317103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":245802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.656 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":305904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":253903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.657 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":200003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.657 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":371404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":252303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.658 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":183902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.658 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":379104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":411005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.226 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":410605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":143101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":292504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":82501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":525606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1fb5983-5642-4334-962a-a341cef8c8ff","description":"","id":"c1fb5983-5642-4334-962a-a341cef8c8ff","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531747388,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'","result":{"duration":472106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":459305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":413304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":415304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":461505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":453605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":354004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":349204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":350204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":151002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":233903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.768 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":447405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":226002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.768 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":340203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":251603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.769 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":200302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.769 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":403305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":243502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.770 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":181502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.770 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":403904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":515006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":352004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.289 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":115601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":273103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":113601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":435805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":103001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"755d488b-7b94-4883-95be-6aa279604f85","description":"","id":"755d488b-7b94-4883-95be-6aa279604f85","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":332703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544982034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'","result":{"duration":475805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":448305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":442605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":400004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":450205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":393705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":312204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":369904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":317304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1315814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":680107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:04.842 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":350904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:04.843 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":344803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:04.843 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:04.844 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":649408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":121601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:04.845 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":320804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:04.845 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":406704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":548306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":385404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.640 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":226903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":53101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0898d4a9-8fe6-46e9-8855-1242d8028970","description":"","id":"0898d4a9-8fe6-46e9-8855-1242d8028970","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":286303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529127759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'","result":{"duration":553106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":455905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":386304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":356904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":441905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":392905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":285104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":286803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":274003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":92601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.174 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":945711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.175 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":353704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.176 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.176 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":413604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.177 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.177 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":389704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":737008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":597306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.661 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":204502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":367004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","description":"","id":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":103801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546588852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'","result":{"duration":513206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":470505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":452005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":424004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":506005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":477206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":344004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":342004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":339604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1096212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.214 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":359904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.216 [print] OGC:CSW \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":783208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":68500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.217 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":395504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.217 [print] OGC:CSW \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":765308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.218 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":553006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.219 [print] #notpresent \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":445004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":664707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":343904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.773 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":211203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":236802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","description":"","id":"f5660ac6-8031-4acc-832c-1d1b82b062ba","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542657608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'","result":{"duration":421804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":401804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":401705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":376104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":464605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":413005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":308803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":318804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":313803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.321 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":637407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.322 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":444305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":132402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.323 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":211403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.323 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":435505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.324 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.324 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":566206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":483006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:04.849 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":233202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":393304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","description":"","id":"b5ee6914-04bd-4c7e-a180-242371ae40d9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529795666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'","result":{"duration":456205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":447205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":423005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":414004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":469106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":443405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":377804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":342003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":339403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":424405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":487306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.385 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":390804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":432605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.386 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":359304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":372404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.387 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":351904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.387 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":490306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":426204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.388 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":3976644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.392 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":427404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":564906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":501606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.180 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":253103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":422904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","description":"","id":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535200825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'","result":{"duration":538406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":433405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":378304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":334504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":430005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":391004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":16630784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":510706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":399004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":131502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.738 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":358404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.738 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":354104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.739 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.739 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":393804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":117201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.739 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.739 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":373904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2416527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":381804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.222 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":300003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","description":"","id":"0606e8cb-fa51-402c-a3be-19fd724b0a10","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529740866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'","result":{"duration":453305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":401805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":358804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":362204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":499406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":475205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":72701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":305903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":371204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":361004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":116901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":107801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.758 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":379204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":143502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.758 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":380104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.759 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":67601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.759 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":387904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.759 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":122701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.760 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":379804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":403504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.327 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":222803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":398705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"542b330b-d3c6-4617-b97f-693e5cfd1872","description":"","id":"542b330b-d3c6-4617-b97f-693e5cfd1872","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558981289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'","result":{"duration":535006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":442505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":403105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":388504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":557106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":504506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":96201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":333404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":432105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":403905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":128301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":771209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.893 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":401605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":125801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.893 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":462605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.894 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":162002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.894 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":495005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":120201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.895 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":172102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.895 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":497805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":404504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":316004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.396 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":643907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1316514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":373304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"702060c1-b3fd-44ec-8cc6-d4249d150110","description":"","id":"702060c1-b3fd-44ec-8cc6-d4249d150110","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":50401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539896978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'","result":{"duration":588307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":484606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":422304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":430604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":577806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":530006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":342804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":422805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":404205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":191902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":547106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:05.944 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":816309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":130202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:05.945 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":644707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:05.946 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":340103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":108702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:05.946 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":659707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":126802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:05.947 [print] Interprovinciaal Overleg \n","line":56}},{"name":"print operateson","result":{"duration":396904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:05.948 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1017012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":400504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":316304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.745 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":121401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":99002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":293803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":103201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":456105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":79101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":105802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","description":"","id":"c7dad4b9-42a8-452f-a33b-d4938ed22142","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":337704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525897423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'","result":{"duration":528606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":401704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":402004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":326104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":653307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":493906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":293903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":284203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":280103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:06.278 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":477805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:06.278 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":386705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:06.279 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":119002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:06.279 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":447705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:06.279 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:06.280 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":528406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":481906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":329303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.765 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":265803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":105501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":434404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"56093b94-7517-456d-a0d4-338aba3d8c74","description":"","id":"56093b94-7517-456d-a0d4-338aba3d8c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":603933486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'","result":{"duration":571506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":462506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":408804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":393705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":499305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":457605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":333304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":336804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":359404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":870610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:06.376 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":394904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":146602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:06.377 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":372504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:06.378 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":194602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:06.378 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":440505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":137301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:06.379 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:06.379 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":602007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":662707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.898 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":101701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":267203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":130601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":420605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","description":"","id":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":145901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551703508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'","result":{"duration":468106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":447505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":404904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":397705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":471605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":432205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":350404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":358204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":340804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":173402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:06.456 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":442605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:06.457 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":351904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":132802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:06.457 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:06.458 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":435704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":168402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:06.458 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":133602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:06.458 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":427205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":520206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":396704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:05.952 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":262903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":97402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":401704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","description":"","id":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":312603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":10601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536506040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'","result":{"duration":426304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":417005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":377004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":335503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":378405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":352904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":280803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":294504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":284903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:06.494 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":297404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:06.494 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":302303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":59501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:06.495 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:06.495 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":357303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:06.495 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:06.495 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":361404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":451405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":335804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:06.283 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":265903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":380304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","description":"","id":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":145102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534990123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'","result":{"duration":670307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":667907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":572106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":575406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":674307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":621407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":483505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":488005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":509006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:06.825 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":491005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:06.826 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":746108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":72601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:06.827 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":104901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:06.827 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":710007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":117702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:06.828 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":316603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:06.829 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":555706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1465016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":696108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:06.382 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":54501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":247403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","description":"","id":"7dc30aed-0940-4e69-b34c-9f24b34078eb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":132801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528940556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'","result":{"duration":438605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":441705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":447605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":409204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":458205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":451905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":368804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":336004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":323004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:06.917 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":318503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:06.918 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":408205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:06.918 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":189902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:06.918 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":390305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:06.919 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:06.919 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":394404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":436805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":313704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:06.462 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":224402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":418705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a12ae6ca-b755-4707-884f-95c0d66f431a","description":"","id":"a12ae6ca-b755-4707-884f-95c0d66f431a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":521449574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'","result":{"duration":421305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":417105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":392504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":347404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":403405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":433705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":313204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":279103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":276303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":79001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:06.989 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":291503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:06.989 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":297403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:06.990 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:06.990 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":368005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:06.990 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:06.990 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":357304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":437504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":340004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:06.499 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":226002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6308500-3439-4840-88cb-7532cabbfcb4","description":"","id":"c6308500-3439-4840-88cb-7532cabbfcb4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528416750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'","result":{"duration":422504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":426004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":367605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":352104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":412904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":399405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":290204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":299203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":343204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":59901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:07.032 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":321203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:07.032 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":345704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:07.033 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":49701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:07.033 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":392604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:07.033 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:07.034 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":397005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":467105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":309104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:06.833 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":234903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"46873d16-6835-48c4-b47f-134ab0cb31fa","description":"","id":"46873d16-6835-48c4-b47f-134ab0cb31fa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":1181914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":6400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533661509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'","result":{"duration":662808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":489305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":432305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":505406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1778620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":603807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":93201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":416705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":412004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":462105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":135901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":765108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:07.377 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":446905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":548906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:07.378 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":420704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":467605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:07.379 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":395304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:07.379 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":442405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":480006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:07.380 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":677607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:07.381 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":454005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":488206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":370404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:06.923 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":262803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":548006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":81001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94ed09fe-1753-4861-8c62-d66251b7cde3","description":"","id":"94ed09fe-1753-4861-8c62-d66251b7cde3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528681354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'","result":{"duration":514806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":453605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":466705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":418304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":517706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":473305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":79500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":378104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":386404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":369404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":110001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":164902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:07.458 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":383304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":166902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:07.458 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":395305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":113901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:07.459 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:07.459 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":430505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:07.460 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":110301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:07.460 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":401204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":354004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":308403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:06.994 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":245802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":366104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":477805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","description":"","id":"bfcc588f-9393-4c70-b989-d9e92ac2f493","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":55301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544532229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'","result":{"duration":597606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":641407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":576606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":540006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":675408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":677308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":76901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":486905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":478606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":509805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":130602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":124001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:07.546 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":925810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:07.547 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":773608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:07.548 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":328503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:07.548 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":829309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":128901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:07.549 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":375505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:07.550 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1222913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":378505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:07.037 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":232002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":376704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","description":"","id":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531719287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'","result":{"duration":561706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":596006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":595207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":558606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":669508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":654307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":486506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":489605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":599307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":302304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:07.576 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":551806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":196902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:07.576 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":461305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":169201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:07.577 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":130702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:07.577 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":554806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":167802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:07.578 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":136802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:07.578 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":509106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":344704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":294303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:07.385 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":95501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":423905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","description":"","id":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":113601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532949601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'","result":{"duration":588107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":553306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":471405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":440104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":503105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":479006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":350704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":386405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":364604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":104601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:07.924 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":999211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:07.925 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":666908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:07.926 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":317303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:07.927 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":727908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":79701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:07.927 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":330504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:07.928 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":971011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":615507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":353404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:07.463 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":109701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":275203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":433304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":130302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7a914681-61bd-4f67-902b-45037a00c469","description":"","id":"7a914681-61bd-4f67-902b-45037a00c469","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":519216648,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'","result":{"duration":542906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":531606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":495406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":489005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":545207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":543806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":384205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":381704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":412705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":79501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:07.989 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":871210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:07.990 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":746108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:07.991 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":317904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":58201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:07.991 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":863609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:07.992 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":332704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:07.993 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":965511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":439705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":319404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:07.554 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":88801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":302304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":458805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94e5b115-bece-4140-99ed-93b8f363948e","description":"","id":"94e5b115-bece-4140-99ed-93b8f363948e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":308704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544685631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'","result":{"duration":563106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":645707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":572407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":542506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":604007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":518506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":380204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":374804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":398904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1204314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:08.107 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":487705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":487606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:08.108 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":686807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":76200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:08.109 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":316003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:08.109 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":764908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:08.110 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":324104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:08.111 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1065112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":518405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":333003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:07.582 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":288103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":413105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":283403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","description":"","id":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":44101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542142603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'","result":{"duration":456505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":552607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":534506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":491005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":521106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":527806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":377404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":383804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2959133,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":108802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:08.134 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":742308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":106701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:08.135 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":689108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:08.136 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":281703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:08.136 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":707008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":105101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:08.137 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":337304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:08.137 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":933810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":398705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":313803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:07.932 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":79701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":230602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":391104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9e2e977a-16a6-42a4-a208-c4f70704f383","description":"","id":"9e2e977a-16a6-42a4-a208-c4f70704f383","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533457406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'","result":{"duration":660007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":551206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":489105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":473505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":543806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":529105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":379204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":365504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":447304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":78500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":110301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:08.472 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wms\\\/v1_1?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":524806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:08.473 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":545406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:08.473 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":121902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:08.473 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":599006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":123502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:08.474 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":146101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:08.474 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":627407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":538006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":356104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:07.996 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":67401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e258f171-6f56-4d4d-8311-027b30213c2d","description":"","id":"e258f171-6f56-4d4d-8311-027b30213c2d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538347861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'","result":{"duration":472205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":440904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":405504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":391305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":448105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":430605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":325004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":325504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":324403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":924211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":613307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:08.541 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":362804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":492705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:08.542 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":335703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":481706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:08.543 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":445405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:08.543 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":427405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":520506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:08.544 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":699308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:08.545 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":390004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":538705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":327703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:08.114 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":237702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","description":"","id":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":37201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529637464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'","result":{"duration":591007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":594907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":607707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":562306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":629907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":607207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":422304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":417305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":460005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":684308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:08.652 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wfs\\\/v1_1?request=getCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":455105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":27477105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:08.680 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":766208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":167802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:08.681 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:08.681 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":576706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1444816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:08.683 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":152602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:08.683 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":581706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":475305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":325704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:08.141 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":207703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":369704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","description":"","id":"ac3a9efe-2154-4a4c-aae3-ea269044945d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543569018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'","result":{"duration":429205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":490805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":393605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":398304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":659208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":505605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":381804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":391604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":374004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":98401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:08.691 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":377604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":64800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:08.691 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":398705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":9030100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:08.700 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":974811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:08.702 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":430905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":138702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:08.702 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":2237724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:08.704 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":959310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":385404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":331404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:08.478 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":58701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":88201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","description":"","id":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546107446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'","result":{"duration":723308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":593307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":589506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":512606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":707908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":610807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":458205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":431704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":451205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":151902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.031 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":587306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.032 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":584306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":126002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.032 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":183602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.033 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":646807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":180602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.034 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":114401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.034 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":709408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":454505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:08.549 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":223303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":382605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","description":"","id":"5523cfd7-a72c-409e-a0c7-89b858aafa64","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":524191404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'","result":{"duration":475906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":422204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":337903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":315304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":522306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":451205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":335204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":353904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":869209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.080 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":399405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.080 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":644107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":122702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.081 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":365504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":137401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.082 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":380304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.082 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":385405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.083 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":926510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":309404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:08.699 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":143901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":102802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":1273814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":125601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1494117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":97701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":453705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","description":"","id":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":570313015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'","result":{"duration":500305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":372604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":325404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":368104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":579206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":461306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":101201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":332304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":418804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":446905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1116312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":407505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.279 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":421004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":232802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.280 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":317304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":171502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.281 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":112101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.281 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":369304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":180302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.281 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.281 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":373604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":522706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":354204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:08.708 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":242302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":427004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":121501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","description":"","id":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":54601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":321904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":602526971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'","result":{"duration":383604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":373505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":322403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":302404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":364004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":347804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":334804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":280203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":288804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":206902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":164602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.317 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":326504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":160302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.317 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":316203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":191103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.318 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.318 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":353204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":159002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.318 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":193902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.319 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":347203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":466405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":2191224,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.038 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":94801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":274403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":412705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","description":"","id":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":133202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539537373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'","result":{"duration":617007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":520506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":512705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":418705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":494806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":624107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":349403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":352303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":365004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":199302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.584 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":554806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":272303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.585 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":331703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.585 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":293204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.586 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":428004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":1533117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.588 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":780408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.588 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":489906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":603507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":468905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.087 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":137001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":274204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":454905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":79301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":128001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","description":"","id":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":323204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544622030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'","result":{"duration":497405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":522705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":464806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":462905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":495406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":462605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":339704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":355004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":391205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":119501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.638 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":535706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":71201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.639 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":457005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":105701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.639 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":142502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":224602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.640 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":473905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":211402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.640 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":202403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.641 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":463705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":391804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":313504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.286 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":227203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":162902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"275b64ab-34c2-41f8-8904-97812c7f716e","description":"","id":"275b64ab-34c2-41f8-8904-97812c7f716e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":522737187,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'","result":{"duration":490505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":462706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":449505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":467805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":464005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":437805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":329904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":323303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":328303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":82901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.814 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":350204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.815 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":401604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":97501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.815 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.815 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":469205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.816 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.816 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":471605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":515206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":344504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.324 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":242002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":164002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bc0b75c6-3eef-49de-aca2-8483024903c1","description":"","id":"bc0b75c6-3eef-49de-aca2-8483024903c1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527134637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'","result":{"duration":456605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":455905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":443804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":433004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":469805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":482405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":354604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":354004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":331304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:09.857 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":511805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":131102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:09.857 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":376404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:09.858 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:09.858 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":467305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:09.858 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:09.858 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":406304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":430205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":348704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.592 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":51001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":260703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7d19437-f875-45b3-86cd-2fa3335479ec","description":"","id":"d7d19437-f875-45b3-86cd-2fa3335479ec","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":295503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":549867689,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'","result":{"duration":529206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":432905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":400704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":376105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":448005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":476505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":303203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":15001866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":604207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":164602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":144802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.164 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":400404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.165 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":384204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.165 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.165 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":431104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.166 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":83801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.166 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":418104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":456305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":332303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.644 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":226603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":168101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a7aeddf2-3b37-4668-9c75-de93d9326276","description":"","id":"a7aeddf2-3b37-4668-9c75-de93d9326276","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534196315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'","result":{"duration":460905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":468305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":415104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":412505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":517506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":547006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":376804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":331604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":391704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":165802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":600707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.186 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":437905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":119502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.187 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":736908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":437105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.188 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":100501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.188 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":715308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":135102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.189 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":370404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.189 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":932210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":403704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":319504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.819 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":234903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":402504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1601e160-91e8-4091-9aca-10294f819d42","description":"","id":"1601e160-91e8-4091-9aca-10294f819d42","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526079225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'","result":{"duration":592407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":576406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":480105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":452305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":619207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":566706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":412504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":373004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":435804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":139901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":308404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.352 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":570406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.353 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":558706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":133402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.353 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":178302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.354 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":603607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":134001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.354 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":229002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.355 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":470406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":441405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":303703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:09.866 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":206802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":251502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":405705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":494006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","description":"","id":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541247193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'","result":{"duration":556607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":432605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":365504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":379804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":579507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":478005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":505606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":309003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":377004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":588206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":569107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.415 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":404904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":471405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.416 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":400604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":441405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.417 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":218402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":396104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.417 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":423504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":443405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.418 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":680008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.419 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":411105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":439905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":314903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.170 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":232503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":160902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":328504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":493105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":123802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","description":"","id":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":108102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544096424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'","result":{"duration":647907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":511806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":497505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":439504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":670807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":552806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":80401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":361404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":306303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":322404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":116901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.722 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":442205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.723 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":410004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.723 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.723 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":525206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.724 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":176102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.724 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":410404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":477605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.193 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":153801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":296903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":94201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":468805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b023459a-9f0e-4d53-8059-a794119abbed","description":"","id":"b023459a-9f0e-4d53-8059-a794119abbed","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":357704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":12000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532300893,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'","result":{"duration":432705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":428904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":399004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":402305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":435405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":432304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":309703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":898109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":367304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":174702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":114601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.733 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":346604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.733 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":345604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":115701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.734 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.734 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":419905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.734 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":75301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.735 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":437005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":402205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":613007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.361 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":263703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"db1e010a-96f8-453e-b63c-9c27d6273157","description":"","id":"db1e010a-96f8-453e-b63c-9c27d6273157","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":9701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":207602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544877933,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'","result":{"duration":609206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":535106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":487205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":474705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":540006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":505405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1289014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":379205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":378704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":164602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.914 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":403504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.914 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":359604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.915 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.915 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":461205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":100101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.915 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.915 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":483406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":593906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":338003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.423 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":112101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":316804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":430105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":427105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"35359958-c40a-486f-9cf5-567a94de905e","description":"","id":"35359958-c40a-486f-9cf5-567a94de905e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531721287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'","result":{"duration":474606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":522505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":476405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":488605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":518805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":523206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":350604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":370604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":724008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:10.962 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":415305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":484505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:10.963 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":398205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":563306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:10.964 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":350204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:10.964 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":459505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":388604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:10.965 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":593706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:10.966 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":470905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":435204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.728 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":224403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","description":"","id":"c6fa88ab-e440-414b-a773-793c4ce6d8df","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":70101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":559849898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'","result":{"duration":671007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1190713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":627907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":570306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":580307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":516205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":350904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":347204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":370604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:11.294 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":380004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:11.295 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":371504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":62401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:11.295 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:11.296 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":489206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:11.296 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:11.296 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":479206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":575606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":330104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.738 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":199802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":372904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","description":"","id":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":591719947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'","result":{"duration":421504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":377705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":359204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":339603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":378804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":360004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":275603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":281503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":287403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:11.335 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":310103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":101502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:11.335 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":326503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":98901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:11.336 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:11.336 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":388504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:11.336 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":67101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:11.336 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":382404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":413905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":323303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.919 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":213103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":375705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","description":"","id":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":36001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":556684645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'","result":{"duration":432404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":461905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":598706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":431404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":439405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":430205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":332704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":325104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":328804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":831209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":698108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:11.482 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":341704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":547806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:11.483 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":330604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":529905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:11.484 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":484005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:11.484 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":418804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":516206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:11.485 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":730408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:11.486 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":404905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":490905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":334104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:10.969 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":216202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":351503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":362204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","description":"","id":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544894711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'","result":{"duration":541706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":452805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":440204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":435104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":534605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":499205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":75601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":382404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":414505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":387204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":117701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":296003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:11.520 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":526906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:11.521 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":410204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:11.522 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:11.522 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":584207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:11.523 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":373004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:11.523 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":476106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":367204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":310303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:11.300 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":237602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":358504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","description":"","id":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":6801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":604500537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'","result":{"duration":632207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":449005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":397504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":377704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":615507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":519006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":365204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":669508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":390804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":657307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":690207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:11.911 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":452705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1323815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:11.913 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1871021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":437905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:11.915 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":395804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:11.916 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":552807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":427904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:11.917 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":665508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:11.918 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":424905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":484105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":328004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:11.339 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":209503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":361904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e08079df-6c19-486e-916e-5c9948cfafea","description":"","id":"e08079df-6c19-486e-916e-5c9948cfafea","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":568221338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'","result":{"duration":481506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":480705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":447605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":410805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":561406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":548006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":411305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":392204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":394205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:11.913 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":401505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:11.914 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":406205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:11.914 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":79901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:11.915 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":449705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":4853054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:11.920 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":663407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:11.921 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":469605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":334804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":292903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:11.505 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":111001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":87801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":265303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":104001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":414405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":430105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","description":"","id":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537256498,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'","result":{"duration":592006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":479406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":427804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":391704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":634107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":533106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":425905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":390204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":398405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":735208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":671808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:12.050 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":439004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":454905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:12.051 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":408704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":464105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:12.052 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":394504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:12.052 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":460805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":430805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:12.053 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":683908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:12.054 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":440105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":307503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:11.526 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":92701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":78800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":259702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":88401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":398804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","description":"","id":"488c1e6d-363e-4476-b2ff-17756ac9b35f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":182202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":553961182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'","result":{"duration":405304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":426805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":394704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":399004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":424705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":398904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":306403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":291204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":302503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":589307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":630107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:12.087 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":374204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":444405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:12.088 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":349504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1226914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:12.089 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":405605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:12.090 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":430605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":407204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:12.091 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":609807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:12.091 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":412405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":500505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":320903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:11.925 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":2820631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":103501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":278104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":395204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":1812220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1446916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d94b1eca-8a7d-4dc4-b979-36257878758f","description":"","id":"d94b1eca-8a7d-4dc4-b979-36257878758f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":48001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566783223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'","result":{"duration":367904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":388705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":373804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":350204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":386404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":361004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":281903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":284303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":287003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:12.502 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1179113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":70301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:12.504 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":402304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:12.504 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":80001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:12.504 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":436705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:12.505 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":115201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:12.505 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":412305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":382104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":297804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:11.929 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":224103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":365804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":581506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"027e3f15-3b58-4570-97bb-779ce3ca947e","description":"","id":"027e3f15-3b58-4570-97bb-779ce3ca947e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538937217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'","result":{"duration":514005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":426604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":367804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":392904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":424405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":384304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":280703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":282203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":286603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":103402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:12.474 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":314103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":116902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:12.474 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":320403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:12.475 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:12.475 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":350504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:12.475 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:12.475 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":383504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":547906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":343304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:12.058 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":225302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":362804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":367904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","description":"","id":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537422201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'","result":{"duration":405204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":382204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":409204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":352003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":433704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":367304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":278603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":322304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":286903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:12.600 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":456205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":181202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:12.601 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":319604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":153502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:12.601 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":114702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:12.601 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":391804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:12.602 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":133902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:12.602 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":453905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":408104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":410605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:12.095 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1005211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":381204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","description":"","id":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539103019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'","result":{"duration":386304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":406105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":321303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":322404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":369604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":364704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":272003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":264203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":263803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":450705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":266103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:12.640 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":305003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":620307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:12.641 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":314404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":414105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:12.642 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":381204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:12.642 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":371205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":433004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:12.643 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":644607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:12.644 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":380504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":422405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:12.481 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":222502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":369404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","description":"","id":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537653003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'","result":{"duration":783409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":445405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":386305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":354004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":535406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":452505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":405504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":394605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":355404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":195102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":479406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.025 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":362104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":183302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.026 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":389604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":213503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.027 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":151202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.027 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":414704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":140702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.027 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":208803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.028 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":366804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":471105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:12.508 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":199102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":362104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ac5737f-55ed-455d-8350-44af11b67fc3","description":"","id":"3ac5737f-55ed-455d-8350-44af11b67fc3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":2221925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541379544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'","result":{"duration":430704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":510605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":318504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":301403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":448305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":449405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":320004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":329704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":315903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":504406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":598607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.058 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":382004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":592407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.059 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":357304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":609806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.060 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":79800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":538205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.060 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":375404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":444905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.061 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":782208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.062 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":359904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":348503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":307803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:12.605 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":226702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"feabca04-e3fd-4802-96f2-583d328e30ad","description":"","id":"feabca04-e3fd-4802-96f2-583d328e30ad","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529132309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'","result":{"duration":497406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":417505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":379104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":349804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":506606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":511905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":78800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":340903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":355504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":359504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":590506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":691508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.141 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":410905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":600306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.142 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":429704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1223114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.144 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":107101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":430905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.144 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":362404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":426305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.145 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":666807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.146 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":360904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":2940532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":363904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:12.647 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":210802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":480605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a035801a-3256-4a36-9f81-02421aacee17","description":"","id":"a035801a-3256-4a36-9f81-02421aacee17","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541504645,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'","result":{"duration":434104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":418705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":360404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":367104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":498006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":451105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":347604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":343704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":354104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":127701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1104812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.195 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":387604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":438205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.196 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":355404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.197 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":338003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.197 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":601806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":120302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.198 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":355704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.198 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":845109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":401105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.031 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":121801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":102201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":281303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":95202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":392404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":96201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","description":"","id":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543143963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'","result":{"duration":511506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":404204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":375404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":391104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":442405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":404705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":303904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":295503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":325304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":135201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.580 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":324004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":138202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.580 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":327803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":114301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.581 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.581 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":361204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.581 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":65000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.582 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":348603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":561506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":357204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.066 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":101501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":240003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":384305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":415505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","description":"","id":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532736749,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'","result":{"duration":331503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":350004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":330904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":324504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":361404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":329803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":270503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":257103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":265603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.603 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":971011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":115001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.604 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":308004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":353804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.605 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":356004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.606 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":364104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.606 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":819309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.607 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":383004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":370304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1419716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.152 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":86001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":269403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":4798753,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":92001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":471505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","description":"","id":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":10101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":522336535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'","result":{"duration":366304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":382304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":316703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":318704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":374504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":356204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":311504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":278303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":271703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":57601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":114401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.684 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":289404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.685 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":317103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":88401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.685 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":30300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":48401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.685 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":367604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.686 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":54001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.686 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":361304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":416504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.202 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":276403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":92501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":397305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":430204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","description":"","id":"6a129fd1-0988-4b8a-975a-6ff134b6754a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":42201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530249521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'","result":{"duration":424704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":511106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":434805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":411005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":466005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":455305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":330903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":321803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":327104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":64600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:13.739 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":358903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:13.739 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":375004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":117001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:13.740 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":55101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:13.740 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":468605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:13.741 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:13.741 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":445305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":452505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":420405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.585 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":222602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":450005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","description":"","id":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536360489,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'","result":{"duration":616306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":608906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":545406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":544606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":603706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":559707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":394105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":398004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":416705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.128 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":441405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.128 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":459005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.129 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":64100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.129 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":579307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.129 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":95201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.130 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":496705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":704907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":395205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.611 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":186802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e264c1e4-90fe-4968-bbf2-7019f6095348","description":"","id":"e264c1e4-90fe-4968-bbf2-7019f6095348","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541040640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'","result":{"duration":401904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":439405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":406005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":383804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":412205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":452505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":329804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":439405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":14653361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":200802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":616607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.172 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":443305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":126602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.173 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":398904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.173 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.173 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":429505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":125102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.174 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":72500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.174 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":423104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":404805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.689 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":173902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d415c10a-8dbf-4c01-8061-4689e5db38ac","description":"","id":"d415c10a-8dbf-4c01-8061-4689e5db38ac","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd415c10a-8dbf-4c01-8061-4689e5db38ac'","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536356389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd415c10a-8dbf-4c01-8061-4689e5db38ac'","result":{"duration":557206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":623106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":584906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":519106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":723908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":614307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":114201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":443405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":417005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":373604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":113302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":117501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.231 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":900610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.232 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":711208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.233 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":330604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.234 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":791709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":141301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.235 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":373005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.235 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1417015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":391205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":317003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:13.744 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":181202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":331403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1","description":"","id":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":563831190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'","result":{"duration":550806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":580006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":532506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":488806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":621407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":565106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":405104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":408304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":378604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":107401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":108801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.314 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":826609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.315 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":707008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":389704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.316 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.316 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":841109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.317 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":379104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.317 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1387216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":360104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":318403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.133 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":245603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a1ed8a00-da07-472e-9627-99175d437c94","description":"","id":"a1ed8a00-da07-472e-9627-99175d437c94","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":525883174,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'","result":{"duration":665007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":532305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":469005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":445105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":646607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":608107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":84001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":426305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":440205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":367804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":142602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":301503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.665 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":521506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":169602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.666 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":503906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":123301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.667 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":172202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":127902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.667 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":551906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.668 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":254403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.668 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":445105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":435905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.177 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":284103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":113502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","description":"","id":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":575698120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'","result":{"duration":429605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":520906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":471705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":411805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":514506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":506105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":373005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":375504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":317503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.759 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":368204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.760 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":344904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":220203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.760 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":60501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.760 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":434705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.761 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":48601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.761 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":439405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":363804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":286303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.239 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":120002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":263703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":90801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":126901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","description":"","id":"7827b68f-647e-46cc-a02a-cac48eaa5dda","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":317704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542847960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'","result":{"duration":439704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":451105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":418204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":413005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":466205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":444405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":324703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":339704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":57101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.789 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":340603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.789 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":327504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":49101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.789 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.789 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":437605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":62501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.790 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.790 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":429605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":388504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.322 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":100801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":265803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":378804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":68801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":124001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62dc32f1-853c-416a-876b-6e083554f1b6","description":"","id":"62dc32f1-853c-416a-876b-6e083554f1b6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":325704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540711737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'","result":{"duration":472205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":464205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":421504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":629907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":488406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":482805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":298303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":317604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:14.869 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1057011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:14.870 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":614807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:14.871 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:14.871 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":660307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:14.872 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":640807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:14.873 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":425604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":500006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":322604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.672 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":108101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":303904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":130601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","description":"","id":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547310609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'","result":{"duration":1319614,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1777320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1491316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1475917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1588617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1517617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":923410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":941510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1101512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":304104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":320303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:15.234 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1058611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":257703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:15.235 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1034412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:15.236 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":85901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:15.236 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1565618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:15.238 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:15.238 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1617917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":693408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":351204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.764 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":209902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":346504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":79101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","description":"","id":"9c4862c3-0bab-49c3-bc2f-ac5486826766","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":602401113,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'","result":{"duration":1837020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":19565115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2703930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":3162535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2879631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2798430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":73300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2583028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1602418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":8175090,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":351104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":172002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:15.414 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2160623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":163501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:15.416 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2418826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":153902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:15.419 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":409205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":128401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:15.419 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2537728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:15.422 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":96301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:15.422 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":4464149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":365604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":289904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.793 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":175602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","description":"","id":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":594162024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'","result":{"duration":838609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":957511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":944510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":966811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1144813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1068912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":727008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":708108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":863509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":366204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":265703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:15.397 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1357414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":197002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:15.399 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1480716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":156202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:15.400 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":384404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:15.401 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1610918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":157202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:15.403 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":390504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:15.403 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":977010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":442404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":372604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:14.876 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":214102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","description":"","id":"5be14ec9-9bb3-4395-a061-e7e78d04a527","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":282703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543185663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'","result":{"duration":425904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":461605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":414704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":411305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":511605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":742508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":375704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":384604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":383704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":199302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":115501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:15.425 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":468105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":1634818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:15.426 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":439305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:15.428 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":83201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:15.428 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":503305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:15.429 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":128302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:15.431 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":501905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":340104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":1617018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:15.243 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":232402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":394004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","description":"","id":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534101264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'","result":{"duration":635007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":512905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":488806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":455705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":631207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":523406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":76601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":377704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":407805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":402604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":149302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":597007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:15.784 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":836709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:15.785 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":675207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":111802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:15.785 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":340203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:15.786 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":780208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:15.787 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:15.787 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":465005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1173813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":384304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":50101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:15.408 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":110801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":89001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":270603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":96401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":393304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":132402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":144401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce963e61-779f-470f-a99d-48d9796e5ba3","description":"","id":"ce963e61-779f-470f-a99d-48d9796e5ba3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":334504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536881094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'","result":{"duration":544706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":496705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":455205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":444205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":514306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":458805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":338604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":408004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":406205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":584906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":638507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:15.953 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":390504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":429905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:15.954 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":365104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":383204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:15.954 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":356904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:15.955 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":450005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":398804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:15.956 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":585506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:15.956 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":428605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":602207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":344904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:15.430 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":129202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":91401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":258103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":452305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":72801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":128001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"74620aa8-4fa2-414d-8350-50d93e500da8","description":"","id":"74620aa8-4fa2-414d-8350-50d93e500da8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":328603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558499932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'","result":{"duration":473205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":497006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":461405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":439905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":486105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":431104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":384904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":372604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":418605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":74501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":621407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:15.997 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":379704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":433305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:15.997 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":355904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":403105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:15.998 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":386105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:15.999 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":473405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":379204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:15.999 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1620518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:16.001 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":440805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":566307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":370504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:15.435 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":85901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":77301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":258703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":89901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","description":"","id":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":152402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":9801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":577087936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'","result":{"duration":352004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":390204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":359903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":343303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":408905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":365604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":284603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":270103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":274303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:16.017 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":321804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:16.018 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":563306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:16.019 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":296204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:16.019 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":631807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":78801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:16.020 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:16.020 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1000611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":358604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":284403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":41901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:15.791 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":298303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":93801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":384705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"af4841b5-ce83-4edb-af41-429a21140316","description":"","id":"af4841b5-ce83-4edb-af41-429a21140316","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":308103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":18101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":573286594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'","result":{"duration":1523017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1909621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1780820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1747619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1951022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1868420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":80300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1183213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1168213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1308514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":286603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":166702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:16.383 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1433516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":172202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:16.385 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1312215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":131301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:16.386 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":1866221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:16.388 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1798020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":232602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:16.390 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":155002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:16.390 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1974322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":464505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":341204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:15.960 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":368904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7681eb19-a914-4dc7-9208-c2a131dca06d","description":"","id":"7681eb19-a914-4dc7-9208-c2a131dca06d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":574289506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'","result":{"duration":671507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":536706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":471305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":463105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":653607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":651308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":74901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":437104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":411404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":440805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":112802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":209802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:16.541 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":567306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:16.542 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":404204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":162302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:16.543 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":122602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:16.543 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":494405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":152702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:16.544 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":135801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:16.544 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":452505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":411204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:16.005 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":220103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":145601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7e450110-f643-4b73-9262-4f13966cffc6","description":"","id":"7e450110-f643-4b73-9262-4f13966cffc6","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7e450110-f643-4b73-9262-4f13966cffc6'","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543948772,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e450110-f643-4b73-9262-4f13966cffc6'","result":{"duration":436105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":450305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":425205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":456305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":557606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":503906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":373004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":368804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":381404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":92301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:16.554 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2009\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":493206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:16.555 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":508506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:16.557 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":94201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:16.558 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":558606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":108701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:16.558 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":179802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:16.559 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":451605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":396105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:16.023 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":189402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":361204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":47301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8129296b-b9c1-489f-990a-df4a879e12b2","description":"","id":"8129296b-b9c1-489f-990a-df4a879e12b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":267703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558843836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'","result":{"duration":389705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":379204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":366404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":326104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":500005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":438005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":58101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":313304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":393304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":333104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":101901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":167702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:16.588 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":357704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":97601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:16.588 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":349504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":99001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:16.589 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:16.589 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":373904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:16.589 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":52001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:16.589 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":356504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":436105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":742608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:16.396 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":297603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":99901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":426205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":73900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":162601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","description":"","id":"68722979-8d6c-4ee4-a81a-8381d2588fe5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":126402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535535680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'","result":{"duration":538806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":487106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":428505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":424904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":513105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":489806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":332104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":331404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":317403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":99001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:16.937 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":524606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":72100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:16.938 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":418104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:16.939 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":123802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:16.939 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":489305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:16.939 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:16.939 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":598306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":552706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":317503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:16.547 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":103101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":277403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":6677674,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":439405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":90101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","description":"","id":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":845209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":584564418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'","result":{"duration":498405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":525806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":493005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":493005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":559506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":518506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":364504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":366404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":379404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":85201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:17.146 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":395605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:17.146 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":384704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:17.147 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:17.147 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":537705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:17.148 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:17.148 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":536706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":489105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":331904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:16.562 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":89301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":72901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":241303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":83401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":399404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":98901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":8184890,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"93a9571d-1754-47ee-a8f9-92633abfab3a","description":"","id":"93a9571d-1754-47ee-a8f9-92633abfab3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":167702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":653326673,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'","result":{"duration":429305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":378604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":337704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":315703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":390505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":377304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":286503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":271503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":266303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":257903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:17.229 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":472105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":218303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:17.230 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":304903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:17.230 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":116802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":166402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:17.230 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":383404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":124801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:17.231 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":42401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:17.231 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":10601217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":498005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":307203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:16.593 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":97201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":238603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":64600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b196f948-5d87-4eb4-9854-a93841c3877f","description":"","id":"b196f948-5d87-4eb4-9854-a93841c3877f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":122101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":570514463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'","result":{"duration":436804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":479805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":458005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":451505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":498206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":512705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":352604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":338804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":356704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":78001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:17.169 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":883410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":117701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:17.170 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":367004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:17.171 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":295303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:17.171 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":727808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":346804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:17.172 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":49501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:17.172 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":923810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":325404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":274603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:16.943 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":225003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":409605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4f4c7848-1767-4c67-be08-87d45d07f313","description":"","id":"4f4c7848-1767-4c67-be08-87d45d07f313","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":571657377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'","result":{"duration":1878921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2458727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2409826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2388226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2546228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2522828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1517216,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1482016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1672118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":363703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":148301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:17.535 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2179324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:17.538 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2297125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":118401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:17.540 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":358404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":106902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:17.541 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3041433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":120902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:17.544 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":673407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:17.545 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":2472127,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":449305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":328903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:17.151 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":199902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":408404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","description":"","id":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":574201604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'","result":{"duration":1438116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1741719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1696919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1731719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1860321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1811820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1096112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1118612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1246013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":277703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:17.741 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1249114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:17.742 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1263914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":110901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:17.743 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":164502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:17.744 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1866821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:17.746 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":56601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:17.746 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1923921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":381204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":293504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:17.182 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":192802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":352404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":251503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","description":"","id":"1fa220c2-5f2e-4943-a57e-c291cc35084b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":592709208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'","result":{"duration":1488516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":2070322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2030423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":2051522,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2158524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2151524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1416515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1306014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":5529861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":381804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":686308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:17.798 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1402515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":470205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:17.800 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1419915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":876409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:17.802 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":90501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":395405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:17.803 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":2146123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":426904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:17.805 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":630207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:17.806 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":3577840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":412104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":285903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:17.245 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":100701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":265403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":86401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":90301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b0119753-5625-4500-9df3-13823ff9868f","description":"","id":"b0119753-5625-4500-9df3-13823ff9868f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":114101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545853593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'","result":{"duration":1195313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1764619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1726319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1650918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1686218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1673418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":1054812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1018111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1264214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":259203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":96701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:17.806 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1109013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:17.807 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1146513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:17.809 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":147302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:17.809 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1613018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":105501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:17.811 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":149602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:17.811 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1669918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":315504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":271303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:17.550 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":105001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":83101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":267003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":87701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":389704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4041f923-6b77-4816-bf46-437e85416c31","description":"","id":"4041f923-6b77-4816-bf46-437e85416c31","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529057409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'","result":{"duration":568706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":469105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":411104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":421504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":643407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":456205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":317604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":421704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":457706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":794709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.086 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":455205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":552407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.087 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":359104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":455505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.088 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":429005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.089 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":502605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":380105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.090 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":891009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.091 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":448705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":466205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":313903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:17.751 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":104102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":377004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":403304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":66000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":92401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552299764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":654007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":562407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":486605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":486606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":705607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":507505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":351504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":442105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":414504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":792709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.310 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":466205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":516206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.311 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":434105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":453905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.312 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":83801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":425705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.313 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":541906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":396904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.314 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":800209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.315 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":540006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":540705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":361104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:17.813 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":99901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":76301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":228402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":78901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":547306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":112702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":121801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"58353cdf-b3a1-454e-9284-932a7e815e57","description":"","id":"58353cdf-b3a1-454e-9284-932a7e815e57","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":8300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":8101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534001862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'","result":{"duration":524005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":597206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":561906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":559606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":604807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":535406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":413105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":432204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":437404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":72400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":503806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.358 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":474705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":207803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.358 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":400904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":158002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.359 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.359 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":549606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":115501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.360 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":130001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.360 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":522705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":314404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":303803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:17.815 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":215303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","description":"","id":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":585353926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'","result":{"duration":1277114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1748019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1650118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1518717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1567617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1491316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":913410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":972610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":1105412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":226302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.414 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1013611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":108601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.415 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1016411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.416 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.416 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1514516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":67501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.418 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":114902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.418 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1501016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":314504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":278203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.094 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":394504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","description":"","id":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536945095,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'","result":{"duration":538306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":525906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":489505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":486306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":567006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":504406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":367104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":349204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":388505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":84101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":131301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.638 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":903510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.639 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":781408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.640 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.640 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":773408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.641 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":353204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.641 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1896321,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":600007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":372604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.318 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":222402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":352403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5f0c583a-101e-45ea-b684-a056713cf811","description":"","id":"5f0c583a-101e-45ea-b684-a056713cf811","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558695134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'","result":{"duration":421205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":412405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":396504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":370304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":420804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":377104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":298603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":289804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":298603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":80401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.882 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":18477903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":196702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.901 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":330304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":140902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.901 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.901 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":368704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":66201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.902 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":85901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.902 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":368404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":423604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.363 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":200002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":109101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d7a395a2-8673-4794-a5a6-fed6492cd580","description":"","id":"d7a395a2-8673-4794-a5a6-fed6492cd580","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548428822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'","result":{"duration":461305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":487305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":464205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":451305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":646107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":483605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":405504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":417904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":5134856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.923 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":420004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":453605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.923 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":408804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":422605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.924 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":398404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.925 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":515906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":376504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.926 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":1619618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.927 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":526006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":379004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":334104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.423 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":198703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":56301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","description":"","id":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533057153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'","result":{"duration":493606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":509205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":459805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":458005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":626707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":521006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":441305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":416105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":153702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:18.961 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":399404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":192202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:18.962 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":377204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":128601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:18.963 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":75401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":176202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:18.963 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":500906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":132701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:18.963 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":166001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:18.964 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":496605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":363604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":267103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.646 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":221102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":344504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","description":"","id":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":524157254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'","result":{"duration":460705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":375404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":322504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":467105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":395005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":277303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":360104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":340704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":180602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":197702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:19.176 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":342804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:19.177 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":314904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":151001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:19.177 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":70500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":112602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:19.177 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":341604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":123801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:19.178 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":141002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:19.178 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":338503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":383704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":280503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.920 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":216503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":182702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":397405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3","description":"","id":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533067397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'","result":{"duration":561806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":507406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":413605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":395805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":618807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":433206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":321304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":414405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":390305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":142402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:19.459 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":574007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":284303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:19.460 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":338604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:19.460 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":134102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":204702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:19.461 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":440006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":118401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:19.461 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":201403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:19.462 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":405105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":472405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":306703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.931 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":203002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":327103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":361104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"918388cf-9d8c-4264-b108-3e375bde0d52","description":"","id":"918388cf-9d8c-4264-b108-3e375bde0d52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":556193981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'","result":{"duration":436705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":513106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":482006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":472206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":498406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":508406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":360004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":349604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":352405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":74001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:19.493 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":504305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":210302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:19.494 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":364505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:19.494 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":154702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":172202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:19.494 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":446005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:19.495 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":200503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:19.495 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":487706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":342704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":268803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:18.967 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":176302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":28701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":331103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","description":"","id":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":61401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":566695939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'","result":{"duration":458505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":464205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":436605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":429505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":474505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":451605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":315404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":314404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":334004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:19.539 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":531906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":239302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:19.540 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":355504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":63901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:19.541 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":156702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":170902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:19.541 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":461705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:19.542 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:19.542 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":447905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":387405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":278903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:19.181 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":203703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":93001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736849","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736849","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535218554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'","result":{"duration":465306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":11200433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":508706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":434406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":579607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":444205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4267650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":452706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":404505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":183302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:19.737 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":367904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:19.737 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":359704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":101702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:19.738 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":70800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":105701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:19.738 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":454405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:19.739 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":111502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:19.739 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":459905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":374704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":271103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:19.465 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":225302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","description":"","id":"aaf53e6f-fe99-4a86-a61c-50b128412d80","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539104796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'","result":{"duration":561007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":513306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":452505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":462306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":641608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":2263827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":364005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":401905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":380704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":111402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":119601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.012 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":348305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":157702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.012 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":341504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":144202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.013 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":69501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.013 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":447505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.013 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":126502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.013 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":440005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":386505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:19.498 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":187002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":338104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","description":"","id":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":144502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":30701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":570593171,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'","result":{"duration":461606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":476305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":439205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":429105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":520206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":439405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":333504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":380604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":382805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":108101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":93102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.074 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":343204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":151702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.075 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":338804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":156402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.075 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":99701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":112802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.076 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":445405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":113602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.076 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":116601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.076 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":448306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":376204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":601807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:19.545 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":190802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","description":"","id":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":142802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":579520676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'","result":{"duration":406005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":371804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":345404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":323203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":471206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":368605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":281504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":348804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":386305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":526306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":556407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.130 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":297803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":430805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.131 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":322804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":449305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.132 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":75101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":401405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.132 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":357404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":389204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.133 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":684108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.134 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":364104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":328804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":266803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:19.742 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":197503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":340704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","description":"","id":"e9ba7d7f-6cd1-4271-bce4-56432924b338","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":8501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":564924903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'","result":{"duration":560506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":492306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":427205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":396104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":483306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":449906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":335904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":413705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":343904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":946811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.313 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":383505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":81701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.314 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":618307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.314 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":281104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.315 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":654807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.315 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":348004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.316 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":892010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":527107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":312603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.017 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":205103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":352004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":87201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","description":"","id":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545645575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'","result":{"duration":566307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":503306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":467206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":424805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":499906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":458206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":326604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":309304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":335004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":381105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":296604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.578 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":415105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":206502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.579 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":469606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":181202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.579 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":158602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.580 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":611007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":72401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.580 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":334104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.581 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":427305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":1620520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":369004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.080 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":196202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":341704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","description":"","id":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538185686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'","result":{"duration":513506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":515007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":496706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":488306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":589307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":510106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":366404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":445605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":485605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":80901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.624 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":411405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.625 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":389804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.625 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":116401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.625 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":521107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.626 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":123501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.626 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":507506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":347204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":294603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.137 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":191202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":340004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":374205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","description":"","id":"008d85d1-460d-46f6-9af4-98afdedbc4dc","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":53201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531348304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'","result":{"duration":441905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":440105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":390404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":412505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":497006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":426205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":306304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":384104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":387304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":464406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":661008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.675 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":368305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":463805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.676 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":355605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":433405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.677 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":84801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":391605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.677 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":436905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":411205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.678 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":2075725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.680 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":400805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":356204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":269504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.320 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":263803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":91501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","description":"","id":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":34801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523807315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'","result":{"duration":656307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":558906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":544407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":537406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5162161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":482106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":344104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":427105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":408605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":722008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:20.856 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":412304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":508206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:20.856 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":380004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":557307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:20.857 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":91901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":413205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:20.858 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1014612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":393904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:20.859 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":690809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:20.860 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":497406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":431605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":305004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.586 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":228303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":388504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":142802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"54d2021b-e778-4834-a3c6-75c89d36b942","description":"","id":"54d2021b-e778-4834-a3c6-75c89d36b942","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":43601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546752287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'","result":{"duration":550606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":426305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":383804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":398005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":596907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":429805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":304004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":410905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":352504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":282204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":199102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.138 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":339204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":186802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.139 [print] OGC:WMTS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":367304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":203803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.140 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":109402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.140 [print] OGC:WMTS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":431905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.140 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":106801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.140 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":407605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":448506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":331204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.630 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":181402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":340004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"62c0d0a5-5826-406d-a625-d84bc5fec800","description":"","id":"62c0d0a5-5826-406d-a625-d84bc5fec800","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537905982,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'","result":{"duration":467305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":527007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":496006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":470505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":512007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":517206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":406605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":369705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":381405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":102501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.173 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":389805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.174 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":396004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.174 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.174 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":518806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.175 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":29201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.175 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":491406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":366804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":285003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.684 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":194602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":352804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":369805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"972edbaa-f860-4c48-b449-4f238a263472","description":"","id":"972edbaa-f860-4c48-b449-4f238a263472","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":559529439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'","result":{"duration":522906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":488405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":414304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":399904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":470106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":450706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":10182421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":505006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":396705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":525706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.259 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":366204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":124501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.260 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":356304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.261 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":86101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.261 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":694708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.262 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":352004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.263 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":941511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":422305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:20.864 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":225002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":362804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","description":"","id":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":516224425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'","result":{"duration":410505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":475605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":382004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":379005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":499106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":404905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":293603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":370605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":355504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":113801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.386 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":329904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":166902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.386 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":324904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":146102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.387 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":71301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":108901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.387 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":412405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":99501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.387 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":154101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.388 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":409005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":418005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":295203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.144 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":224402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":382405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"40f04047-3b61-40eb-b026-c1a0caa71881","description":"","id":"40f04047-3b61-40eb-b026-c1a0caa71881","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":57301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532121514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'","result":{"duration":809609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":653408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":658608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":825810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":674208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":461106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":554007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":545506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":89802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":122601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.683 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":613808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":133001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.684 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":532007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":110201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.685 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":160602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":554007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.686 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":753109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.686 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":251403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.687 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":683208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":564407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":391205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.178 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":187903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ceda1b88-32ac-40b2-a841-71eb041c9427","description":"","id":"ceda1b88-32ac-40b2-a841-71eb041c9427","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":522786803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'","result":{"duration":504006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":572806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":565607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":531007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":627607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":556307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":380905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":454706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":454905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.707 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":540406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":173902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.708 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":511406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":141401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.708 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":155002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":107302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.709 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":703708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":101201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.709 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":238203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.710 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":569507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":409805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":346304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.266 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":238403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","description":"","id":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":23601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":7800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533790034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'","result":{"duration":492506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":576107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":485806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":435305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":620507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":498106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":350204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":359204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":309003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":74001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.806 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":564807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.807 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":427905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.807 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":120101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.807 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":537906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":64800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.808 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.808 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":545306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":423605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.391 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":50601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":191503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1bd24d1e-aa13-4395-809e-893570f7c651","description":"","id":"1bd24d1e-aa13-4395-809e-893570f7c651","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":562530875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'","result":{"duration":457806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":477906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":445906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":444905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":459906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":448405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":306003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":306104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":317004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":498806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":523806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:21.960 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":365004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":409605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:21.961 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":373604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":416405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:21.962 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":377705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:21.962 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":427205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":404105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:21.963 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":614407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:21.963 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":9732416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":450705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.690 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":222103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":384504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","description":"","id":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546886289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'","result":{"duration":610007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":467305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":413505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":355505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":517206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":407205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":301504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":362204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":349404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":109701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:22.243 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":420105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":127702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:22.244 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":448105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":112101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:22.244 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":55901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:22.244 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":395804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:22.245 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:22.245 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":383205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":942611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":330704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.713 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":195003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":341804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":98601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","description":"","id":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546783888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'","result":{"duration":392105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":419205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":405905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":380804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":480906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":426605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":300503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":1967723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":413005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":602107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:22.267 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":383405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":490306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:22.268 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":371104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":415304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:22.269 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":217202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":383805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:22.270 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":432605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":371705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:22.270 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":640407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:22.271 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":441405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":345104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":296904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.811 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":235902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":362104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"280cee65-1b66-4973-a569-75122e0b745b","description":"","id":"280cee65-1b66-4973-a569-75122e0b745b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":45601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538911795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'","result":{"duration":541706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":435105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":388704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":365804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":511506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":402505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":292203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":353904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":346304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":101801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:22.355 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":887111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":134801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:22.356 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":622008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":107001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:22.357 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":325504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:22.357 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":679408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:22.358 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":345904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:22.359 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1368616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":440405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":312503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:21.976 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":4277551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":360004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":372904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","description":"","id":"108fec55-e467-4d04-ab35-fd0d7060e3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523359410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'","result":{"duration":435005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":437205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":411905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":392605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":564906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":432005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":304504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":389505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":362904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":762009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:22.510 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":366605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":546006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:22.511 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":351105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":497106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:22.512 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":77701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":544906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:22.513 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":517107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":371704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:22.513 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":2331828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:22.516 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":489806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":484606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":355804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:22.249 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":229503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"6c62e0a5-c215-4e47-94b0-a239e264417d","description":"","id":"6c62e0a5-c215-4e47-94b0-a239e264417d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":138501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":554939585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'","result":{"duration":1245215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1610819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1382517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1355016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1527418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":1413017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":878311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":933011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":984912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":162402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":370604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:22.827 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":949112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":244203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:22.828 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":1104813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":312404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:22.830 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":74001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":237303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:22.830 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1363316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":291104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:22.832 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":256503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:22.832 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1348716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":437405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:22.275 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":197202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","description":"","id":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":306004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547315094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'","result":{"duration":439805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":447805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":2496930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":411105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":2382828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":431806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":300404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":4490453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2883635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":98101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:22.839 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":347104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":123902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:22.839 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":433005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":172902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:22.840 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":63900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":171702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:22.840 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3801245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":172702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:22.844 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":161502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:22.844 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":864210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":333804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":272703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:22.363 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":247203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":404005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","description":"","id":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":104201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526266945,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'","result":{"duration":399105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":401705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":376304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":356804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":455205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":387305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":291803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":327204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":322404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":1129114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":115701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:22.895 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":350104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":178402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:22.896 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":316004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:22.896 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":65100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":115302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:22.897 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":408105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":110801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:22.897 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":129502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:22.897 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":403005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":315204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":6560578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:22.520 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":236703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":385204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":30801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":521706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"09588464-071b-47be-8cbe-d15f2e1f9634","description":"","id":"09588464-071b-47be-8cbe-d15f2e1f9634","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":584995941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'","result":{"duration":580606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":490805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":423605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":398305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":563406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":445305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":322704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":383805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":359904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":302903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":171102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:23.111 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":381105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":212803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:23.112 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":342704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":169402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:23.112 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":140902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:23.113 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":428305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":116702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:23.113 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":124601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:23.113 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":378505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":594107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":449206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":18201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:22.836 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":222003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":50501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":10938630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":331204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":480006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cea38797-ea4b-4969-b979-8d25eb543a6c","description":"","id":"cea38797-ea4b-4969-b979-8d25eb543a6c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":544244058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'","result":{"duration":546307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":530306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":471505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":456106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":581307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":497606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":359105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":349304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":326204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":75901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:23.398 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":523706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":145402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:23.398 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":433305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:23.399 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":272604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:23.399 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":457705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":80701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:23.400 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":183503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:23.400 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":454205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":514406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":285004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:22.848 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":199602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":331803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":958211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e75b66ae-21b1-4303-aeb3-787608707b23","description":"","id":"e75b66ae-21b1-4303-aeb3-787608707b23","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":20401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":581556501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'","result":{"duration":430205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":9790517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":458005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":426705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":538406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":472306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":318904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":379405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":383204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":694508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:23.446 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":368005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":141901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:23.446 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":657307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":147902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:23.447 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":397205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:23.448 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":745909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:23.449 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":347805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:23.449 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":971611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":314203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":257703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:22.909 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":183302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":328804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":1195114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","description":"","id":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":49301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546953590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'","result":{"duration":401304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":433105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":419205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":388005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":491906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":417705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":311703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":371005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":354204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":55501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":52701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:23.463 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":872410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:23.464 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":604907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":104502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:23.464 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":326704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:23.465 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":678008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:23.465 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":344204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:23.466 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":939811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":295203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":252703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:23.117 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":221603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":114401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a2724dae-ebad-4a07-9405-49bddfde3368","description":"","id":"a2724dae-ebad-4a07-9405-49bddfde3368","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":7400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":527272156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'","result":{"duration":466006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":463306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":441405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":440505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":534206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":474506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":326604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":393305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2593531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":123902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":131601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:23.652 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":886811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":129102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:23.653 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":687608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":116302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:23.654 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":371704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:23.655 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":781810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:23.656 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":378105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:23.656 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":476206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":370404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":283703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:23.403 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":236703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3e65fa1b-9bb1-41bd-9760-76962751b839","description":"","id":"3e65fa1b-9bb1-41bd-9760-76962751b839","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":550497232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'","result":{"duration":478706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":467005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":412505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":397005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":528506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":430005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":315004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":381105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":366204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:23.959 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":819910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":132602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:23.960 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":634108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:23.961 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":340404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:23.961 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":705909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:23.962 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":347204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:23.962 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":916111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":375005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":255403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:23.453 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":197302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":353904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","description":"","id":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":550603333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'","result":{"duration":427105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":499206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":462005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":406405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":441505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":416805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":352004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":358004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":313003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":70100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:24.009 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":334704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":72900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:24.009 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":324003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:24.009 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:24.010 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":429406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:24.010 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:24.010 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":423105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":325403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:23.469 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":197303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":336204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f57bdee7-4027-4aa2-8312-4051b854be3c","description":"","id":"f57bdee7-4027-4aa2-8312-4051b854be3c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":307703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543051244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'","result":{"duration":331004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":343204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":296404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":8757404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":417105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":343205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":244003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":303804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":323104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":55901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:24.026 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":269703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:24.026 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":266603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":92601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:24.026 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:24.027 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":331804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":68301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:24.027 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":70801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:24.027 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":320804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":319104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":239803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:23.660 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":207002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":336804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":40601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f76bdce5-344e-415f-8f2c-972755e80b65","description":"","id":"f76bdce5-344e-415f-8f2c-972755e80b65","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528301869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'","result":{"duration":496706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":479506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":456206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":427605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":607407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":485006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":336304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":420405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":386305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":73700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:24.194 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":589107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":160201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:24.195 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":463705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":174802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:24.195 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":189003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":119101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:24.196 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":593707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":104301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:24.196 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":214202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:24.197 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":574706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":373504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":278203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:23.966 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":206002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":347204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","description":"","id":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":7500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":523841516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'","result":{"duration":777009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":655008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":599507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":588107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":739409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":619008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":445205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":489005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":496806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":81401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:24.497 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":445805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":148102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:24.497 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":468706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":109901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:24.498 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":64201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":93101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:24.498 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":645708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":70901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:24.499 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":106601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:24.499 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":644907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":387305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":276603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:24.014 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":179602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":326004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3d759186-7cee-4218-aa44-165f3922fbbb","description":"","id":"3d759186-7cee-4218-aa44-165f3922fbbb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":369104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":14301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":7600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531503707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'","result":{"duration":402805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":442405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":417805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":397704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":529006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":433805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":320403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":375704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":424605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:24.568 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":344404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":194402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:24.569 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":353904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":108302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:24.569 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":134601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:24.569 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":471006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":122302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:24.570 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":146901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:24.570 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":454405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":370804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":299303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:24.030 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":192403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","description":"","id":"ec73f245-66ce-4144-ac27-5966c80a4b3a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":554178075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'","result":{"duration":423705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":495806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":479906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":471705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":502006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":509606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":358004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":346104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":359904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":70401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:24.589 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":384505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":104301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:24.590 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":395105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:24.590 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:24.590 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":504906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:24.591 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":71001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:24.591 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":530107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":321804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":329804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:24.200 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":189902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":373304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97a7d966-7261-49d4-bc08-c4900981f092","description":"","id":"97a7d966-7261-49d4-bc08-c4900981f092","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534923347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'","result":{"duration":513406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":532606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":482106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":474406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":583807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":533106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":377904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":415305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":433105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:24.741 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":381805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":162802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:24.742 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":395705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":106801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:24.742 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":99201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:24.742 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":522606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":74400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:24.743 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":115701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:24.743 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":541606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":358404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":276003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:24.502 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":214502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","description":"","id":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":59801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":7901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534425341,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'","result":{"duration":587007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":530606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":485006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":421805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":574807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":461406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":323704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":405805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":407705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":64601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":107901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:25.043 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":369605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":164402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:25.043 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":388505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":149502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:25.044 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":71901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":102001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:25.044 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":485106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":66001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:25.044 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":114601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:25.045 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":452406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":403605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":272703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:24.573 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":223202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":346504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"65f9628b-0a58-4348-8fff-c2d02788acdb","description":"","id":"65f9628b-0a58-4348-8fff-c2d02788acdb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551352743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'","result":{"duration":526306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":531507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":551706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":504906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":598507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":520006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":398404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":439605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":426805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":84901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:25.131 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":364504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":135801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:25.131 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":374805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":102401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:25.132 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":57701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":92201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:25.132 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":486406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":67901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:25.133 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":106401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:25.133 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":469906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":395605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":250203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:24.594 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":191302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"76854ff3-a853-4405-b9fd-acef66460376","description":"","id":"76854ff3-a853-4405-b9fd-acef66460376","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":652231039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'","result":{"duration":6052071,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":6884381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":6853082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":21835259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":7230486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":7242986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":4558254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":8813805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":5708968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":709608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":876811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:25.324 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":5670067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":539007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:25.330 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":4818057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1806622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:25.337 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":409005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:25.338 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":6739080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":383105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:25.345 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":656008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:25.345 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":6748780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":448705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":263703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:24.746 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":190303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":342704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"37e05521-c323-4dbe-aba4-de1178ba44a5","description":"","id":"37e05521-c323-4dbe-aba4-de1178ba44a5","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":7000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":666587310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'","result":{"duration":3709944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":5205962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":5526766,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5224362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":5222062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":22599568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":3460841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":3186738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":3490942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":627707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":309504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:25.473 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":3278539,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":219503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:25.476 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":3336540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":280903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:25.480 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":213802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:25.480 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":5309263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":194102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:25.486 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":81101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:25.486 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":5229262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":531907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":287703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:25.048 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":208902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":62801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8e7686c3-f75e-411f-866e-6985267b916b","description":"","id":"8e7686c3-f75e-411f-866e-6985267b916b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":33801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":7900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":587452870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'","result":{"duration":2873734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":4260850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":4306752,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":14530672,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":4425053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4906958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2493229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2531630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2978235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":655008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":1193414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:25.682 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2716832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":448505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:25.685 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2776533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":1269315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:25.689 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":358005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:25.690 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":11896241,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":5532966,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:25.707 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":142702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:25.707 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":6026571,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":310404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":247403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:25.142 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":201702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":419905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a84f9836-9111-4e45-a311-3dab39019e15","description":"","id":"a84f9836-9111-4e45-a311-3dab39019e15","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548340506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'","result":{"duration":448505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":488106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":462806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":452505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":483506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":463306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":324504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":343304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":351605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":494306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:25.697 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":398904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":392305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:25.697 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":399105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":3713244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:25.702 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":362404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:25.702 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":505706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":374005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:25.703 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":618407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:25.704 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":488806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":488006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":283204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:25.356 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":232902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":362304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","description":"","id":"018a28a5-1019-4747-b031-f66ffc1c6ae7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":36801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":7901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":582667314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'","result":{"duration":8264098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":688908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":559906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":510706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":577906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":544006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":354904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":355504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":374405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":112801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:25.953 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":855410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:25.954 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":686408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:25.955 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":284703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:25.955 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":791309,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:25.956 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":314504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:25.957 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1016612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":469405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":297704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:25.494 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":45300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":222302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":29001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","description":"","id":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":26301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":623457598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'","result":{"duration":2894534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":4256851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":4234850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":10807029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":4679455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":4353351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":2537730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":2485030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":2964035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":644108,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":111001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:26.159 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":2826334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":80501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:26.162 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":2906535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:26.165 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":163902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:26.165 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":4434953,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":83001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:26.170 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:26.170 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":4515754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":491106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":360904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:25.709 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":49401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":221803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":361604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":5825769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","description":"","id":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":568403545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'","result":{"duration":437605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":473905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":448606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":429305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":438805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":456706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":349405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":330504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":337404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":186202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:26.288 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":352404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":333204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:26.289 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":330504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:26.289 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":158602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":187202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:26.290 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":438405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":106202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:26.290 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":137802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:26.290 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":423005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":331604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":279403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:25.716 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":235903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":334004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"180b6682-5d6f-429d-abb7-32f7d6253787","description":"","id":"180b6682-5d6f-429d-abb7-32f7d6253787","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":100802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534042836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'","result":{"duration":1020112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":670708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":465106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":445905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":449106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":413805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":332604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":305004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":6227574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":63701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":694408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:26.263 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":405505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:26.264 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":611008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:26.264 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:26.265 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":688708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:26.265 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":632008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:26.266 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":506306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":465106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":275003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:25.960 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":355404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d981070b-888c-42d5-85ff-1e383f3d7fce","description":"","id":"d981070b-888c-42d5-85ff-1e383f3d7fce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535435754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'","result":{"duration":499206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":487006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":458805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":384604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":513906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":432606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":306504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":302904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":299103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":502906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":576506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:26.502 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":371004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":383105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:26.503 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":345304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":396605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:26.504 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":339504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:26.504 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":4030948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":400004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:26.509 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":593307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:26.509 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":457805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":473606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":295604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:26.177 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":219002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":360704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","description":"","id":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":92401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537482878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'","result":{"duration":535007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":414005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":348004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":326404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":391205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":346304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":267003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":265403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":274103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:26.719 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":321503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":72000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:26.720 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":291803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:26.720 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:26.720 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":376804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:26.721 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:26.721 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":353904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":736009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":347504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:26.269 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":207203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":361605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"598c4109-21d2-4a6c-b083-9975a6736853","description":"","id":"598c4109-21d2-4a6c-b083-9975a6736853","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":291003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545898277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'","result":{"duration":456206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":481706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":4641255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":513606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":503806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":459405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":323003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":298903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":321404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":52801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:26.825 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":445405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:26.826 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":676208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":63601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:26.826 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:26.827 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":692909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":89401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:26.828 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:26.828 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":449705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":365105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":277003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:26.293 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":188703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":353804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":377104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","description":"","id":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":552303053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'","result":{"duration":402304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":441105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":424805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":393505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":457505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":419305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":323804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":304004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":320704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":78601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:26.853 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":726609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":68201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:26.854 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":603608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:26.855 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":269303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:26.855 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":693208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:26.856 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:26.856 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":439205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":326004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":245303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:26.513 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":29601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":214302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":475306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":390205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","description":"","id":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":30901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530011389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'","result":{"duration":634308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":569807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":451505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":5100361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":624107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":528206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":362805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":353804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":369905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":65401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":107701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.054 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":396005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":179502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.055 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":400505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":66101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.055 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":85101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.055 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":549907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":114701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.056 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":83501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.056 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":507406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":430805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":267303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:26.724 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":214902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":341704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","description":"","id":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":7300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":561621964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'","result":{"duration":827810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":770209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":717509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":695908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":695808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":663807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":463205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":453905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":474406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":87501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":116001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.293 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":996711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.294 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":787409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":68901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.295 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":324904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.295 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":5165561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":73501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.301 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":695908,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.301 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":728308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":495806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":388505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:26.831 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":43801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":194402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":40801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","description":"","id":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":267103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538050230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'","result":{"duration":497605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":455405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":351804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":340003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":405304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":382004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":285703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":269003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":280703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":75701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.375 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":482606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":105301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.375 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":334504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":63201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.376 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":176702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.376 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":406505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":77201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.376 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":194402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.377 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":385705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":447805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":256803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:26.860 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":189102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":339104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","description":"","id":"67bcc21d-beda-449d-975c-00a4fa80f2b7","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":545426387,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'","result":{"duration":410504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":415705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":403604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":373804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":407004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":394505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":292504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":290403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":303703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":74201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.411 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":445805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":104801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.411 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":436104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.412 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":210602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.412 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":458405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":98402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.413 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.413 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":381404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":320703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":441305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.059 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":233903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","description":"","id":"72f30ca1-3b80-4020-b9ed-301b1a88df39","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":23501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551886999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'","result":{"duration":454005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":443305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":416804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":396705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":437505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":381704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":285703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":275203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":312204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":75801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.616 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":316104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.616 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":308503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":57400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.617 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":24701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.617 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":393305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.617 [print] Rijksinstituut voor Volksgezondheid en Milieu \n","line":56}},{"name":"print operateson","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.617 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":384405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":392904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":270603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.305 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":228303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":353304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c374d556-7b6e-459b-83c7-74da6ad90a59","description":"","id":"c374d556-7b6e-459b-83c7-74da6ad90a59","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":547693657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'","result":{"duration":495805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":481905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":469605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":443105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":6695874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":489605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":333403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":326704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":307604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":123102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.865 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":538806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.865 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":485405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":65400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.866 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":149701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.866 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":518205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.867 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":147202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.867 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":530006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":421505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":622607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.380 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":361504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","description":"","id":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":117001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536567734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'","result":{"duration":433505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":468805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":388605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":361304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":431705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":404604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":308303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":286104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":304303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":53601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.921 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1105612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.922 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":393904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.923 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":78301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.923 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":434905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.924 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":110001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.924 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":431805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":327404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":255003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.416 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":205403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":383805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"7f79fc69-d0c7-4913-a05a-527c90453297","description":"","id":"7f79fc69-d0c7-4913-a05a-527c90453297","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":26301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":536752136,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'","result":{"duration":370504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":376504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":397704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":337503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":386105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":5220258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":337104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":290903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":287104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":61801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:27.963 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":396005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:27.963 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":371304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":87001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:27.964 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:27.964 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":374104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:27.965 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:27.965 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":378004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":311104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":249303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.620 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":200702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":357204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","description":"","id":"923a666c-ee4f-496c-8c85-94d5f81e1f30","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529830459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'","result":{"duration":468605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":418505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":338204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":318503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":361904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":331003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":260403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":251603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":270503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":60401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":71800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:28.154 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":846709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":76001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:28.155 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":589406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":67500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:28.156 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":287704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:28.156 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":591107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":67801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:28.157 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":349204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:28.157 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":830709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":410205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":270003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.870 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":198602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":346404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":74800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","description":"","id":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":92901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":40001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537921149,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'","result":{"duration":587307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":517206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":488905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":488806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":533206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":492006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":351104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":358504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":390105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":122802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:28.414 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":366704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":88501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:28.415 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":373404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":78401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:28.415 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:28.415 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":492006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":81501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:28.416 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:28.416 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":467805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":381804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":253503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.931 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":35401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":183002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":364404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":97801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","description":"","id":"1009c2a4-4dba-49a5-b643-914ba8b80b52","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":100001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548768469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'","result":{"duration":473505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":466605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":416505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":393904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":412004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":386505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":305603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":5794564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":322804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":159601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:28.490 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":315704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":114001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:28.491 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":311604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":53701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:28.491 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":31001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:28.491 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":388504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":59301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:28.492 [print] KNMI \n","line":56}},{"name":"print operateson","result":{"duration":82901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:28.492 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":357004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":349204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":245603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:27.967 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":68401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":203903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":539906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":31901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":66401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","description":"","id":"94f241c2-43a2-42c3-8e9e-71976605aa0e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":543288208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'","result":{"duration":828409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":1118312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":1095813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":1118712,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":1117613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":5152257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":844410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":762308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":799809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":157702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":251403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:28.525 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":790409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:28.526 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":784308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":111802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:28.528 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":98601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:28.528 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1127313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":107501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:28.529 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":119902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:28.530 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1084012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":455305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":344404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.161 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":85601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":55401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":260503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":52201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":386104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":48201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":81001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","description":"","id":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":397404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541731292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'","result":{"duration":511706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":447305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":446805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":402404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":449305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":429905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":334703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":324403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":319704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":76701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:28.708 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":319204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":99301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:28.709 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":322903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":79800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:28.709 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:28.709 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1020511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:28.710 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:28.711 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":490605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":391905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":288303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.419 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":240603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1634718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":78801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","description":"","id":"5b40b9b4-fcb2-4553-bcab-34824c43c992","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":270803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546167641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'","result":{"duration":684008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":549106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":4890754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":428605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":469605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":473406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":346604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":313704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":354204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":266403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":288403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:28.977 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":363404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":184702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:28.977 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":360704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":170602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:28.978 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":80201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:28.978 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":441905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":119302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:28.979 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":69000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:28.979 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":431804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":511805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.494 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":193502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":160802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","description":"","id":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":571404320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'","result":{"duration":481205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":434504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":387505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":365504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":415005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":385104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":281104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":309203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":294104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":2081423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":600406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.073 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":344803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":408504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.074 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":359904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":413305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.075 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":343904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.075 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":3813242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":424905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.080 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":643207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.080 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":469605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":492206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":311703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.533 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":191002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":340204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"b7880739-a701-4cc0-bb32-2bba61fa8924","description":"","id":"b7880739-a701-4cc0-bb32-2bba61fa8924","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":558485477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'","result":{"duration":516206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":394804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":362904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":349604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":386904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":386804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":305503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":339603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":290103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":465105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":471505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.097 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":347703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":377205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.098 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":333204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":367104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.099 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":359004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.099 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":473706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":405804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.100 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":585007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.101 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":431205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":359904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":292703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.714 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":30401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":196502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":349304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":75901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"97312a37-4ebf-4526-94e6-b29e90c2944a","description":"","id":"97312a37-4ebf-4526-94e6-b29e90c2944a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542228197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'","result":{"duration":546606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":966311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":361404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":350204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":441305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":378105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":6526972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":311903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":281203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":144902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":114901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.268 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":274804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":100101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.268 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":266803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":85001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.268 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":47201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.269 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":367704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":91001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.269 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":46201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.269 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":557506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":478905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":273803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:28.982 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":238902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":102902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"e29b19de-d191-47f2-b944-5056a7674cce","description":"","id":"e29b19de-d191-47f2-b944-5056a7674cce","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":531890082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'","result":{"duration":636107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":867110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":337203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":305903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":373604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":317304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":782509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":249503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":240103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":4238347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.524 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":328303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":158201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.524 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":295304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":120801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.525 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":36201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":72101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.525 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":7156879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":131801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.532 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":71900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.532 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":369104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":491705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":331304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.084 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":217003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":364304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","description":"","id":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":47901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":551461799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'","result":{"duration":525406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":461505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":423805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":396905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":465505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":456405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":342803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":316103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":359704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":702008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.642 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":402204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":413104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.642 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":337304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":362404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.643 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":35201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":351604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.644 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":688607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":384604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.645 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":582906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.645 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":411204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":436805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":270603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.104 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":183302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":363204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":383504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","description":"","id":"641a0f48-872b-4470-b130-e3d28e6bfdfb","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":34201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":559228485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'","result":{"duration":414105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":372104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":357204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":345104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":379204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":345604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":256802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":6765574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":324903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":476306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":518805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.675 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":366804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":382204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.676 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":369204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":360504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.677 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":33501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":335804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.677 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":402104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":361804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.678 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":795409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.679 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":381105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":397104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":291803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.272 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":197403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":95401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f917ffa9-1531-48ea-867e-0d413d85b05a","description":"","id":"f917ffa9-1531-48ea-867e-0d413d85b05a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":535404521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'","result":{"duration":520806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":424905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":370704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":326304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":411205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":404104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":26801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":304003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":258403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":266103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":62101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":127302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:29.813 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":320503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":89601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:29.813 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":298503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":82001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:29.814 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:29.814 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":377604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:29.814 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:29.814 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":334604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":481205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":300204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.540 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":261103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":368404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":100701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"5be1b57b-2cac-4119-92eb-700346543d47","description":"","id":"5be1b57b-2cac-4119-92eb-700346543d47","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537970250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'","result":{"duration":539506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":412005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":352904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":323803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":399105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":372004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":278003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":254303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":275103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":277503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":600907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.083 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":376404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":442005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.084 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":332504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":61601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.085 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":97301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.085 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":425405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":57401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.085 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":140802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.086 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":404704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":475106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.649 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":204802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":367004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":385204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"060d1139-c371-4c1e-9890-55999adfa4f9","description":"","id":"060d1139-c371-4c1e-9890-55999adfa4f9","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":546064839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'","result":{"duration":369704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":373004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":341504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":12040533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":382304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":353204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":20501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":241703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":247702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":250902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":48801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":51801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.212 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":267703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.212 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":251403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":37501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.213 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.213 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":325104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.213 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n","line":56}},{"name":"print operateson","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.213 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1583817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":355403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":264003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.682 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":190402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":345104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":361104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","description":"","id":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":24401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":590848434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'","result":{"duration":480505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":484906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":478205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":445605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":471605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":460905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":333404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":323604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":332603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":70500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":183602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.279 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":374504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":122101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.279 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":360504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.279 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.280 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":570006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":62301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.280 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":28601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.280 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":479005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":400205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":250202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:29.817 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":207303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","description":"","id":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537623046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'","result":{"duration":381005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":404504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":371104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":878009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":361204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":337603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":257203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":242802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":795608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":53801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.360 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":842209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":71501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.361 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":596107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":63801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.362 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":291203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.362 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":554906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.363 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":308703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.363 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":797909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":328104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":783609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.089 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":205502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":45801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","description":"","id":"555f668f-63b4-47ef-a666-f12d71c2cc4a","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":7700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529606858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'","result":{"duration":472905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":918911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":316603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":292404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":359504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":315303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":755708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":225903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":243803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":85800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.624 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":827409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":82101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.625 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":568006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":73101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.625 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":302304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.626 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1073112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":60001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.627 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":714708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.628 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":304804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":482005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":272903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.217 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":194502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":343404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68505be5-45c4-4889-a82a-125043bbdc44","description":"","id":"68505be5-45c4-4889-a82a-125043bbdc44","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":2700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537457544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'","result":{"duration":399304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":909510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":451605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":311503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":330504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":304603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":20201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":792809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":246502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":223202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":54601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.760 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":859909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":386305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.762 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":266103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.762 [print] OGC:WFS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":23101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.762 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":851909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.763 [print] TNO Geologische Dienst Nederland \n","line":56}},{"name":"print operateson","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.763 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":311004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":440005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":262103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.283 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":223702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","description":"","id":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":23301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":532962194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'","result":{"duration":365905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":371704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":348904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":336204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":907910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":362904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":254703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":247403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":264003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":94401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.821 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":815909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":57001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.822 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":287503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.822 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.822 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":373204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.823 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":24601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.823 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":359804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":342904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":257103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.367 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":211003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":321104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","description":"","id":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":516876916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'","result":{"duration":329203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":349203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":856509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":303503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":369904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":337704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":234203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":752408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":220203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":47500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:30.889 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":977211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":62701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:30.890 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":246903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:30.891 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":23801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:30.891 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":324104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:30.891 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:30.891 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":855409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":393505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":303903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.631 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":49601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":218602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":366604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","description":"","id":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529761259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'","result":{"duration":449805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":407205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":344904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":348304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":388904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":335404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":254002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":242502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":251003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":61001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":85301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.165 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1009611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.167 [print] OGC:WFS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":553507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":60900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.167 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":275104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":73700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.168 [print] OGC:WFS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":571306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":62201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.168 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":609906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.169 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":350903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":486605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.766 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":202702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":326503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"95e2c712-1b91-4f24-9453-c56b95227717","description":"","id":"95e2c712-1b91-4f24-9453-c56b95227717","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":521193264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'","result":{"duration":463505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":432405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":407905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":380404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":433705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":408305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":298203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":292003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":328504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":79001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.292 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":884510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":466206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.293 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":353704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":410104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.294 [print] OGC:WMS \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":378004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.294 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":451305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":358104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.295 [print] RIVM \n","line":56}},{"name":"print operateson","result":{"duration":595407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.296 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":390705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":452905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":298503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":12701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.826 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":185102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":318903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","description":"","id":"dc9fbc85-1263-4a1b-b001-7be701a6039e","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534608413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'","result":{"duration":336404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":364704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":341204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":314503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":350004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":374704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":259703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":260803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":264502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":52101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.365 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":293603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":121102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.365 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":291103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":54101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.366 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":59601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.366 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":338504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":51100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.366 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":57501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.366 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":321104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":375704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":254603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:30.894 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":185302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":322703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":5200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":538286353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'","result":{"duration":441605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":479805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":483106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":488105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":505706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":449105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":301103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":313004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":299103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":185202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":101101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.438 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":348403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":113401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.438 [print] OGC:WCS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":338504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":104701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.439 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":62001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.439 [print] OGC:WCS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":453705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":121302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.440 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":66701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.440 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":443905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":382804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":27801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.172 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":221303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":356404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":539378566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'","result":{"duration":769408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":911710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":891410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":928210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":944511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":909710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":573507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":577806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":651808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":119801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":82701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.720 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1052112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.721 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":943910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.722 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":280203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":84301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.723 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":1150913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":76401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.724 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":677208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.725 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":817409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":426705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":274603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.299 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":223703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":1169313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":46001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":71401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","description":"","id":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":70700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":542636001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'","result":{"duration":560907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":691207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":669608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":665707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":726209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":742008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":493906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":461605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":511506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":100001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":81601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.850 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":948411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":73901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.851 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":926810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":62401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.852 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":321004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.852 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":996611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.853 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":292004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.853 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1099612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":399004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":304403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.369 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":179702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","description":"","id":"adn83730-e750-485a-9c0c-39bf9bt72cf8","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":560043094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'","result":{"duration":392705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":472005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":438005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":460805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":462505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":441705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":327304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":314504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":318803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":583907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:31.934 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":343603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:31.935 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":568607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:31.935 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":287903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":52800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:31.936 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":639408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:31.936 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":651308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:31.937 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":437305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":356004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":324003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.443 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":194402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":378204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":40800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"wt-f297898-2640-44c2-bbe9-c0480dt83794","description":"","id":"wt-f297898-2640-44c2-bbe9-c0480dt83794","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":58500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":116502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dt83794'","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":569584000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dt83794'","result":{"duration":351704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":412104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":433204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":380704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":442505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":393804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":283203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":273303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":280403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":95101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":634407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.018 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":337503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.018 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":581406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":91301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.019 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":44201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.035 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":459705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.036 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":21001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.036 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":411804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":406705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":287303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.728 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":199102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":277103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":25201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":548666568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'","result":{"duration":691708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":704008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":655207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":616807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":682708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":645407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":423404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":423305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":492006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":82201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":116101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.284 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":472705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":107602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.284 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":464805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":58001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.285 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.285 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":669907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":88901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.286 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.286 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":649307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":483106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":378004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.857 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":40201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":211202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":348004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"wt-f297898-2640-44c2-bbe9-c0480df83794","description":"","id":"wt-f297898-2640-44c2-bbe9-c0480df83794","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'wt-f297898-2640-44c2-bbe9-c0480df83794'","result":{"duration":26701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541851192,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480df83794'","result":{"duration":568906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":592507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":482305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":468806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":516505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":509106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":349904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":330903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":349904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":60101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":95901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.405 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":982211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.406 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":697808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.407 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":331604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.407 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":818509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.408 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":332703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.409 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":1027912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":460505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":270303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:31.940 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":176802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":30201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":328303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","description":"","id":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":277303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":564146139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'","result":{"duration":626007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":756308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":736308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":702708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":729208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":715008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":506306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":472205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":4408948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":134401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":574406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.516 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":516805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":60801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.517 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":781609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":60301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.518 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":270303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.518 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":944810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":61301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.519 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":727408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.520 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":662707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":379105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":278603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.038 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":32201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":177502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":59201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"wt-f297898-2640-44c2-bbe9-c0480dm83794","description":"","id":"wt-f297898-2640-44c2-bbe9-c0480dm83794","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dm83794'","result":{"duration":41401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530419266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dm83794'","result":{"duration":387005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":438505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":398304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":435405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":433905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":418305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":293604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":312203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":289903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":666408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.574 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":359704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":65701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.575 [print] OGC:WMS \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":584006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":55601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.575 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":293903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":51901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.576 [print] OGC:WMS \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":667207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":69600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.576 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":294604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.577 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":902710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":352604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":294603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.289 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":230403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":337004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":76801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tn-2c7040b-c448-451b-bf15-f2416etaadd1","description":"","id":"tn-2c7040b-c448-451b-bf15-f2416etaadd1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'","result":{"duration":24001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":529558356,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'","result":{"duration":448405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":475205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":430205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":412505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":461005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":441005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":321304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":336804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":329104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":646707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":568606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.825 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":381104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":437105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.826 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":350904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":361504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.827 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":328903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.827 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":443105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":372804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.828 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":572106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.829 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":420405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":435305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":285203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.412 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":40301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":220803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","description":"","id":"cb13a608-3d78-4f79-ba60-be63ccd6e268","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":320803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":541105185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'","result":{"duration":372704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":408205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":378904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":337804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":377104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":368304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":262303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":258203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":243303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":60400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:32.958 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":267803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":83901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:32.959 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":270303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":70701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:32.959 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":24301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:32.959 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":386905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":54500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:32.960 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":57201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:32.960 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":342704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":384104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":244803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.523 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":216803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":338804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":46701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","description":"","id":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":269503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":6500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":522989584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'","result":{"duration":393205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":455405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":392104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":390205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":425405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":368304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":291204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":270603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":275403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":52501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.051 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":435405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.052 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":311004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":90701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.052 [print] INSPIRE Atom \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":124701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.052 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":504606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":58901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.053 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":64500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.053 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":502805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":424705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":276703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.580 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":26301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":184002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":324904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"d0b60508-5bf5-4360-b34a-875f10a9a711","description":"","id":"d0b60508-5bf5-4360-b34a-875f10a9a711","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":282503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'd0b60508-5bf5-4360-b34a-875f10a9a711'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":530907272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd0b60508-5bf5-4360-b34a-875f10a9a711'","result":{"duration":327904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":362104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":320103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":304903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":348404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":333004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":259703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":247603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":255003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":73001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.116 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":814409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":69301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.117 [print] INSPIRE Atom \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":606907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.117 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":341403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":70101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.118 [print] INSPIRE Atom \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":619907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":63001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.118 [print] Beheer PDOK \n","line":56}},{"name":"print operateson","result":{"duration":326204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.119 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":944110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":386905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":269603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.832 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":214402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":329803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":23901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":361304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tn-2c7040b-c448-451b-bf15-f2416efaadd1","description":"","id":"tn-2c7040b-c448-451b-bf15-f2416efaadd1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":537176141,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'","result":{"duration":689708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":817409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":729408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":708508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":693408,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":655907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":428805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":454705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":484505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":93301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":88601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.377 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":972210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":74200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.378 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":809208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":60800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.379 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":282703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.379 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":985511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":65101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.380 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":683808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.381 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":671807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":457005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":282304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:32.962 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":199902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":331303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621fd336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621fd336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":534410211,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'","result":{"duration":408804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":430504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":412205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":424405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":451605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":434005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":34600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":298503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":293603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":311604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":53000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":73000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.502 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":436205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":96601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.502 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":443305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.503 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":23701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":193602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.503 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":443805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":54901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.503 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":56300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.503 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":436804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":409104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":378804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.056 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":186202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":333604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"tn-2c7040b-c448-451b-bf15-f2416emaadd1","description":"","id":"tn-2c7040b-c448-451b-bf15-f2416emaadd1","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'","result":{"duration":117701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":528324643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":2201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'","result":{"duration":515805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":541906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":509405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":540206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":546106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":513605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":20701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":359404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":355804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":381704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":67201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":65301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.590 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wms?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":398304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":93901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.591 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":398804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":86301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.591 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":28101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.591 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":561406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":57901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.592 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":57201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.592 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":525006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":385804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":264103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.122 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":38001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":196202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":32500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":338004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"cf69ec50-9849-4afd-853c-ee5621md336d","description":"","id":"cf69ec50-9849-4afd-853c-ee5621md336d","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":8500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":540445977,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'","result":{"duration":410905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":500505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":447305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":442704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":474705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":463005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":294803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":289003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":332804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":51301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":61101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.668 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":428004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":394505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.669 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":365404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":55701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.669 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":290904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.670 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":663207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":72301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.670 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":298403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.671 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":998511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":338603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":259903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.384 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":39801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":217203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":350904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":27301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":70800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":25701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526109618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'","result":{"duration":495205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":519006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":479205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":466906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":517406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":490905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":344203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":347303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":380004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":58501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":78600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:33.916 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":1059511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":437005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:33.917 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":421105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":413505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:33.918 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":382204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:33.919 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":553406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":442105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:33.920 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":661107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:33.920 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":486005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":381104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":275604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.506 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":39901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":196102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":335303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":25801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":77501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","description":"","id":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":516230109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'","result":{"duration":484005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":532506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":483805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":470805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":499306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":486305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":353303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":369404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":367004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.028 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":898410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":110301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.029 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":15911076,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.045 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":21601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.045 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":505805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":44401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.046 [print] Rijkswaterstaat \n","line":56}},{"name":"print operateson","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.046 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":476005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":394804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":256703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.595 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":187002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":354103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"12505d53-a942-467e-a462-ddbe5ac6467f","description":"","id":"12505d53-a942-467e-a462-ddbe5ac6467f","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":3900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":533896704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'","result":{"duration":401504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":398505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":371804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":369904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":457705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":389705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":278903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":341804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":319203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":720508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.134 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":303704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":56401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.134 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":555806,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":59101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.135 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":281603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.135 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":649808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.136 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":86501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.136 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":363104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":314003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":234603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.674 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":27601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":189202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":328004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":26301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","description":"","id":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":11801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":3700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":3300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":606918312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'","result":{"duration":405904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":423105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":432805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":381304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":429704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":410505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":285904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":281803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":273503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":56801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.286 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":508105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":86701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.287 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":408105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":52301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.287 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":144302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.287 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":468205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":71101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.288 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":143101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.288 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":471105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":317003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":250502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/'","result":{"duration":16201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"04:59:33.923 karate.env system property was: null \n","line":5}},{"name":"def mystorage = Java.type('storage.DataStorage')","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def db = new mystorage","result":{"duration":37801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def db = db.setfeature(karate.info.featureFileName)","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def separator = java.lang.System.getProperty(\"file.separator\")","result":{"duration":191902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'","result":{"duration":33301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def list = karate.read(idfile)","result":{"duration":331303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def outputpath = db.outputpath()","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"eval db.ensureDirectory(outputpath)","result":{"duration":364704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13}]},{"line":67,"name":"8a772a52-d659-47b3-a131-82398fb78664","description":"","id":"8a772a52-d659-47b3-a131-82398fb78664","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":22},{"name":"param service = 'CSW'","result":{"duration":15301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"param version = '2.0.2'","result":{"duration":4100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"param request = 'GetRecordById'","result":{"duration":4600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"param id = '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"param elementsetname = 'full'","result":{"duration":3600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method get","result":{"duration":526170919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29},{"name":"status 200","result":{"duration":1200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'","result":{"duration":428805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue","result":{"duration":408404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString","result":{"duration":370204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def email = get response \/\/electronicMailAddress\/CharacterString","result":{"duration":360804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')","result":{"duration":409804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')","result":{"duration":372004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')","result":{"duration":297404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39},{"name":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')","result":{"duration":278403,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')","result":{"duration":297903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":43},{"name":"string connectUrl = db.getCorrectedUrl(connectrawUrl)","result":{"duration":577307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"print connectUrl","result":{"duration":557206,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"04:59:34.456 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n","line":45}},{"name":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')","result":{"duration":344504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"print protocol1","result":{"duration":409705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50,"doc_string":{"content_type":"","value":"04:59:34.456 [print] #notpresent \n","line":50}},{"name":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')","result":{"duration":329903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"print protocol2","result":{"duration":406804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52,"doc_string":{"content_type":"","value":"04:59:34.457 [print] #notpresent \n","line":52}},{"name":"string protocol = protocol1 ? protocol1 : protocol2","result":{"duration":38901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"print protocol","result":{"duration":372004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54,"doc_string":{"content_type":"","value":"04:59:34.458 [print] #notpresent \n","line":54}},{"name":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href","result":{"duration":431405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":55},{"name":"print organisationpath","result":{"duration":472205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"04:59:34.459 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n","line":56}},{"name":"print operateson","result":{"duration":222903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":57,"doc_string":{"content_type":"","value":"04:59:34.459 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n","line":57}},{"name":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName","result":{"duration":368504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')","result":{"duration":385704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":62},{"name":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')","result":{"duration":239003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63}],"tags":[{"name":"@step1","line":1}]}],"name":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","description":"get details","id":"get-details","keyword":"Feature","uri":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","tags":[{"name":"@step1","line":1}]}]